<!doctype html><html lang="en"><head><title data-rh="true">Разбираемся с lock-файлами в NPM 5 | by Andrey Melikhov | devSchacht | Medium</title><meta data-rh="true" charset="utf-8"/><meta data-rh="true" name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1,maximum-scale=1"/><meta data-rh="true" name="theme-color" content="#000000"/><meta data-rh="true" name="twitter:app:name:iphone" content="Medium"/><meta data-rh="true" name="twitter:app:id:iphone" content="828256236"/><meta data-rh="true" property="al:ios:app_name" content="Medium"/><meta data-rh="true" property="al:ios:app_store_id" content="828256236"/><meta data-rh="true" property="al:android:package" content="com.medium.reader"/><meta data-rh="true" property="fb:app_id" content="542599432471018"/><meta data-rh="true" property="og:site_name" content="Medium"/><meta data-rh="true" property="og:type" content="article"/><meta data-rh="true" property="article:published_time" content="2017-10-07T12:56:00.346Z"/><meta data-rh="true" name="title" content="Разбираемся с lock-файлами в NPM 5 | by Andrey Melikhov | devSchacht | Medium"/><meta data-rh="true" property="og:title" content="Разбираемся с lock-файлами в NPM 5"/><meta data-rh="true" property="twitter:title" content="Разбираемся с lock-файлами в NPM 5"/><meta data-rh="true" name="twitter:site" content="@devschacht"/><meta data-rh="true" name="twitter:app:url:iphone" content="medium://p/4bf615c6cd50"/><meta data-rh="true" property="al:android:url" content="medium://p/4bf615c6cd50"/><meta data-rh="true" property="al:ios:url" content="medium://p/4bf615c6cd50"/><meta data-rh="true" property="al:android:app_name" content="Medium"/><meta data-rh="true" name="description" content="Следующая мажорная версия NPM приносит ряд улучшений по сравнению с предыдущими версиями с точки зрения скорости, безопасности и множества других отличных вещей. Однако самым необычным с точки зрения…"/><meta data-rh="true" property="og:description" content="Перевод статьи Jiří Pospíšil: Understanding lock files in NPM 5. Опубликовано с разрешения автора."/><meta data-rh="true" property="twitter:description" content="Перевод статьи Jiří Pospíšil: Understanding lock files in NPM 5. Опубликовано с разрешения автора."/><meta data-rh="true" property="og:url" content="https://medium.com/devschacht/understanding-lock-files-in-npm-5-4bf615c6cd50"/><meta data-rh="true" property="al:web:url" content="https://medium.com/devschacht/understanding-lock-files-in-npm-5-4bf615c6cd50"/><meta data-rh="true" property="og:image" content="https://miro.medium.com/max/1125/1*Ol_Cbq4xAJLwHgZKgJFbZQ.png"/><meta data-rh="true" name="twitter:image:src" content="https://miro.medium.com/max/1125/1*Ol_Cbq4xAJLwHgZKgJFbZQ.png"/><meta data-rh="true" name="twitter:card" content="summary_large_image"/><meta data-rh="true" property="article:author" content="https://medium.com/@amel_true"/><meta data-rh="true" name="twitter:creator" content="@amel_true"/><meta data-rh="true" name="author" content="Andrey Melikhov"/><meta data-rh="true" name="robots" content="index,follow,max-image-preview:large"/><meta data-rh="true" name="referrer" content="unsafe-url"/><meta data-rh="true" name="twitter:label1" content="Reading time"/><meta data-rh="true" name="twitter:data1" content="6 min read"/><link data-rh="true" rel="search" type="application/opensearchdescription+xml" title="Medium" href="https://medium.com/osd.xml"/><link data-rh="true" rel="apple-touch-icon" sizes="152x152" href="https://miro.medium.com/fit/c/152/152/1*sHhtYhaCe2Uc3IU0IgKwIQ.png"/><link data-rh="true" rel="apple-touch-icon" sizes="120x120" href="https://miro.medium.com/fit/c/120/120/1*sHhtYhaCe2Uc3IU0IgKwIQ.png"/><link data-rh="true" rel="apple-touch-icon" sizes="76x76" href="https://miro.medium.com/fit/c/76/76/1*sHhtYhaCe2Uc3IU0IgKwIQ.png"/><link data-rh="true" rel="apple-touch-icon" sizes="60x60" href="https://miro.medium.com/fit/c/60/60/1*sHhtYhaCe2Uc3IU0IgKwIQ.png"/><link data-rh="true" rel="mask-icon" href="https://cdn-static-1.medium.com/_/fp/icons/Medium-Avatar-500x500.svg" color="#171717"/><link data-rh="true" rel="preconnect" href="https://glyph.medium.com" crossOrigin=""/><link data-rh="true" id="glyph_preload_link" rel="preload" as="style" type="text/css" href="https://glyph.medium.com/css/unbound.css"/><link data-rh="true" id="glyph_link" rel="stylesheet" type="text/css" href="https://glyph.medium.com/css/unbound.css"/><link data-rh="true" rel="author" href="https://medium.com/@amel_true"/><link data-rh="true" rel="canonical" href="understanding-lock-files-in-npm-5-4bf615c6cd50.html"/><link data-rh="true" rel="alternate" href="android-app://com.medium.reader/https/medium.com/p/4bf615c6cd50"/><script data-rh="true" type="application/ld+json">{"@context":"http:\u002F\u002Fschema.org","@type":"NewsArticle","image":["https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F1200\u002F1*Ol_Cbq4xAJLwHgZKgJFbZQ.png"],"url":"https:\u002F\u002Fmedium.com\u002Fdevschacht\u002Funderstanding-lock-files-in-npm-5-4bf615c6cd50","dateCreated":"2017-06-20T08:01:04.884Z","datePublished":"2017-06-20T08:01:04.884Z","dateModified":"2018-06-20T08:54:40.629Z","headline":"Разбираемся с lock-файлами в NPM 5 - devSchacht - Medium","name":"Разбираемся с lock-файлами в NPM 5 - devSchacht - Medium","description":"Следующая мажорная версия NPM приносит ряд улучшений по сравнению с предыдущими версиями с точки зрения скорости, безопасности и множества других отличных вещей. Однако самым необычным с точки зрения…","identifier":"4bf615c6cd50","author":{"@type":"Person","name":"Andrey Melikhov","url":"https:\u002F\u002Fmedium.com\u002F@amel_true"},"creator":["Andrey Melikhov"],"publisher":{"@type":"Organization","name":"devSchacht","url":"https:\u002F\u002Fmedium.com\u002Fdevschacht","logo":{"@type":"ImageObject","width":133,"height":60,"url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F266\u002F1*5t8Dk1Am7uFQoVweyKRTjA.jpeg"}},"mainEntityOfPage":"https:\u002F\u002Fmedium.com\u002Fdevschacht\u002Funderstanding-lock-files-in-npm-5-4bf615c6cd50"}</script><style type="text/css" data-fela-rehydration="465" data-fela-type="STATIC">html{box-sizing:border-box}*, *:before, *:after{box-sizing:inherit}body{margin:0;padding:0;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;color:rgba(0,0,0,0.8);position:relative;min-height:100vh}h1, h2, h3, h4, h5, h6, dl, dd, ol, ul, menu, figure, blockquote, p, pre, form{margin:0}menu, ol, ul{padding:0;list-style:none;list-style-image:none}main{display:block}a{color:inherit;text-decoration:none}a, button, input{-webkit-tap-highlight-color:transparent}img, svg{vertical-align:middle}button{background:transparent;overflow:visible}button, input, optgroup, select, textarea{margin:0}:root{--reach-tabs:1;--reach-menu-button:1}#speechify-root{font-family:Sohne, sans-serif}</style><style type="text/css" data-fela-rehydration="465" data-fela-type="RULE">.a{font-family:medium-content-sans-serif-font, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif}.b{font-weight:400}.c{background-color:rgba(255, 255, 255, 1)}.l{display:block}.m{margin:auto}.n{max-width:1504px}.o{display:flex}.u{justify-content:space-between}.ag{height:100%}.al{padding:0 24px}.am{box-shadow:0px -2px 10px rgba(0, 0, 0, 0.15)}.an{height:56px}.ao{align-items:center}.ap{position:fixed}.aq{top:0}.ar{right:0}.as{left:0}.at{z-index:500}.au{color:inherit}.av{fill:inherit}.aw{font-size:inherit}.ax{border:inherit}.ay{font-family:inherit}.az{letter-spacing:inherit}.ba{font-weight:inherit}.bb{padding:0}.bc{margin:0}.bg:disabled{cursor:default}.bh:disabled{color:rgba(117, 117, 117, 1)}.bi:disabled{fill:rgba(117, 117, 117, 1)}.bj{height:25px}.bk{fill:rgba(41, 41, 41, 1)}.bq{height:100vh}.br{flex-direction:column}.bs{position:sticky}.bt{z-index:1}.bu{height:23px}.bv{padding-bottom:35px}.bw{color:rgba(117, 117, 117, 1)}.bx{fill:rgba(117, 117, 117, 1)}.by{padding-left:28px}.bz{transition:all 0.2s ease-in-out}.cd{margin-right:28px}.ce{display:none}.cg{font-family:sohne, "Helvetica Neue", Helvetica, Arial, sans-serif}.ch{font-size:16px}.ci{line-height:24px}.cj{position:relative}.ck{display:inline-block}.cl{margin:0px 0px 35px 28px }.cm{width:24px}.cn{border:0}.co{height:1px}.cp{background-color:rgba(230, 230, 230, 1)}.cq{padding:0 24px 24px}.cr{height:64px}.cs path{fill:rgba(168, 168, 168, 1)}.ct{justify-content:center}.cu{flex:1}.cv{border:none}.cw{background:transparent}.cx{box-shadow:0px 2px 10px rgba(0, 0, 0, 0.15)}.cy{z-index:600}.cz{bottom:0}.da{justify-content:space-around}.db{height:16px}.dc{background-color:rgba(237, 237, 237, 1)}.di{min-width:0}.dj{flex:1 1 auto}.dk{padding:0 32px}.dl{box-sizing:border-box}.dm{border-left:1px solid rgba(230, 230, 230, 1)}.dn{min-height:100vh}.do{width:394px}.dq{width:100%}.dr{border-bottom:1px solid rgba(230, 230, 230, 1)}.eb{margin-right:16px}.ec{box-shadow:inset 0 0 0 1px rgba(0, 0, 0, 0.05)}.ed{border-radius:50%}.ee{height:32px}.ef{width:32px}.eg{position:absolute}.eh{margin-right:3px}.ei{flex:0 0 auto}.ej{font-size:14px}.ek{line-height:20px}.el{overflow:hidden}.em{max-height:20px}.en{text-overflow:ellipsis}.eo{display:-webkit-box}.ep{-webkit-line-clamp:1}.eq{-webkit-box-orient:vertical}.er{word-break:break-all}.et{color:rgba(41, 41, 41, 1)}.eu{margin:0 8px}.ev{color:rgba(132, 133, 133, 1)}.fg{margin-left:auto}.fh{margin-right:auto}.fi{max-width:728px}.ft{height:48px}.fu{width:48px}.fv{margin-bottom:4px}.fw{flex-direction:row}.fx{padding:0 8px}.gc{fill:rgba(132, 133, 133, 1)}.gf:disabled{color:rgba(132, 133, 133, 0.5)}.gg:disabled{fill:rgba(132, 133, 133, 0.5)}.gh{flex-wrap:wrap}.gi{margin-left:16px}.gp{background:rgba(255, 255, 255, 1)}.gq{border:1px solid rgba(230, 230, 230, 1)}.gr{border-radius:4px}.gs{box-shadow:0 1px 4px rgba(230, 230, 230, 1)}.gt{max-height:100vh}.gu{overflow-y:auto}.gv{top:calc(100vh + 100px)}.gw{bottom:calc(100vh + 100px)}.gx{width:10px}.gy{pointer-events:none}.gz{word-break:break-word}.ha{word-wrap:break-word}.hb:after{display:block}.hc:after{content:""}.hd:after{clear:both}.he{line-height:1.23}.hf{letter-spacing:0}.hg{font-style:normal}.hh{font-weight:700}.ic{margin-bottom:-0.27em}.id{max-width:1125px}.ih{clear:both}.ij{cursor:zoom-in}.ik{z-index:auto}.im{max-width:100%}.in{height:auto}.io{line-height:1.58}.ip{letter-spacing:-0.004em}.iq{font-family:charter, Georgia, Cambria, "Times New Roman", Times, serif}.jl{margin-bottom:-0.46em}.jm{font-style:italic}.jn{text-decoration:underline}.jo{background-color:rgba(242, 242, 242, 1)}.jp{padding:2px 4px}.jq{font-size:75%}.jr> strong{font-family:inherit}.js{font-family:Menlo, Monaco, "Courier New", Courier, monospace}.jx{padding:20px}.jy{background:rgba(242, 242, 242, 1)}.jz{overflow-x:auto}.ka{line-height:1.18}.kb{letter-spacing:-0.022em}.kc{margin-top:-0.09em}.kd{margin-bottom:-0.09em}.ke{white-space:pre-wrap}.kf{line-height:1.31}.kg{font-weight:600}.lb{margin-bottom:-0.37em}.lh{line-height:28px}.li{letter-spacing:-0.003em}.lm{list-style-type:disc}.ln{margin-left:30px}.lo{padding-left:0px}.lp{font-size:18px}.lv{margin-top:32px}.lw{margin-bottom:14px}.lx{padding-top:24px}.ly{padding-bottom:10px}.lz{background-color:rgba(8, 8, 8, 1)}.ma{height:3px}.mb{width:3px}.mc{margin-right:20px}.md{margin-top:16px}.me{border-top:none}.mf{height:52px}.mg{max-height:52px}.mh{box-sizing:content-box}.mq{flex:1 0 auto}.ms{max-width:155px}.na{-webkit-user-select:none}.nb{outline:0}.nc{user-select:none}.nd{cursor:pointer}.ne> svg{pointer-events:none}.np button{text-align:left}.ns{margin-left:24px}.nt{fill:rgba(61, 61, 61, 1)}.nu{opacity:1}.nv{margin-top:0px}.nw{margin-left:4px}.nx{margin:0 6px 0 7px}.ny{background-color:rgba(250, 250, 250, 1)}.nz{padding-bottom:4px}.oa{padding-top:32px}.ob{font-weight:500}.oo{-webkit-line-clamp:2}.op{padding-top:5px}.oq{padding-top:25px}.or{padding-bottom:96px}.os{padding-top:40px}.ot{text-align:center}.ou{color:rgba(255, 255, 255, 1)}.ov{padding:7px 16px 9px}.ow{fill:rgba(255, 255, 255, 1)}.ox{background:rgba(132, 133, 133, 1)}.oy{border-color:rgba(132, 133, 133, 1)}.pb:disabled{cursor:inherit !important}.pc:disabled{opacity:0.3}.pd:disabled:hover{background:rgba(132, 133, 133, 1)}.pe:disabled:hover{border-color:rgba(132, 133, 133, 1)}.pf{border-radius:99em}.pg{border-width:1px}.ph{border-style:solid}.pi{text-decoration:none}.pj{color:rgba(242, 242, 242, 1)}.pk{fill:rgba(242, 242, 242, 1)}.pl{border-color:rgba(242, 242, 242, 1)}.pr:disabled{opacity:0.1}.ps:disabled:hover{background:rgba(25, 25, 25, 1)}.pt:disabled:hover{border-color:rgba(25, 25, 25, 1)}.pu{padding:40px 0}.pv{border-radius:20px}.pw{width:inherit}.px{outline:none}.py{padding:8px 0 11px}.pz{background-color:transparent}.qa::placeholder{color:rgba(117, 117, 117, 1)}.qb{padding:7px 7px 6px 8px}.qc{margin-top:40px}.qd{height:88px}.qe{width:88px}.qf{margin-top:4px}.qg{margin-top:12px}.qh{margin-top:24px}.qi{margin-bottom:40px}.qj{width:auto}.qk{margin-left:8px}.ql{stroke:rgba(242, 242, 242, 1)}.qm{height:36px}.qn{width:36px}.qo{margin-bottom:16px}.qp{margin-bottom:20px}.qq{margin-right:8px}.qr{font-size:13px}.qs{max-height:60px}.qt{-webkit-line-clamp:3}.qu{padding:24px 0}.qv{margin-right:6px}.qw{font-size:11px}.qx{line-height:16px}.bd:hover{cursor:pointer}.be:hover{color:rgba(25, 25, 25, 1)}.bf:hover{fill:rgba(25, 25, 25, 1)}.ca:hover{color:rgba(41, 41, 41, 1)}.cb:hover{fill:rgba(41, 41, 41, 1)}.gd:hover{color:rgba(113, 114, 114, 1)}.ge:hover{fill:rgba(113, 114, 114, 1)}.gn:hover{fill:rgba(8, 8, 8, 1)}.nh:hover{fill:rgba(117, 117, 117, 1)}.oz:hover{background:rgba(113, 114, 114, 1)}.pa:hover{border-color:rgba(113, 114, 114, 1)}.pm:hover{background:rgba(242, 242, 242, 1)}.pn:hover{border-color:rgba(242, 242, 242, 1)}.po:hover{cursor:wait}.pp:hover{color:rgba(242, 242, 242, 1)}.pq:hover{fill:rgba(242, 242, 242, 1)}.go:focus{fill:rgba(8, 8, 8, 1)}.il:focus{transform:scale(1.01)}.ng:focus{fill:rgba(117, 117, 117, 1)}.nf:active{border-style:none}</style><style type="text/css" data-fela-rehydration="465" data-fela-type="RULE" media="all and (min-width: 1080px)">.d{display:none}.t{flex-direction:row}.z{width:80px}.ab{min-height:100vh}.ac{flex-shrink:1}.ae{border-right:1px solid rgba(230, 230, 230, 1)}.bl{display:block}.bm{text-align:center}.bn{padding:40px 0}.dh{margin-bottom:0}.dy{margin:0 32px}.dz{max-width:692px}.fa{margin-bottom:40px}.ff{padding:0 16px}.fr{margin-bottom:32px}.fs{margin-top:56px}.hy{font-size:32px}.hz{margin-top:0.6em}.ia{line-height:40px}.ib{letter-spacing:-0.016em}.ig{margin-top:40px}.jh{font-size:20px}.ji{margin-top:2em}.jj{line-height:32px}.jk{letter-spacing:-0.003em}.kx{font-size:22px}.ky{margin-top:3.14em}.kz{line-height:28px}.la{letter-spacing:0}.lg{margin-top:0.86em}.ll{margin-top:2.14em}.lu{margin-top:1.14em}.mo{position:sticky}.mp{bottom:0}.mz{margin-right:5px}.no{margin-top:0px}.nr{display:inline-block}.om{line-height:24px}.on{max-height:48px}</style><style type="text/css" data-fela-rehydration="465" data-fela-type="RULE" media="all and (max-width: 1079.98px)">.e{display:none}.nn{margin-top:0px}.nq{display:inline-block}</style><style type="text/css" data-fela-rehydration="465" data-fela-type="RULE" media="all and (max-width: 903.98px)">.f{display:none}.mu{display:inline-block}.nm{margin-top:0px}</style><style type="text/css" data-fela-rehydration="465" data-fela-type="RULE" media="all and (max-width: 727.98px)">.g{display:none}.mt{display:inline-block}.nk{margin-top:0px}.nl{margin-right:16px}</style><style type="text/css" data-fela-rehydration="465" data-fela-type="RULE" media="all and (max-width: 551.98px)">.h{display:none}.p{flex-direction:column}.v{width:auto}.ah{display:block}.dd{margin-bottom:56px}.ds{margin:0 24px}.ew{margin-bottom:80px}.fb{padding:0 8px}.fj{margin-bottom:24px}.fk{margin-top:32px}.fy{display:inline-block}.gj{display:inline-flex}.hi{font-size:32px}.hj{margin-top:0.64em}.hk{line-height:40px}.hl{letter-spacing:-0.016em}.ir{font-size:18px}.is{margin-top:1.56em}.it{line-height:28px}.iu{letter-spacing:-0.003em}.jt{margin-top:40px}.kh{font-size:20px}.ki{margin-top:1.9em}.kj{line-height:24px}.kk{letter-spacing:0}.lc{margin-top:0.67em}.lq{margin-top:1.34em}.mi{position:static}.mv{margin-left:0px}.ni{margin-top:0px}.nj{margin-right:16px}.oc{font-size:16px}.od{line-height:20px}.oe{max-height:40px}</style><style type="text/css" data-fela-rehydration="465" data-fela-type="RULE" media="all and (min-width: 904px) and (max-width: 1079.98px)">.i{display:none}.s{flex-direction:column}.y{width:auto}.ak{display:block}.dg{margin-bottom:56px}.dw{margin:0 32px}.dx{max-width:692px}.ez{margin-bottom:40px}.fe{padding:0 16px}.fp{margin-bottom:24px}.fq{margin-top:32px}.gb{display:inline-block}.gm{display:inline-flex}.hu{font-size:32px}.hv{margin-top:0.6em}.hw{line-height:40px}.hx{letter-spacing:-0.016em}.if{margin-top:40px}.jd{font-size:20px}.je{margin-top:2em}.jf{line-height:32px}.jg{letter-spacing:-0.003em}.jw{margin-top:56px}.kt{font-size:22px}.ku{margin-top:3.14em}.kv{line-height:28px}.kw{letter-spacing:0}.lf{margin-top:0.86em}.lk{margin-top:2.14em}.lt{margin-top:1.14em}.mm{position:sticky}.mn{bottom:0}.my{margin-right:5px}.ok{line-height:24px}.ol{max-height:48px}</style><style type="text/css" data-fela-rehydration="465" data-fela-type="RULE" media="all and (min-width: 728px) and (max-width: 903.98px)">.j{display:none}.r{flex-direction:column}.x{width:auto}.aj{display:block}.df{margin-bottom:56px}.du{margin:0 32px}.dv{max-width:692px}.ey{margin-bottom:40px}.fd{padding:0 16px}.fn{margin-bottom:24px}.fo{margin-top:32px}.ga{display:inline-block}.gl{display:inline-flex}.hq{font-size:32px}.hr{margin-top:0.6em}.hs{line-height:40px}.ht{letter-spacing:-0.016em}.ie{margin-top:40px}.iz{font-size:20px}.ja{margin-top:2em}.jb{line-height:32px}.jc{letter-spacing:-0.003em}.jv{margin-top:56px}.kp{font-size:22px}.kq{margin-top:3.14em}.kr{line-height:28px}.ks{letter-spacing:0}.le{margin-top:0.86em}.lj{margin-top:2.14em}.ls{margin-top:1.14em}.mk{position:sticky}.ml{bottom:0}.mx{margin-right:5px}.oi{line-height:24px}.oj{max-height:48px}</style><style type="text/css" data-fela-rehydration="465" data-fela-type="RULE" media="all and (min-width: 552px) and (max-width: 727.98px)">.k{display:none}.q{flex-direction:column}.w{width:auto}.ai{display:block}.de{margin-bottom:56px}.dt{margin:0 24px}.ex{margin-bottom:80px}.fc{padding:0 8px}.fl{margin-bottom:24px}.fm{margin-top:32px}.fz{display:inline-block}.gk{display:inline-flex}.hm{font-size:32px}.hn{margin-top:0.64em}.ho{line-height:40px}.hp{letter-spacing:-0.016em}.iv{font-size:18px}.iw{margin-top:1.56em}.ix{line-height:28px}.iy{letter-spacing:-0.003em}.ju{margin-top:40px}.kl{font-size:20px}.km{margin-top:1.9em}.kn{line-height:24px}.ko{letter-spacing:0}.ld{margin-top:0.67em}.lr{margin-top:1.34em}.mj{position:static}.mw{margin-left:0px}.of{font-size:16px}.og{line-height:20px}.oh{max-height:40px}</style><style type="text/css" data-fela-rehydration="465" data-fela-type="RULE" media="print">.mr{display:none}</style><style type="text/css" data-fela-rehydration="465" data-fela-type="RULE" media="all and (min-width: 7000px)">.af{width:224px}.bo{text-align:left}.bp{padding:40px 24px}.cc{display:none}.cf{display:block}.ea{margin:0 auto}</style><style type="text/css" data-fela-rehydration="465" data-fela-type="RULE" media="all and (max-width: 1239.98px)">.dp{width:280px}</style><style type="text/css" data-fela-rehydration="465" data-fela-type="RULE" media="(orientation: landscape) and (max-width: 903.98px)">.es{max-height:none}</style><style type="text/css" data-fela-rehydration="465" data-fela-type="RULE" media="(prefers-reduced-motion: no-preference)">.ii{transition:transform 300ms cubic-bezier(0.2, 0, 0.2, 1)}</style></head><body><div id="root"><div class="a b c"><div class="d e f g h i j k"></div><script>document.domain = document.domain;</script><div class="l c"><div class="m n l"><div class="o p q r s t u"><div class="v w x y z ab ac ae af"><nav class="ag"><div class="ah ai aj ak d"><div class="al am an o ao u ap aq ar as at c"><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" aria-label="Homepage" rel="noopener follow" href="https://medium.com/"><svg viewBox="0 0 1043.63 592.71" class="bj bk"><g data-name="Layer 2"><g data-name="Layer 1"><path d="M588.67 296.36c0 163.67-131.78 296.35-294.33 296.35S0 460 0 296.36 131.78 0 294.34 0s294.33 132.69 294.33 296.36M911.56 296.36c0 154.06-65.89 279-147.17 279s-147.17-124.94-147.17-279 65.88-279 147.16-279 147.17 124.9 147.17 279M1043.63 296.36c0 138-23.17 249.94-51.76 249.94s-51.75-111.91-51.75-249.94 23.17-249.94 51.75-249.94 51.76 111.9 51.76 249.94"></path></g></g></svg></a></div><div class="an l"></div></div><div class="ag h k j i bl"><div class="bq o br u bs aq bt c"><div class="bm bn bo bp"><a aria-label="Homepage" rel="noopener follow" href="https://medium.com/"><svg viewBox="0 0 1043.63 592.71" class="bu bk"><g data-name="Layer 2"><g data-name="Layer 1"><path d="M588.67 296.36c0 163.67-131.78 296.35-294.33 296.35S0 460 0 296.36 131.78 0 294.34 0s294.33 132.69 294.33 296.36M911.56 296.36c0 154.06-65.89 279-147.17 279s-147.17-124.94-147.17-279 65.88-279 147.16-279 147.17 124.9 147.17 279M1043.63 296.36c0 138-23.17 249.94-51.76 249.94s-51.75-111.91-51.75-249.94 23.17-249.94 51.75-249.94 51.76 111.9 51.76 249.94"></path></g></g></svg></a></div><div class="l"><div class="bv l"><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener follow" href="https://medium.com/"><div class="o cj"><div class="bw bx o by bz ca cb"><div class="l cc cd"><div><div class="ck" role="tooltip" aria-hidden="false"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" aria-label="Home"><path d="M4.5 10.75v10.5c0 .14.11.25.25.25h5c.14 0 .25-.11.25-.25v-5.5c0-.14.11-.25.25-.25h3.5c.14 0 .25.11.25.25v5.5c0 .14.11.25.25.25h5c.14 0 .25-.11.25-.25v-10.5M22 9l-9.1-6.83a1.5 1.5 0 0 0-1.8 0L2 9" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path></svg></div></div></div><div class="ce cf cd" aria-hidden="true"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" aria-label="Home"><path d="M4.5 10.75v10.5c0 .14.11.25.25.25h5c.14 0 .25-.11.25-.25v-5.5c0-.14.11-.25.25-.25h3.5c.14 0 .25.11.25.25v5.5c0 .14.11.25.25.25h5c.14 0 .25-.11.25-.25v-10.5M22 9l-9.1-6.83a1.5 1.5 0 0 0-1.8 0L2 9" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path></svg></div><div class="ce cf cg b ch ci">Home</div></div></div></a></div><span><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener follow" href="https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Fme%2Fnotifications&amp;source=--------------------------notifications_sidenav--------------"><div class="bv l"><div class="o cj"><div class="bw bx o by bz ca cb"><div class="l cc cd"><div><div class="ck" role="tooltip" aria-hidden="false"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" aria-label="Notifications"><path d="M15 18.5a3 3 0 1 1-6 0" stroke="currentColor" stroke-linecap="round"></path><path d="M5.5 10.53V9a6.5 6.5 0 0 1 13 0v1.53c0 1.42.56 2.78 1.57 3.79l.03.03c.26.26.4.6.4.97v2.93c0 .14-.11.25-.25.25H3.75a.25.25 0 0 1-.25-.25v-2.93c0-.37.14-.71.4-.97l.03-.03c1-1 1.57-2.37 1.57-3.79z" stroke="currentColor" stroke-linejoin="round"></path></svg></div></div></div><div class="ce cf cd" aria-hidden="true"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" aria-label="Notifications"><path d="M15 18.5a3 3 0 1 1-6 0" stroke="currentColor" stroke-linecap="round"></path><path d="M5.5 10.53V9a6.5 6.5 0 0 1 13 0v1.53c0 1.42.56 2.78 1.57 3.79l.03.03c.26.26.4.6.4.97v2.93c0 .14-.11.25-.25.25H3.75a.25.25 0 0 1-.25-.25v-2.93c0-.37.14-.71.4-.97l.03-.03c1-1 1.57-2.37 1.57-3.79z" stroke="currentColor" stroke-linejoin="round"></path></svg></div><div class="ce cf cg b ch ci">Notifications</div></div></div></div></a></span><span><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener follow" href="https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Fme%2Flists&amp;source=--------------------------lists_sidenav--------------"><div class="bv l"><div class="o cj"><div class="bw bx o by bz ca cb"><div class="l cc cd"><div><div class="ck" role="tooltip" aria-hidden="false"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" aria-label="Lists"><path d="M4.5 6.25V21c0 .2.24.32.4.2l5.45-4.09a.25.25 0 0 1 .3 0l5.45 4.09c.16.12.4 0 .4-.2V6.25a.25.25 0 0 0-.25-.25H4.75a.25.25 0 0 0-.25.25z" stroke="currentColor" stroke-linecap="round"></path><path d="M8 6V3.25c0-.14.11-.25.25-.25h11.5c.14 0 .25.11.25.25V16.5" stroke="currentColor" stroke-linecap="round"></path></svg></div></div></div><div class="ce cf cd" aria-hidden="true"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" aria-label="Lists"><path d="M4.5 6.25V21c0 .2.24.32.4.2l5.45-4.09a.25.25 0 0 1 .3 0l5.45 4.09c.16.12.4 0 .4-.2V6.25a.25.25 0 0 0-.25-.25H4.75a.25.25 0 0 0-.25.25z" stroke="currentColor" stroke-linecap="round"></path><path d="M8 6V3.25c0-.14.11-.25.25-.25h11.5c.14 0 .25.11.25.25V16.5" stroke="currentColor" stroke-linecap="round"></path></svg></div><div class="ce cf cg b ch ci">Lists</div></div></div></div></a></span><span><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener follow" href="https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Fme%2Fstories%2Fdrafts&amp;source=--------------------------stories_sidenav--------------"><div class="bv l"><div class="o cj"><div class="bw bx o by bz ca cb"><div class="l cc cd"><div><div class="ck" role="tooltip" aria-hidden="false"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" aria-label="Stories"><path d="M4.75 21.5h14.5c.14 0 .25-.11.25-.25V2.75a.25.25 0 0 0-.25-.25H4.75a.25.25 0 0 0-.25.25v18.5c0 .14.11.25.25.25z" stroke="currentColor"></path><path d="M8 8.5h8M8 15.5h5M8 12h8" stroke="currentColor" stroke-linecap="round"></path></svg></div></div></div><div class="ce cf cd" aria-hidden="true"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" aria-label="Stories"><path d="M4.75 21.5h14.5c.14 0 .25-.11.25-.25V2.75a.25.25 0 0 0-.25-.25H4.75a.25.25 0 0 0-.25.25v18.5c0 .14.11.25.25.25z" stroke="currentColor"></path><path d="M8 8.5h8M8 15.5h5M8 12h8" stroke="currentColor" stroke-linecap="round"></path></svg></div><div class="ce cf cg b ch ci">Stories</div></div></div></div></a></span><div class="cl cm l"><hr class="cn co cp bc" aria-hidden="true"/></div><span><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener follow" href="https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Fnew-story&amp;source=--------------------------new_post_sidenav--------------"><div class="bv l"><div class="o cj"><div class="bw bx o by bz ca cb"><div class="l cc cd"><div><div class="ck" role="tooltip" aria-hidden="false"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" aria-label="Write"><path d="M14 4a.5.5 0 0 0 0-1v1zm7 6a.5.5 0 0 0-1 0h1zm-7-7H4v1h10V3zM3 4v16h1V4H3zm1 17h16v-1H4v1zm17-1V10h-1v10h1zm-1 1a1 1 0 0 0 1-1h-1v1zM3 20a1 1 0 0 0 1 1v-1H3zM4 3a1 1 0 0 0-1 1h1V3z" fill="currentColor"></path><path d="M17.5 4.5l-8.46 8.46a.25.25 0 0 0-.06.1l-.82 2.47c-.07.2.12.38.31.31l2.47-.82a.25.25 0 0 0 .1-.06L19.5 6.5m-2-2l2.32-2.32c.1-.1.26-.1.36 0l1.64 1.64c.1.1.1.26 0 .36L19.5 6.5m-2-2l2 2" stroke="currentColor"></path></svg></div></div></div><div class="ce cf cd" aria-hidden="true"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" aria-label="Write"><path d="M14 4a.5.5 0 0 0 0-1v1zm7 6a.5.5 0 0 0-1 0h1zm-7-7H4v1h10V3zM3 4v16h1V4H3zm1 17h16v-1H4v1zm17-1V10h-1v10h1zm-1 1a1 1 0 0 0 1-1h-1v1zM3 20a1 1 0 0 0 1 1v-1H3zM4 3a1 1 0 0 0-1 1h1V3z" fill="currentColor"></path><path d="M17.5 4.5l-8.46 8.46a.25.25 0 0 0-.06.1l-.82 2.47c-.07.2.12.38.31.31l2.47-.82a.25.25 0 0 0 .1-.06L19.5 6.5m-2-2l2.32-2.32c.1-.1.26-.1.36 0l1.64 1.64c.1.1.1.26 0 .36L19.5 6.5m-2-2l2 2" stroke="currentColor"></path></svg></div><div class="ce cf cg b ch ci">Write</div></div></div></div></a></span></div><div class="cq cr o ao"></div></div></div><div class="ah ai aj ak d"><div class="l ap ar cz as at c"><div class="cx an cj cy"><div class="ag o ao da"><div class="db cm l dc"></div><div class="db cm l dc"></div><div class="db cm l dc"></div></div></div></div></div></nav></div><main class="dd de df dg dh di l dj"><div class="l"><div class="dr l"><div class="o ct"><div class="di dq ds dt du dv dw dx dy dz ea"><div class="an o ao"><div class="eb l"><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" href="https://medium.com/devschacht?source=post_page-----4bf615c6cd50-----------------------------------" rel="noopener follow"><div class="l cj"><img alt="devSchacht" class="l dl ed ee ef" src="https://miro.medium.com/fit/c/64/64/1*-O--sJwQmHLmOq4JSpqV-A.png" width="32" height="32"/><div class="ec ed l ee ef eg aq"></div></div></a></div><div class="eh l ei"><div class="cg b ej ek bw">Published in</div></div><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" href="https://medium.com/devschacht?source=post_page-----4bf615c6cd50-----------------------------------" rel="noopener follow"><p class="cg b ej ek el em en eo ep eq er es et">devSchacht</p></a><div class="eu l" aria-hidden="true"><span class="l" aria-hidden="true"><span class="cg b ej ek bw">·</span></span></div><div class="cg b ej ek ev"><div class="ck" aria-hidden="false" aria-describedby="collectionFollowPopover" aria-labelledby="collectionFollowPopover"></div></div></div></div></div></div><div class="ew ex ey ez fa l"><div class="o ct"><div class="di dq ds dt du dv dw dx dy dz ea"><article><div class="l"><div class="fb fc fd fe ff fg fh dq fi dl l"></div><div class="l"><header class="pw-post-byline-header fj fk fl fm fn fo fp fq fr fs l"><div class="o u"><div class="o"><div class="eb l"><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener follow" href="https://medium.com/@amel_true?source=post_page-----4bf615c6cd50-----------------------------------"><div class="l cj"><img alt="Andrey Melikhov" class="l dl ed ft fu" src="https://miro.medium.com/fit/c/96/96/0*X1WurtmmHGZak-DP.jpg" width="48" height="48"/><div class="ec ed l ft fu eg aq"></div></div></a></div><div class="l"><div class="pw-author cg b ch ci et"><div class="fv o fw"><div><div class="ck" role="tooltip" aria-hidden="false"><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener follow" href="https://medium.com/@amel_true?source=post_page-----4bf615c6cd50-----------------------------------">Andrey Melikhov</a></div></div><div class="fx fy fz ga gb d" aria-hidden="true"><span class="l" aria-hidden="true"><span class="cg b ej ek bw">·</span></span></div><div class="fy fz ga gb d"><div class="cg b ch ci ev"><span><a class="ev gc aw ax ay az ba bb bc bd gd ge bg gf gg" rel="noopener follow" href="https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F34515607191&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Fdevschacht%2Funderstanding-lock-files-in-npm-5-4bf615c6cd50&amp;user=Andrey+Melikhov&amp;userId=34515607191&amp;source=post_page-34515607191----4bf615c6cd50---------------------follow_byline--------------">Follow</a></span></div></div></div></div><div class="o ao gh"><p class="pw-published-date cg b ej ek bw"><span>Jun 20, 2017</span></p><div class="fx ck" aria-hidden="true"><span class="l" aria-hidden="true"><span class="cg b ej ek bw">·</span></span></div><div class="pw-reading-time cg b ej ek bw">6 min read</div></div></div></div><div class="gi gj gk gl gm d"><div class="ck" aria-hidden="false"><button class="au av aw ax ay az ba bb bc bd be bf bg bh bi" aria-label="More options"><svg class="bk gn go" width="25" height="25"><path d="M5 12.5c0 .55.2 1.02.59 1.41.39.4.86.59 1.41.59.55 0 1.02-.2 1.41-.59.4-.39.59-.86.59-1.41 0-.55-.2-1.02-.59-1.41A1.93 1.93 0 0 0 7 10.5c-.55 0-1.02.2-1.41.59-.4.39-.59.86-.59 1.41zm5.62 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.42.59.55 0 1.02-.2 1.41-.59.4-.39.59-.86.59-1.41 0-.55-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.03.2-1.42.59-.39.39-.58.86-.58 1.41zm5.6 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.43.59.56 0 1.03-.2 1.42-.59.39-.39.58-.86.58-1.41 0-.55-.2-1.02-.58-1.41a1.93 1.93 0 0 0-1.42-.59c-.56 0-1.04.2-1.43.59-.39.39-.58.86-.58 1.41z" fill-rule="evenodd"></path></svg></button></div></div></div></header><span class="l"></span><section><div><div class="eg as gv gw gx gy"></div><div class="gz ha hb hc hd"><div class=""><h1 id="2c25" class="pw-post-title he hf hg cg hh hi hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic et">Разбираемся с lock-файлами в NPM 5</h1></div><figure class="fk fm ie if ig ih fg fh paragraph-image"><div role="button" tabindex="0" class="ii ij cj ik dq il"><div class="fg fh id"><img alt="" class="dq im in" src="https://miro.medium.com/max/1400/1*Ol_Cbq4xAJLwHgZKgJFbZQ.png" width="700" height="467" role="presentation"/></div></div></figure><p id="5ee9" class="pw-post-body-paragraph io ip hg iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl gz et"><em class="jm">Перевод статьи </em><a class="au jn" href="http://jpospisil.com/" rel="noopener ugc nofollow" target="_blank"><em class="jm">Jiří Pospíšil</em></a><em class="jm">: </em><a class="au jn" href="http://jpospisil.com/2017/06/02/understanding-lock-files-in-npm-5.html" rel="noopener ugc nofollow" target="_blank"><em class="jm">Understanding lock files in NPM 5</em></a><em class="jm">. Опубликовано с разрешения автора.</em></p><p id="cc26" class="pw-post-body-paragraph io ip hg iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl gz et">Следующая мажорная версия NPM приносит ряд улучшений по сравнению с предыдущими версиями с точки зрения скорости, безопасности и множества других <a class="au jn" rel="noopener" href="https://medium.com/devschacht/npm-5-is-now-npm-latest-9ef037c9f5f5">отличных вещей</a>. Однако самым необычным с точки зрения пользователя является новый lock-файл. Фактически, теперь у нас несколько lock-файлов: «старый» <code class="jo jp jq jr js b">npm-shrinkwrap.json</code> и новый <code class="jo jp jq jr js b">package-lock.json</code>. Подробнее об этом чуть ниже, а пока небольшая вводная для непосвящённых. Файл <code class="jo jp jq jr js b">package.json</code> описывает зависимости верхнего уровня от других пакетов с помощью <a class="au jn" href="http://semver.org/" rel="noopener ugc nofollow" target="_blank">semver</a>. Каждый пакет может, в свою очередь, зависеть от других пакетов и так далее, тому подобное. Lock-файл — это моментальный снимок всего дерева зависимостей, включающий все пакеты и их установленные версии.</p><p id="ae4c" class="pw-post-body-paragraph io ip hg iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl gz et">В отличие от предыдущей версии, lock-файл теперь включает в себя поле целостности (<em class="jm">integrity</em>), использующее <a class="au jn" href="https://w3c.github.io/webappsec-subresource-integrity/" rel="noopener ugc nofollow" target="_blank">Subresource Integrity (SRI)</a> для проверки того, что установливаемый пакет не был подменён или иным образом недействителен. В настоящее время он поддерживает SHA-1 для пакетов, опубликованных с помощью NPM предыдущей версии, и SHA-512 для текущей.</p><p id="5555" class="pw-post-body-paragraph io ip hg iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl gz et">В файле больше нет поля <code class="jo jp jq jr js b">from</code>, которое вместе с иногда неконсистентной <code class="jo jp jq jr js b">version</code>, как известно, было источником боли при просмотре изменений файлов во время процесса код-ревью. Теперь изменения в пулл-реквестах должны быть намного чище.</p><p id="eb01" class="pw-post-body-paragraph io ip hg iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl gz et">Lock-файл теперь также содержит версию формата, указанную в поле <code class="jo jp jq jr js b">lockfileVersion</code>, установленную в значение <code class="jo jp jq jr js b">1</code>. Это значит, что при будущих обновлениях формата не придётся угадывать, какую конкретную версию использует lock-файл. Предыдущий формат по-прежнему поддерживается и распознается как версия <code class="jo jp jq jr js b">0</code>.</p><pre class="jt ju jv jw fs jx jy jz"><span id="0d97" class="et ka kb hg js b ch kc kd l ke">{<br/>  &quot;name&quot;: &quot;package-name&quot;,<br/>  &quot;version&quot;: &quot;1.0.0&quot;,<br/>  &quot;lockfileVersion&quot;: 1,<br/>  &quot;dependencies&quot;: {<br/>    &quot;cacache&quot;: {<br/>      &quot;version&quot;: &quot;9.2.6&quot;,<br/>      &quot;resolved&quot;: &quot;https://registry.npmjs.org/cacache/-/cacache-9.2.6.tgz&quot;,<br/>      &quot;integrity&quot;: &quot;sha512-YK0Z5Np5t755edPL6gfdCeGxtU0rcW/DBhYhYVDckT+7AFkCCtedf2zru5NRbBLFk6e7Agi/RaqTOAfiaipUfg==&quot;<br/>    },<br/>    &quot;duplexify&quot;: {<br/>      &quot;version&quot;: &quot;3.5.0&quot;,<br/>      &quot;resolved&quot;: &quot;https://registry.npmjs.org/duplexify/-/duplexify-3.5.0.tgz&quot;,<br/>      &quot;integrity&quot;: &quot;sha1-GqdzAC4VeEV+nZ1KULDMquvL1gQ=&quot;,<br/>      &quot;dependencies&quot;: {<br/>        &quot;end-of-stream&quot;: {<br/>          &quot;version&quot;: &quot;1.0.0&quot;,<br/>          &quot;resolved&quot;: &quot;https://registry.npmjs.org/end-of-stream/-/end-of-stream-1.0.0.tgz&quot;,<br/>          &quot;integrity&quot;: &quot;sha1-1FlucCc0qT5A6a+GQxnqvZn/Lw4=&quot;<br/>        },</span></pre><p id="a4b2" class="pw-post-body-paragraph io ip hg iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl gz et">Возможно, вы заметили, что поле <code class="jo jp jq jr js b">resolved</code> все еще присутствует в файле и указывает на определенный URI. Обратите внимание, однако, что NPM теперь может определить (на основе параметров в <code class="jo jp jq jr js b">.npmrc</code>), что система настроена на использование другого реестра, и если это так, он будет прозрачно использовать его вместо указанного. Это хорошо работает с полем целостности, потому что теперь, пока пакет соответствует сигнатуре, не имеет значения, откуда он пришел.</p><p id="917c" class="pw-post-body-paragraph io ip hg iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl gz et">Еще одна вещь, о которой стоит упомянуть: lock-файл точно описывает физическое дерево каталогов в директории <code class="jo jp jq jr js b">node_modules</code>. Преимущество этого заключается в том, что даже если разные разработчики используют разные версии NPM, они все равно должны иметь не только одни и те же версии зависимостей, но и то же самое дерево каталогов. Этим NPM 5 отличается от других пакетных менеджеров, таких как <a class="au jn" href="https://yarnpkg.com/en/" rel="noopener ugc nofollow" target="_blank">Yarn</a>. Yarn описывает только зависимости между отдельными пакетами в <a class="au jn" href="https://github.com/yarnpkg/yarn/blob/46750b2bebd487fb2d2011b9c4b7646ec6e2d8a3/yarn.lock" rel="noopener ugc nofollow" target="_blank">плоском формате</a> и опирается на свою текущую реализацию для создания структуры каталогов. Это означает, что при изменении внутреннего алгоритма структура также изменится. Если вы хотите узнать больше о различиях между Yarn и NPM 5, когда дело доходит до lock-файла, почитайте про <a class="au jn" href="https://yarnpkg.com/blog/2017/05/31/determinism/" rel="noopener ugc nofollow" target="_blank">детерминизм Yarn</a>.</p><h1 id="5df9" class="kf kb hg cg kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb et">Два lock-файла</h1><p id="7b41" class="pw-post-body-paragraph io ip hg iq b ir lc it iu iv ld ix iy iz le jb jc jd lf jf jg jh lg jj jk jl gz et">Я уже упоминал, что сейчас на самом деле имеется больше одного lock-файла. Теперь NPM <em class="jm">автоматически </em>генерирует lock-файл с именем <code class="jo jp jq jr js b">package-lock.json</code> всякий раз, когда устанавливается новая зависимость или файл еще не существует. Как уже упоминалось в начале, lock-файл представляет собой моментальный слепок текущего дерева зависимостей и позволяет воспроизводить сборки между машинами разработчиков. Поэтому рекомендуется добавить его в свою систему контроля версий.</p><p id="041a" class="pw-post-body-paragraph io ip hg iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl gz et">Возможно, вы думаете, что то же самое уже может быть достигнуто с помощью <code class="jo jp jq jr js b">npm shrinkwrap</code> и её <code class="jo jp jq jr js b">npm-shrinkwrap.json</code>. И вы правы. Причиной создания нового файла является попытка лучшего донесения мысли о том, что NPM действительно поддерживает блокировку зависимостей, что, видимо, было проблемой в прошлом.</p><p id="037d" class="pw-post-body-paragraph io ip hg iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl gz et">Однако есть несколько отличий. Во-первых, NPM гарантирует, что <code class="jo jp jq jr js b">package-lock.json</code> никогда не будет опубликован. Даже если вы явно добавите его в свойство файлов пакета, оно не будет частью опубликованного пакета. Это не относится к файлу <code class="jo jp jq jr js b">npm-shrinkwrap.json</code>, который <em class="jm">может</em> быть частью опубликованного пакета, и NPM будет использовать его даже для вложенных зависимостей. Просто попробуйте сами, запустив <code class="jo jp jq jr js b">npm pack</code> и посмотрев, что находится внутри созданного архива.</p><p id="e454" class="pw-post-body-paragraph io ip hg iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl gz et">Также вам может быть интересно узнать, что происходит, когда вы запускаете <code class="jo jp jq jr js b">npm shrinkwrap</code> в каталоге, который уже содержит <code class="jo jp jq jr js b">package-lock.json</code>. Ответ довольно прост: NPM просто переименует <code class="jo jp jq jr js b">package-lock.json</code> в <code class="jo jp jq jr js b">npm-shrinkwrap.json</code>. Это возможно, потому что формат файлов совпадает.</p><p id="0aaf" class="pw-post-body-paragraph io ip hg iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl gz et">Самое любопытные также спросят, что происходит, когда присутствуют оба файла. В этом случае NPM полностью игнорирует <code class="jo jp jq jr js b">package-lock.json</code> и просто использует <code class="jo jp jq jr js b">npm-shrinkwrap.json</code>. Однако такая ситуация не должна возникать при манипулировании файлами средствами NPM.</p><p id="d5d2" class="pw-post-body-paragraph io ip hg iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl gz et">Обобщая:</p><ul class=""><li id="9db5" class="lh li hg iq b ir is iv iw iz lj jd lk jh ll jl lm ln lo lp et">NPM автоматически создаст <code class="jo jp jq jr js b">package-lock.json</code> при установке пакетов. Если уже присутствует <code class="jo jp jq jr js b">npm-shrinkwrap.json</code>, то будет использован он (и при необходимости обновлён).</li><li id="edbd" class="lh li hg iq b ir lq iv lr iz ls jd lt jh lu jl lm ln lo lp et">Новый <code class="jo jp jq jr js b">package-lock.json</code> никогда не публикуется и должен быть добавлен в вашу систему контроля версий.</li><li id="dd7b" class="lh li hg iq b ir lq iv lr iz ls jd lt jh lu jl lm ln lo lp et">Запуск <code class="jo jp jq jr js b">npm shrinkwrap</code> в случае наличия <code class="jo jp jq jr js b">package-lock.json</code> просто переименует его в <code class="jo jp jq jr js b">npm-shrinkwrap.json</code>.</li><li id="7955" class="lh li hg iq b ir lq iv lr iz ls jd lt jh lu jl lm ln lo lp et">Когда оба файла присутствуют по какой-либо причине, <code class="jo jp jq jr js b">package-lock.json</code> будет проигнорирован.</li></ul><p id="1388" class="pw-post-body-paragraph io ip hg iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl gz et">Это здорово, но как выбрать: использовать новый lock-файл вместо старого доброго shrinkwrap или наоборот? Обычно это зависит от типа пакета, над которым вы работаете.</p><h1 id="2cf2" class="kf kb hg cg kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb et">При разработке библиотеки</h1><p id="28c4" class="pw-post-body-paragraph io ip hg iq b ir lc it iu iv ld ix iy iz le jb jc jd lf jf jg jh lg jj jk jl gz et">Если вы работаете с библиотекой (то есть пакетом, от которого будут зависеть другие пакеты), вы должны использовать новый lock-файл. Альтернативой является использование shrinkwrap, но убедитесь, что он никогда не будет опубликован вместе с пакетом (новый lock-файл защищён от публикации автоматически). Почему бы не опубликовать shrinkwrap? Это связано с тем, что NPM обрабатывает shrinkwrap-файлы, которые он находит в пакетах, и поскольку shrinkwrap всегда указывает на конкретные версию отдельных пакетов, вы не сможете воспользоваться тем фактом, что NPM может использовать один и тот же пакет для разрешения зависимостей нескольких пакетов, если диапазон <a class="au jn" href="http://semver.org/" rel="noopener ugc nofollow" target="_blank">semver</a> позволяет это. Другими словами, не заставляя NPM устанавливать определенные версии, вы позволяете NPM эффективнее повторно использовать пакеты, что в результате приводит к более компактному дереву зависимостей и упрощает сборку.</p><p id="da99" class="pw-post-body-paragraph io ip hg iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl gz et">Однако есть одно предостережение. Когда вы работаете в своей библиотеке, вы получаете одинаковые зависимости каждый раз, потому что в репозитории присутствует либо <code class="jo jp jq jr js b">package-lock.json</code>, либо <code class="jo jp jq jr js b">npm-shrinkwrap.json</code>. То же самое относится к вашему серверу непрерывной интеграции, на котором вы проверяете ваш код. Теперь представьте, что в вашем <code class="jo jp jq jr js b">package.json</code> указана зависимость от некоторого пакета как <code class="jo jp jq jr js b">^1.0.0</code>. Каждый раз устанавливается версия, указанная в lock-файле и всё прекрасно работает. А что происходит, если публикуется новая версия зависимости, случайно нарушившая semver, и ваш пакет ломается из-за этого?</p><p id="cecb" class="pw-post-body-paragraph io ip hg iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl gz et">К сожалению, вы не сможете заметить этого до тех пор, пока не появится отчет об ошибке. Без каких-либо lock-файлов в репозитории ваша сборка завершится неудачно, по крайней мере, в CI, поскольку она всегда будет устанавливать последние версии зависимостей и, таким образом, запускать тесты с новой сломанной версией (при условии, что сборка выполняется периодически, а не только для PR). Однако при наличии lock-файла CI-сервер всегда будет устанавливать рабочую заблокированную версию.</p><p id="b3f4" class="pw-post-body-paragraph io ip hg iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl gz et">Есть несколько вариантов решения этой проблемы. Во-первых, вы можете пожертвовать точной воспроизводимостью и не добавлять lock-файл в свою систему контроля версий. Во-вторых, вы можете создать отдельную конфигурацию сборки, которая будет запускать <code class="jo jp jq jr js b">npm update</code> перед запуском тестов. В-третьих, вы просто удаляете lock-файл перед запуском тестов. Как на самом деле поступать с сломанной зависимостью, когда она была обнаружена, это отдельная тема, главным образом потому, что semver, реализованный NPM, не имеет концепции указания разрешения широкого диапазона и также не имеет черного списка конкретных версий.</p><p id="62fb" class="pw-post-body-paragraph io ip hg iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl gz et">Это, конечно, ставит вопрос о том, стоит ли добавлять lock-файл в систему управления версиями при работе с библиотеками. Однако следует иметь в виду, что lock-файл содержит не только runtime-зависимости, но и зависимости для разработки (dev dependencies). В этом смысле работа над библиотекой аналогична работе над приложением (смотрим следующий раздел).</p><h1 id="f167" class="kf kb hg cg kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb et">При разработке приложения</h1><p id="e6e1" class="pw-post-body-paragraph io ip hg iq b ir lc it iu iv ld ix iy iz le jb jc jd lf jf jg jh lg jj jk jl gz et">Хорошо, что насчёт пакетов, используемых конечными пользователями для запуска в консоли или в комплекте исполняемых файлов? В этом случае пакет — это конечный результат, приложение, и вы хотите, чтобы конечные пользователи всегда получали точные зависимости, которые вы имели при публикации. Здесь вы захотите использовать shrinkwrap и не забудьте также опубликовать его с пакетом, чтобы NPM использовал его во время установки. Помните, что вы всегда можете проверить, как выглядит пакет, если он будет опубликован с использованием <code class="jo jp jq jr js b">npm pack</code>.</p><p id="aafa" class="pw-post-body-paragraph io ip hg iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl gz et">Обратите внимание, что указание на определенные версии зависимостей в <code class="jo jp jq jr js b">package.json</code> - не лучшая идея, потому что вы хотите, чтобы конечные пользователи получили то же самое дерево зависимостей, включая все подзависимости. Конкретная версия в <code class="jo jp jq jr js b">package.json</code> гарантирует версию только на верхнем уровне.</p></div><div class="o ct lv lw lx ly" role="separator"><span class="lz ed ck ma mb mc"></span><span class="lz ed ck ma mb mc"></span><span class="lz ed ck ma mb"></span></div><div class="gz ha hb hc hd"><p id="6f70" class="pw-post-body-paragraph io ip hg iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl gz et">Что насчет других типов приложений, например, проектов, которые вы запускаете из своего репозитория? В этом случае это не имеет большого значения. Имеют значение только установленные правильные зависимости, и оба lock-файла могут это обеспечить. Выбор за вами.</p></div><div class="o ct lv lw lx ly" role="separator"><span class="lz ed ck ma mb mc"></span><span class="lz ed ck ma mb mc"></span><span class="lz ed ck ma mb"></span></div><div class="gz ha hb hc hd"><p id="8908" class="pw-post-body-paragraph io ip hg iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl gz et"><em class="jm">Слушайте наш подкаст в </em><a class="au jn" href="https://itunes.apple.com/ru/podcast/%D0%B4%D0%B5%D0%B2%D1%88%D0%B0%D1%85%D1%82%D0%B0/id1226773343" rel="noopener ugc nofollow" target="_blank"><em class="jm">iTunes</em></a><em class="jm"> и </em><a class="au jn" href="https://soundcloud.com/devschacht" rel="noopener ugc nofollow" target="_blank"><em class="jm">SoundCloud</em></a><em class="jm">, читайте нас на </em><a class="au jn" href="https://medium.com/devschacht" rel="noopener"><em class="jm">Medium</em></a><em class="jm">, контрибьютьте на </em><a class="au jn" href="https://github.com/devSchacht" rel="noopener ugc nofollow" target="_blank"><em class="jm">GitHub</em></a><em class="jm">, общайтесь в </em><a class="au jn" href="https://t.me/devSchacht" rel="noopener ugc nofollow" target="_blank"><em class="jm">группе Telegram</em></a><em class="jm">, следите в </em><a class="au jn" href="https://twitter.com/DevSchacht" rel="noopener ugc nofollow" target="_blank"><em class="jm">Twitter</em></a><em class="jm"> и </em><a class="au jn" href="https://t.me/devSchachtChannel" rel="noopener ugc nofollow" target="_blank"><em class="jm">канале Telegram</em></a><em class="jm">, рекомендуйте в </em><a class="au jn" href="https://vk.com/devschacht" rel="noopener ugc nofollow" target="_blank"><em class="jm">VK</em></a><em class="jm"> и </em><a class="au jn" href="https://www.facebook.com/devSchacht" rel="noopener ugc nofollow" target="_blank"><em class="jm">Facebook</em></a><em class="jm">.</em></p><p id="fa61" class="pw-post-body-paragraph io ip hg iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl gz et"><a class="au jn" href="https://github.com/devSchacht/translations/tree/master/articles/jiri-pospisil-understanding-lock-files-in-npm-5" rel="noopener ugc nofollow" target="_blank">Статья на GitHub</a></p></div></div></section></div></div></article></div></div><div class="md l"></div><div class="l"></div><footer class="me mf mg mh o ao mi mj mk ml mm mn mo mp c"><div class="l mq"><div class="o ct"><div class="di dq ds dt du dv dw dx dy dz ea"><div class="o u mr"><div class="o ao fw"><div class="ms l"><span class="l fy mt mu e d"><div class="o ao fw"><div class="pw-multi-vote-icon cj mv mw mx my mz na"><span><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener follow" href="https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Fdevschacht%2F4bf615c6cd50&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Fdevschacht%2Funderstanding-lock-files-in-npm-5-4bf615c6cd50&amp;user=Andrey+Melikhov&amp;userId=34515607191&amp;source=post_actions_footer-----4bf615c6cd50---------------------clap_footer--------------"><div class="bb nb cn nc nd ne nf na bk ng nh"><svg width="24" height="24" viewBox="0 0 24 24" aria-label="clap"><path fill-rule="evenodd" clip-rule="evenodd" d="M11.37.83L12 3.28l.63-2.45h-1.26zM13.92 3.95l1.52-2.1-1.18-.4-.34 2.5zM8.59 1.84l1.52 2.11-.34-2.5-1.18.4zM18.52 18.92a4.23 4.23 0 0 1-2.62 1.33l.41-.37c2.39-2.4 2.86-4.95 1.4-7.63l-.91-1.6-.8-1.67c-.25-.56-.19-.98.21-1.29a.7.7 0 0 1 .55-.13c.28.05.54.23.72.5l2.37 4.16c.97 1.62 1.14 4.23-1.33 6.7zm-11-.44l-4.15-4.15a.83.83 0 0 1 1.17-1.17l2.16 2.16a.37.37 0 0 0 .51-.52l-2.15-2.16L3.6 11.2a.83.83 0 0 1 1.17-1.17l3.43 3.44a.36.36 0 0 0 .52 0 .36.36 0 0 0 0-.52L5.29 9.51l-.97-.97a.83.83 0 0 1 0-1.16.84.84 0 0 1 1.17 0l.97.97 3.44 3.43a.36.36 0 0 0 .51 0 .37.37 0 0 0 0-.52L6.98 7.83a.82.82 0 0 1-.18-.9.82.82 0 0 1 .76-.51c.22 0 .43.09.58.24l5.8 5.79a.37.37 0 0 0 .58-.42L13.4 9.67c-.26-.56-.2-.98.2-1.29a.7.7 0 0 1 .55-.13c.28.05.55.23.73.5l2.2 3.86c1.3 2.38.87 4.59-1.29 6.75a4.65 4.65 0 0 1-4.19 1.37 7.73 7.73 0 0 1-4.07-2.25zm3.23-12.5l2.12 2.11c-.41.5-.47 1.17-.13 1.9l.22.46-3.52-3.53a.81.81 0 0 1-.1-.36c0-.23.09-.43.24-.59a.85.85 0 0 1 1.17 0zm7.36 1.7a1.86 1.86 0 0 0-1.23-.84 1.44 1.44 0 0 0-1.12.27c-.3.24-.5.55-.58.89-.25-.25-.57-.4-.91-.47-.28-.04-.56 0-.82.1l-2.18-2.18a1.56 1.56 0 0 0-2.2 0c-.2.2-.33.44-.4.7a1.56 1.56 0 0 0-2.63.75 1.6 1.6 0 0 0-2.23-.04 1.56 1.56 0 0 0 0 2.2c-.24.1-.5.24-.72.45a1.56 1.56 0 0 0 0 2.2l.52.52a1.56 1.56 0 0 0-.75 2.61L7 19a8.46 8.46 0 0 0 4.48 2.45 5.18 5.18 0 0 0 3.36-.5 4.89 4.89 0 0 0 4.2-1.51c2.75-2.77 2.54-5.74 1.43-7.59L18.1 7.68z"></path></svg></div></a></span></div><div class="pw-multi-vote-count l ni nj nk nl nm nn no"><div class="np"><p class="cg b ej ek et"><button class="au av aw ax ay az ba bb bc bd be bf bg bh bi">676<span class="l h g f nq nr"> </span></button><span class="l h g f nq nr"></span></p></div></div></div></span><span class="l h g f nq nr"><div class="o ao fw"><div class="pw-multi-vote-icon cj mv mw mx my mz na"><span><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener follow" href="https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Fdevschacht%2F4bf615c6cd50&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Fdevschacht%2Funderstanding-lock-files-in-npm-5-4bf615c6cd50&amp;user=Andrey+Melikhov&amp;userId=34515607191&amp;source=post_actions_footer-----4bf615c6cd50---------------------clap_footer--------------"><div class="bb nb cn nc nd ne nf na bk ng nh"><svg width="24" height="24" viewBox="0 0 24 24" aria-label="clap"><path fill-rule="evenodd" clip-rule="evenodd" d="M11.37.83L12 3.28l.63-2.45h-1.26zM13.92 3.95l1.52-2.1-1.18-.4-.34 2.5zM8.59 1.84l1.52 2.11-.34-2.5-1.18.4zM18.52 18.92a4.23 4.23 0 0 1-2.62 1.33l.41-.37c2.39-2.4 2.86-4.95 1.4-7.63l-.91-1.6-.8-1.67c-.25-.56-.19-.98.21-1.29a.7.7 0 0 1 .55-.13c.28.05.54.23.72.5l2.37 4.16c.97 1.62 1.14 4.23-1.33 6.7zm-11-.44l-4.15-4.15a.83.83 0 0 1 1.17-1.17l2.16 2.16a.37.37 0 0 0 .51-.52l-2.15-2.16L3.6 11.2a.83.83 0 0 1 1.17-1.17l3.43 3.44a.36.36 0 0 0 .52 0 .36.36 0 0 0 0-.52L5.29 9.51l-.97-.97a.83.83 0 0 1 0-1.16.84.84 0 0 1 1.17 0l.97.97 3.44 3.43a.36.36 0 0 0 .51 0 .37.37 0 0 0 0-.52L6.98 7.83a.82.82 0 0 1-.18-.9.82.82 0 0 1 .76-.51c.22 0 .43.09.58.24l5.8 5.79a.37.37 0 0 0 .58-.42L13.4 9.67c-.26-.56-.2-.98.2-1.29a.7.7 0 0 1 .55-.13c.28.05.55.23.73.5l2.2 3.86c1.3 2.38.87 4.59-1.29 6.75a4.65 4.65 0 0 1-4.19 1.37 7.73 7.73 0 0 1-4.07-2.25zm3.23-12.5l2.12 2.11c-.41.5-.47 1.17-.13 1.9l.22.46-3.52-3.53a.81.81 0 0 1-.1-.36c0-.23.09-.43.24-.59a.85.85 0 0 1 1.17 0zm7.36 1.7a1.86 1.86 0 0 0-1.23-.84 1.44 1.44 0 0 0-1.12.27c-.3.24-.5.55-.58.89-.25-.25-.57-.4-.91-.47-.28-.04-.56 0-.82.1l-2.18-2.18a1.56 1.56 0 0 0-2.2 0c-.2.2-.33.44-.4.7a1.56 1.56 0 0 0-2.63.75 1.6 1.6 0 0 0-2.23-.04 1.56 1.56 0 0 0 0 2.2c-.24.1-.5.24-.72.45a1.56 1.56 0 0 0 0 2.2l.52.52a1.56 1.56 0 0 0-.75 2.61L7 19a8.46 8.46 0 0 0 4.48 2.45 5.18 5.18 0 0 0 3.36-.5 4.89 4.89 0 0 0 4.2-1.51c2.75-2.77 2.54-5.74 1.43-7.59L18.1 7.68z"></path></svg></div></a></span></div><div class="pw-multi-vote-count l ni nj nk nl nm nn no"><div class="np"><p class="cg b ej ek et"><button class="au av aw ax ay az ba bb bc bd be bf bg bh bi">676<!-- --> </button></p></div></div></div></span></div><div class="ns o"><div class="o"><button class="nd cn bb" aria-label="responses"><div class="o ao fw"><div class="o ao"><div><div class="ck" role="tooltip" aria-hidden="false"><svg width="24" height="24" viewBox="0 0 24 24" aria-label="responses" class="nt nu nd nh nv"><path d="M18 16.8a7.14 7.14 0 0 0 2.24-5.32c0-4.12-3.53-7.48-8.05-7.48C7.67 4 4 7.36 4 11.48c0 4.13 3.67 7.48 8.2 7.48a8.9 8.9 0 0 0 2.38-.32c.23.2.48.39.75.56 1.06.69 2.2 1.04 3.4 1.04.22 0 .4-.11.48-.29a.5.5 0 0 0-.04-.52 6.4 6.4 0 0 1-1.16-2.65v.02zm-3.12 1.06l-.06-.22-.32.1a8 8 0 0 1-2.3.33c-4.03 0-7.3-2.96-7.3-6.59S8.17 4.9 12.2 4.9c4 0 7.1 2.96 7.1 6.6 0 1.8-.6 3.47-2.02 4.72l-.2.16v.26l.02.3a6.74 6.74 0 0 0 .88 2.4 5.27 5.27 0 0 1-2.17-.86c-.28-.17-.72-.38-.94-.59l.01-.02z"></path></svg></div></div><p class="cg b ej ek et"><span class="pw-responses-count nw nv nu">2</span></p></div></div></button></div></div></div><div class="o ao"><div class="ck" aria-hidden="false" aria-describedby="postFooterSocialMenu" aria-labelledby="postFooterSocialMenu"><div><div class="ck" role="tooltip" aria-hidden="false"><button class="au av aw ax ay az ba bb bc bd be bf bg bh bi" aria-controls="postFooterSocialMenu" aria-expanded="false" aria-label="Share Post"><svg width="25" height="25" class="bk"><g fill-rule="evenodd"><path d="M15.6 5a.42.42 0 0 0 .17-.3.42.42 0 0 0-.12-.33l-2.8-2.79a.5.5 0 0 0-.7 0l-2.8 2.8a.4.4 0 0 0-.1.32c0 .12.07.23.16.3h.02a.45.45 0 0 0 .57-.04l2-2V10c0 .28.23.5.5.5s.5-.22.5-.5V2.93l2.02 2.02c.08.07.18.12.3.13.11.01.21-.02.3-.08v.01"></path><path d="M18 7h-1.5a.5.5 0 0 0 0 1h1.6c.5 0 .9.4.9.9v10.2c0 .5-.4.9-.9.9H6.9a.9.9 0 0 1-.9-.9V8.9c0-.5.4-.9.9-.9h1.6a.5.5 0 0 0 .35-.15A.5.5 0 0 0 9 7.5a.5.5 0 0 0-.15-.35A.5.5 0 0 0 8.5 7H7a2 2 0 0 0-2 2v10c0 1.1.9 2 2 2h11a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2"></path></g></svg></button></div></div></div><div class="nx l ei"></div></div></div></div></div></div></footer></div><div class="o ct"><div class="di dq ds dt du dv dw dx dy dz ea"></div></div><div class="l"><div class="l ny mr"><div class="l mr"><div class="nz oa l ny"><div class="o ct"><div class="di dq ds dt du dv dw dx dy dz ea"><div class="o ao u"><h2 class="cg ob oc od oe kk of og oh ko iz oi oj ks jd ok ol kw jh om on la el en eo oo eq es et"><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" href="https://medium.com/devschacht?source=post_page-----4bf615c6cd50-----------------------------------" rel="noopener follow">More from devSchacht</a></h2><div class="ck" aria-hidden="false" aria-describedby="collectionFollowPopover" aria-labelledby="collectionFollowPopover"></div></div><div class="op l"><p class="cg b ej ek bw">Подкаст. Переводы. Веб-разработка.</p></div></div></div></div></div><div class="oq l"><div class="or os l"><div class="im l ot"><a class="cg b ej ek ou ov ow ox oy oz pa bd pb pc pd pe pf pg ph dl ck pi" href="https://medium.com/devschacht?source=post_page-----4bf615c6cd50-----------------------------------" rel="noopener follow">Read more from <!-- -->devSchacht</a></div></div></div><div class="o ct"><div class="di dq ds dt du dv dw dx dy dz ea"><div class="os l"></div></div></div></div></div></div></main><div class="dk dl c dm h k j i bl dn do dp"><div class="ag dq ck cj"><div class="l bs aq"><div class="dn o br"><div class="l mq"><div class="l c"><div class="l"><div class="os o ao"><div class="pw-susi-button l mq"><span><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener follow" href="https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Fdevschacht%2Funderstanding-lock-files-in-npm-5-4bf615c6cd50&amp;source=--------------------------nav_reg--------------"><button class="cg b ej ek pj ov pk jy pl pm pn po pp pq pb pr ps pt pf dq pg ph dl ck pi" aria-label="sign up">Get started</button></a></span></div></div></div><div class="pu l"><div class="o gq pv pw"><div class="ck" aria-hidden="false" aria-describedby="searchResults" aria-labelledby="searchResults"></div><span class="qb l"><svg width="25" height="25" viewBox="0 0 25 25" fill="rgba(8, 8, 8, 1)"><path d="M20.07 18.93l-4.16-4.15a6 6 0 1 0-.88.88l4.15 4.16a.62.62 0 1 0 .89-.89zM6.5 11a4.75 4.75 0 1 1 9.5 0 4.75 4.75 0 0 1-9.5 0z"></path></svg></span><input role="combobox" aria-controls="searchResults" aria-expanded="false" aria-label="search" tabindex="0" class="cv px cg ej ek mc dq py pz et qa" placeholder="Search" value=""/></div><div class="qc l"></div><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener follow" href="https://medium.com/@amel_true"><div class="l cj"><img alt="Andrey Melikhov" class="l dl ed qd qe" src="https://miro.medium.com/fit/c/176/176/0*X1WurtmmHGZak-DP.jpg" width="88" height="88"/><div class="ec ed l qd qe eg aq"></div></div></a><div class="md l"></div><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener follow" href="https://medium.com/@amel_true"><h2 class="cg ob ch ek hf et">Andrey Melikhov</h2></a><div class="qf l"></div><p class="cg b ej ek et"><span class="cg b ch ci bw"><button class="au av aw ax ay az ba bb bc bd be bf bg bh bi">2.8K Followers</button></span></p><div class="qg l"></div><p class="cg b ej ek bw">Web-developer in big IT company Перевожу всё, до чего дотянусь. Иногда (но редко) пишу сам.</p><div class="qh l"></div><div class="qi o"><span><button class="cg b ej ek ou ov ow ox oy oz pa bd pb pc pd pe pf qj pg ph dl ck pi">Follow</button></span><div class="qk l"><div><div><div class="ck" role="tooltip" aria-hidden="false"><div class="l"><span><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener follow" href="https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F7fcae146f45&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Fdevschacht%2Funderstanding-lock-files-in-npm-5-4bf615c6cd50&amp;newsletterV3=34515607191&amp;newsletterV3Id=7fcae146f45&amp;user=Andrey+Melikhov&amp;userId=34515607191&amp;source=publisher_header_actions--------------------------subscribe_user--------------"><button class="cg b ej ek pj bb pk jy pl pm pn po pp pq pb pc pd pe pf pg ph dl ck pi" aria-label="Subscribe"><svg width="38" height="38" viewBox="0 0 38 38" fill="none" class="ql qm qn"><rect x="26.25" y="9.25" width="0.5" height="6.5" rx="0.25" stroke-width="0.5"></rect><rect x="29.75" y="12.25" width="0.5" height="6.5" rx="0.25" transform="rotate(90 29.75 12.25)" stroke-width="0.5"></rect><path d="M19.5 12.5h-7a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1h13a1 1 0 0 0 1-1v-5" stroke-linecap="round"></path><path d="M11.5 14.5L19 20l4-3" stroke-linecap="round"></path></svg></button></a></span></div></div></div></div></div></div><div class="lv l"><div class="l"><div class="qo qc l"><h2 class="cg ob ch ek hf et">Related</h2></div><div class="l"><div class="dq ag"><a rel="noopener follow" href="https://medium.com/@wojciech-bilicki/canvas-basics-drawing-polygons-and-circles-reactjs-typescript-tutorial-2-90508e3bd827?source=read_next_recirc---------0---------------------73271ad3_ed88_45e1_91a0_537af44bb958----------"><div class="qp o br ct"><div class="o fw"><img alt="" class="qq qf" src="https://miro.medium.com/focal/116/116/50/50/1*Smbz55KaBOW3ey1D4n0ENA.png" width="58" height="58" role="presentation"/><div class="o br"><div class="cg b qr ek el qs en eo qt eq es et"><div>Canvas Basics — Drawing Polygons and Circles- ReactJS, TypeScript Tutorial #2</div></div></div></div></div></a></div><div class="dq ag"><a rel="noopener follow" href="https://medium.com/bitsrc/creating-a-spa-router-using-vanilla-js-95caf348ee4?source=read_next_recirc---------1---------------------73271ad3_ed88_45e1_91a0_537af44bb958----------"><div class="qp o br ct"><div class="o fw"><img alt="" class="qq qf" src="https://miro.medium.com/focal/116/116/50/50/0*b0R_D6PjdSW2wsLk" width="58" height="58" role="presentation"/><div class="o br"><div class="cg b qr ek el qs en eo qt eq es et"><div>How to Create a SPA Router with JavaScript</div></div><div class="cg b qr ek el em en eo ep eq er es bw"><div>How to create a router in JavaScript when you’re not using a library or framework</div></div></div></div></div></a></div><div class="dq ag"><a rel="noopener follow" href="https://medium.com/@emreyuz/5-modern-slider-and-carousel-libraries-c962fd9c3950?source=read_next_recirc---------2---------------------73271ad3_ed88_45e1_91a0_537af44bb958----------"><div class="qp o br ct"><div class="o fw"><div class="o br"><div class="cg b qr ek el qs en eo qt eq es et"><div>5 Modern Slider And Carousel Libraries</div></div><div class="cg b qr ek el em en eo ep eq er es bw"><div>The biggest part of web sites that using sliders on header section of page and even landings. So you may want big impact on visitors on…</div></div></div></div></div></a></div><div class="dq ag"><a rel="noopener follow" href="https://medium.com/@brandonwie/absolute-paths-in-react-using-craco-feat-typescript-and-ts-jest-fe6709b0b732?source=read_next_recirc---------3---------------------73271ad3_ed88_45e1_91a0_537af44bb958----------"><div class="qp o br ct"><div class="o fw"><img alt="An endless straight road on a desert area" class="qq qf" src="https://miro.medium.com/focal/116/116/50/50/1*q-aanNRIIPLxWUJUq3H3Gw.jpeg" width="58" height="58"/><div class="o br"><div class="cg b qr ek el qs en eo qt eq es et"><div>Absolute paths in React using craco (feat. TypeScript and ts-jest)</div></div></div></div></div></a></div></div></div></div></div></div></div><div class="qu o fw gh"><div class="qv l"><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" href="https://help.medium.com/hc/en-us" rel="noopener follow"><p class="cg b qw qx bw">Help</p></a></div><div class="qv l"><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" href="https://medium.statuspage.io" rel="noopener follow"><p class="cg b qw qx bw">Status</p></a></div><div class="qv l"><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" href="https://about.medium.com/creators/" rel="noopener follow"><p class="cg b qw qx bw">Writers</p></a></div><div class="qv l"><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" href="https://blog.medium.com" rel="noopener follow"><p class="cg b qw qx bw">Blog</p></a></div><div class="qv l"><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener follow" href="https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e"><p class="cg b qw qx bw">Careers</p></a></div><div class="qv l"><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" href="https://policy.medium.com/medium-privacy-policy-f03bf92035c9" rel="noopener follow"><p class="cg b qw qx bw">Privacy</p></a></div><div class="qv l"><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" href="https://policy.medium.com/medium-terms-of-service-9db0094a1e0f" rel="noopener follow"><p class="cg b qw qx bw">Terms</p></a></div><div class="qv l"><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" href="https://medium.com/about?autoplay=1" rel="noopener follow"><p class="cg b qw qx bw">About</p></a></div><div class="qv l"><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" href="https://knowable.fyi" rel="noopener follow"><p class="cg b qw qx bw">Knowable</p></a></div></div></div></div></div></div></div></div></div></div></div><script>window.__BUILD_ID__="main-20220228-192437-866638e104"</script><script>window.__GRAPHQL_URI__ = "https://medium.com/_/graphql"</script><script>window.__PRELOADED_STATE__ = {"algolia":{"queries":{}},"auroraPage":{"isAuroraPageEnabled":false},"bookReader":{"assets":{},"reader":{"currentAsset":null,"currentGFI":null,"settingsPanelIsOpen":false,"settings":{"fontFamily":"CHARTER","fontScale":"M","publisherStyling":false,"textAlignment":"start","theme":"White","lineSpacing":0,"wordSpacing":0,"letterSpacing":0},"internalNavCounter":0,"currentSelection":null}},"cache":{"experimentGroupSet":true,"reason":"","group":"enabled","tags":["group-edgeCachePosts","post-4bf615c6cd50","user-34515607191","collection-158101b38405"],"serverVariantState":"44136fa355b3678a1146ad16f7e8649e94fb4fc21fe77e8310c060f61caaff8a","middlewareEnabled":true,"cacheStatus":"DYNAMIC","shouldUseCache":true,"vary":["enable_medium_app_lo"]},"client":{"hydrated":false,"isUs":false,"isNativeMedium":false,"isSafariMobile":false,"isSafari":false,"isFirefox":false,"routingEntity":{"type":"DEFAULT","explicit":false},"viewerIsBot":false},"debug":{"requestId":"fe91bd8d-f89c-4c78-a1a1-2c6551d4de37","hybridDevServices":[],"showBookReaderDebugger":false,"originalSpanCarrier":{"ot-tracer-spanid":"0a5cd2c54f7b15c4","ot-tracer-traceid":"27a7f617e0b93eb9","ot-tracer-sampled":"true"}},"multiVote":{"clapsPerPost":{}},"navigation":{"branch":{"show":null,"hasRendered":null,"blockedByCTA":false},"hideGoogleOneTap":false,"hasRenderedGoogleOneTap":null,"hasRenderedAlternateUserBanner":null,"currentLocation":"https:\u002F\u002Fmedium.com\u002Fdevschacht\u002Funderstanding-lock-files-in-npm-5-4bf615c6cd50","host":"medium.com","hostname":"medium.com","referrer":"","hasSetReferrer":false,"susiModal":{"step":null,"operation":"register"},"postRead":false,"queryString":"","currentHash":""},"tracing":{},"userOnboarding":{"showFirstBookPurchaseTooltip":false},"config":{"nodeEnv":"production","version":"main-20220228-192437-866638e104","isTaggedVersion":false,"isMediumDotApp":false,"isMediumDotAppVariant":false,"target":"production","productName":"Medium","publicUrl":"https:\u002F\u002Fcdn-client.medium.com\u002Flite","authDomain":"medium.com","authGoogleClientId":"216296035834-k1k6qe060s2tp2a2jam4ljdcms00sttg.apps.googleusercontent.com","favicon":"production","glyphUrl":"https:\u002F\u002Fglyph.medium.com","branchKey":"key_live_ofxXr2qTrrU9NqURK8ZwEhknBxiI6KBm","lightStep":{"name":"lite-web","host":"lightstep.medium.systems","token":"ce5be895bef60919541332990ac9fef2","appVersion":"main-20220228-192437-866638e104","disableClientReporting":true},"algolia":{"appId":"MQ57UUUQZ2","apiKeySearch":"394474ced050e3911ae2249ecc774921","indexPrefix":"medium_","host":"-dsn.algolia.net"},"recaptchaKey":"6Lfc37IUAAAAAKGGtC6rLS13R1Hrw_BqADfS1LRk","recaptcha3Key":"6Lf8R9wUAAAAABMI_85Wb8melS7Zj6ziuf99Yot5","datadog":{"applicationId":"6702d87d-a7e0-42fe-bbcb-95b469547ea0","clientToken":"pub853ea8d17ad6821d9f8f11861d23dfed","rumToken":"pubf9cc52896502b9413b68ba36fc0c7162","context":{"deployment":{"target":"production","tag":"main-20220228-192437-866638e104","commit":"866638e104482a29ccb6bc1e0e01bf90b30887f8"}},"datacenter":"us"},"googleAnalyticsCode":"UA-24232453-2","googlePay":{"apiVersion":"2","apiVersionMinor":"0","merchantId":"BCR2DN6TV7EMTGBM","merchantName":"Medium","instanceMerchantId":"13685562959212738550"},"applePay":{"version":3},"signInWallCustomDomainCollectionIds":["3a8144eabfe3","336d898217ee","61061eb0c96b","138adf9c44c","819cc2aaeee0"],"mediumOwnedAndOperatedCollectionIds":["8a9336e5bb4","b7e45b22fec3","193b68bd4fba","8d6b8a439e32","54c98c43354d","3f6ecf56618","d944778ce714","92d2092dc598","ae2a65f35510","1285ba81cada","544c7006046e","fc8964313712","40187e704f1c","88d9857e584e","7b6769f2748b","bcc38c8f6edf","cef6983b292","cb8577c9149e","444d13b52878","713d7dbc99b0","ef8e90590e66","191186aaafa0","55760f21cdc5","9dc80918cc93","bdc4052bbdba","8ccfed20cbb2"],"tierOneDomains":["medium.com","thebolditalic.com","arcdigital.media","towardsdatascience.com","uxdesign.cc","codeburst.io","psiloveyou.xyz","writingcooperative.com","entrepreneurshandbook.co","prototypr.io","betterhumans.coach.me","theascent.pub"],"topicsToFollow":["d61cf867d93f","8a146bc21b28","1eca0103fff3","4d562ee63426","aef1078a3ef5","e15e46793f8d","6158eb913466","55f1c20aba7a","3d18b94f6858","4861fee224fd","63c6f1f93ee","1d98b3a9a871","decb52b64abf","ae5d4995e225","830cded25262"],"topicToTagMappings":{"accessibility":"accessibility","addiction":"addiction","android-development":"android-development","art":"art","artificial-intelligence":"artificial-intelligence","astrology":"astrology","basic-income":"basic-income","beauty":"beauty","biotech":"biotech","blockchain":"blockchain","books":"books","business":"business","cannabis":"cannabis","cities":"cities","climate-change":"climate-change","comics":"comics","coronavirus":"coronavirus","creativity":"creativity","cryptocurrency":"cryptocurrency","culture":"culture","cybersecurity":"cybersecurity","data-science":"data-science","design":"design","digital-life":"digital-life","disability":"disability","economy":"economy","education":"education","equality":"equality","family":"family","feminism":"feminism","fiction":"fiction","film":"film","fitness":"fitness","food":"food","freelancing":"freelancing","future":"future","gadgets":"gadgets","gaming":"gaming","gun-control":"gun-control","health":"health","history":"history","humor":"humor","immigration":"immigration","ios-development":"ios-development","javascript":"javascript","justice":"justice","language":"language","leadership":"leadership","lgbtqia":"lgbtqia","lifestyle":"lifestyle","machine-learning":"machine-learning","makers":"makers","marketing":"marketing","math":"math","media":"media","mental-health":"mental-health","mindfulness":"mindfulness","money":"money","music":"music","neuroscience":"neuroscience","nonfiction":"nonfiction","outdoors":"outdoors","parenting":"parenting","pets":"pets","philosophy":"philosophy","photography":"photography","podcasts":"podcast","poetry":"poetry","politics":"politics","privacy":"privacy","product-management":"product-management","productivity":"productivity","programming":"programming","psychedelics":"psychedelics","psychology":"psychology","race":"race","relationships":"relationships","religion":"religion","remote-work":"remote-work","san-francisco":"san-francisco","science":"science","self":"self","self-driving-cars":"self-driving-cars","sexuality":"sexuality","social-media":"social-media","society":"society","software-engineering":"software-engineering","space":"space","spirituality":"spirituality","sports":"sports","startups":"startup","style":"style","technology":"technology","transportation":"transportation","travel":"travel","true-crime":"true-crime","tv":"tv","ux":"ux","venture-capital":"venture-capital","visual-design":"visual-design","work":"work","world":"world","writing":"writing"},"defaultImages":{"avatar":{"imageId":"1*dmbNkD5D-u45r44go_cf0g.png","height":150,"width":150},"orgLogo":{"imageId":"1*OMF3fSqH8t4xBJ9-6oZDZw.png","height":106,"width":545},"postLogo":{"imageId":"1*kFrc4tBFM_tCis-2Ic87WA.png","height":810,"width":1440},"postPreviewImage":{"imageId":"1*hn4v1tCaJy7cWMyb0bpNpQ.png","height":386,"width":579}},"collectionStructuredData":{"8d6b8a439e32":{"name":"Elemental","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F980\u002F1*9ygdqoKprhwuTVKUM0DLPA@2x.png","width":980,"height":159}}},"3f6ecf56618":{"name":"Forge","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F596\u002F1*uULpIlImcO5TDuBZ6lm7Lg@2x.png","width":596,"height":183}}},"ae2a65f35510":{"name":"GEN","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F264\u002F1*RdVZMdvfV3YiZTw6mX7yWA.png","width":264,"height":140}}},"88d9857e584e":{"name":"LEVEL","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F540\u002F1*JqYMhNX6KNNb2UlqGqO2WQ.png","width":540,"height":108}}},"7b6769f2748b":{"name":"Marker","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F383\u002F1*haCUs0wF6TgOOvfoY-jEoQ@2x.png","width":383,"height":92}}},"444d13b52878":{"name":"OneZero","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F540\u002F1*cw32fIqCbRWzwJaoQw6BUg.png","width":540,"height":123}}},"8ccfed20cbb2":{"name":"Zora","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F540\u002F1*tZUQqRcCCZDXjjiZ4bDvgQ.png","width":540,"height":106}}}},"embeddedPostIds":{"coronavirus":"cd3010f9d81f"},"sharedCdcMessaging":{"COVID_APPLICABLE_TAG_SLUGS":[],"COVID_APPLICABLE_TOPIC_NAMES":[],"COVID_APPLICABLE_TOPIC_NAMES_FOR_TOPIC_PAGE":[],"COVID_MESSAGES":{"tierA":{"text":"For more information on the novel coronavirus and Covid-19, visit cdc.gov.","markups":[{"start":66,"end":73,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]},"tierB":{"text":"Anyone can publish on Medium per our Policies, but we don’t fact-check every story. For more info about the coronavirus, see cdc.gov.","markups":[{"start":37,"end":45,"href":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Fcategories\u002F201931128-Policies-Safety"},{"start":125,"end":132,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]},"paywall":{"text":"This article has been made free for everyone, thanks to Medium Members. For more information on the novel coronavirus and Covid-19, visit cdc.gov.","markups":[{"start":56,"end":70,"href":"https:\u002F\u002Fmedium.com\u002Fmembership"},{"start":138,"end":145,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]},"unbound":{"text":"This article is free for everyone, thanks to Medium Members. For more information on the novel coronavirus and Covid-19, visit cdc.gov.","markups":[{"start":45,"end":59,"href":"https:\u002F\u002Fmedium.com\u002Fmembership"},{"start":127,"end":134,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]}},"COVID_BANNER_POST_ID_OVERRIDE_WHITELIST":["3b31a67bff4a"]},"sharedVoteMessaging":{"TAGS":["politics","election-2020","government","us-politics","election","2020-presidential-race","trump","donald-trump","democrats","republicans","congress","republican-party","democratic-party","biden","joe-biden","maga"],"TOPICS":["politics","election"],"MESSAGE":{"text":"Find out more about the U.S. election results here.","markups":[{"start":46,"end":50,"href":"https:\u002F\u002Fcookpolitical.com\u002F2020-national-popular-vote-tracker"}]},"EXCLUDE_POSTS":["397ef29e3ca5"]},"embedPostRules":[],"recircOptions":{"v1":{"limit":3},"v2":{"limit":8}},"braintreeClientKey":"production_zjkj96jm_m56f8fqpf7ngnrd4","braintree":{"enabled":true,"merchantId":"m56f8fqpf7ngnrd4","merchantAccountId":{"usd":"AMediumCorporation_instant","eur":"amediumcorporation_EUR","cad":"amediumcorporation_CAD"},"publicKey":"cwr8xtycwgjryv82","braintreeEnvironment":"production","dashboardUrl":"https:\u002F\u002Fwww.braintreegateway.com\u002Fmerchants","gracePeriodDurationInDays":14,"mediumMembershipPlanId":{"monthly":"ce105f8c57a3","monthlyWithTrial":"d5ee3dbe3db8","yearly":"a40ad4a43185","yearlyStaff":"d74fb811198a","yearlyWithTrial":"b3bc7350e5c7"},"braintreeDiscountId":{"oneMonthFree":"MONTHS_FREE_01","threeMonthsFree":"MONTHS_FREE_03","sixMonthsFree":"MONTHS_FREE_06"},"3DSecureVersion":"2","defaultCurrency":"usd","providerPlanIdCurrency":{"4ycw":"usd","rz3b":"usd","3kqm":"usd","jzw6":"usd","c2q2":"usd","nnsw":"usd"}},"paypalClientId":"AXj1G4fotC2GE8KzWX9mSxCH1wmPE3nJglf4Z2ig_amnhvlMVX87otaq58niAg9iuLktVNF_1WCMnN7v","paypal":{"host":"https:\u002F\u002Fapi.paypal.com:443","clientMode":"production","serverMode":"live","webhookId":"4G466076A0294510S","monthlyPlan":{"planId":"P-9WR0658853113943TMU5FDQA","name":"Medium Membership (Monthly) with setup fee","description":"Unlimited access to the best and brightest stories on Medium. Membership billed monthly."},"yearlyPlan":{"planId":"P-7N8963881P8875835MU5JOPQ","name":"Medium Membership (Annual) with setup fee","description":"Unlimited access to the best and brightest stories on Medium. Membership billed annually."},"oneYearGift":{"name":"Medium Membership (1 Year, Digital Gift Code)","description":"Unlimited access to the best and brightest stories on Medium. Gift codes can be redeemed at medium.com\u002Fredeem.","price":"50.00","currency":"USD","sku":"membership-gift-1-yr"},"oldMonthlyPlan":{"planId":"P-96U02458LM656772MJZUVH2Y","name":"Medium Membership (Monthly)","description":"Unlimited access to the best and brightest stories on Medium. Membership billed monthly."},"oldYearlyPlan":{"planId":"P-59P80963JF186412JJZU3SMI","name":"Medium Membership (Annual)","description":"Unlimited access to the best and brightest stories on Medium. Membership billed annually."},"monthlyPlanWithTrial":{"planId":"P-66C21969LR178604GJPVKUKY","name":"Medium Membership (Monthly) with setup fee","description":"Unlimited access to the best and brightest stories on Medium. Membership billed monthly."},"yearlyPlanWithTrial":{"planId":"P-6XW32684EX226940VKCT2MFA","name":"Medium Membership (Annual) with setup fee","description":"Unlimited access to the best and brightest stories on Medium. Membership billed annually."},"oldMonthlyPlanNoSetupFee":{"planId":"P-4N046520HR188054PCJC7LJI","name":"Medium Membership (Monthly)","description":"Unlimited access to the best and brightest stories on Medium. Membership billed monthly."},"oldYearlyPlanNoSetupFee":{"planId":"P-7A4913502Y5181304CJEJMXQ","name":"Medium Membership (Annual)","description":"Unlimited access to the best and brightest stories on Medium. Membership billed annually."},"sdkUrl":"https:\u002F\u002Fwww.paypal.com\u002Fsdk\u002Fjs"},"stripePublishableKey":"pk_live_7FReX44VnNIInZwrIIx6ghjl","log":{"json":true,"level":"info"}},"session":{"xsrf":""}}</script><script>window.__APOLLO_STATE__ = {"ROOT_QUERY":{"__typename":"Query","collectionByDomainOrSlug({\"domainOrSlug\":\"devschacht\"})":{"__ref":"Collection:158101b38405"},"postResult({\"id\":\"4bf615c6cd50\"})":{"__ref":"Post:4bf615c6cd50"},"recirc({\"paging\":{\"limit\":4},\"postId\":\"4bf615c6cd50\"})":{"__typename":"RexRecircResult","items":[{"__typename":"RexRecircItem","post":{"__ref":"Post:90508e3bd827"},"feedId":"73271ad3-ed88-45e1-91a0-537af44bb958"},{"__typename":"RexRecircItem","post":{"__ref":"Post:95caf348ee4"},"feedId":"73271ad3-ed88-45e1-91a0-537af44bb958"},{"__typename":"RexRecircItem","post":{"__ref":"Post:c962fd9c3950"},"feedId":"73271ad3-ed88-45e1-91a0-537af44bb958"},{"__typename":"RexRecircItem","post":{"__ref":"Post:fe6709b0b732"},"feedId":"73271ad3-ed88-45e1-91a0-537af44bb958"}]}},"Collection:158101b38405":{"id":"158101b38405","__typename":"Collection","customStyleSheet":null,"colorPalette":{"__typename":"ColorPalette","highlightSpectrum":{"__typename":"ColorSpectrum","backgroundColor":"#FFFFFFFF","colorPoints":[{"__typename":"ColorPoint","color":"#FFF4F2F2","point":0},{"__typename":"ColorPoint","color":"#FFF2F0F0","point":0.1},{"__typename":"ColorPoint","color":"#FFF0EEEE","point":0.2},{"__typename":"ColorPoint","color":"#FFEEECEC","point":0.3},{"__typename":"ColorPoint","color":"#FFECEBEA","point":0.4},{"__typename":"ColorPoint","color":"#FFEAE9E8","point":0.5},{"__typename":"ColorPoint","color":"#FFE8E7E7","point":0.6},{"__typename":"ColorPoint","color":"#FFE6E5E5","point":0.7},{"__typename":"ColorPoint","color":"#FFE4E3E3","point":0.8},{"__typename":"ColorPoint","color":"#FFE2E1E1","point":0.9},{"__typename":"ColorPoint","color":"#FFE0DFDF","point":1}]},"defaultBackgroundSpectrum":{"__typename":"ColorSpectrum","backgroundColor":"#FFFFFFFF","colorPoints":[{"__typename":"ColorPoint","color":"#FF848585","point":0},{"__typename":"ColorPoint","color":"#FF7B7B7B","point":0.1},{"__typename":"ColorPoint","color":"#FF717272","point":0.2},{"__typename":"ColorPoint","color":"#FF686868","point":0.3},{"__typename":"ColorPoint","color":"#FF5E5E5E","point":0.4},{"__typename":"ColorPoint","color":"#FF545454","point":0.5},{"__typename":"ColorPoint","color":"#FF494A4A","point":0.6},{"__typename":"ColorPoint","color":"#FF3F3F3F","point":0.7},{"__typename":"ColorPoint","color":"#FF333333","point":0.8},{"__typename":"ColorPoint","color":"#FF272727","point":0.9},{"__typename":"ColorPoint","color":"#FF1A1A1A","point":1}]},"tintBackgroundSpectrum":{"__typename":"ColorSpectrum","backgroundColor":"#FFFFFFFF","colorPoints":[{"__typename":"ColorPoint","color":"#FFFFFFFF","point":0},{"__typename":"ColorPoint","color":"#FFECECEC","point":0.1},{"__typename":"ColorPoint","color":"#FFD9D9D9","point":0.2},{"__typename":"ColorPoint","color":"#FFC5C6C6","point":0.3},{"__typename":"ColorPoint","color":"#FFB1B1B1","point":0.4},{"__typename":"ColorPoint","color":"#FF9C9D9D","point":0.5},{"__typename":"ColorPoint","color":"#FF868787","point":0.6},{"__typename":"ColorPoint","color":"#FF6F7071","point":0.7},{"__typename":"ColorPoint","color":"#FF575959","point":0.8},{"__typename":"ColorPoint","color":"#FF3D3F3F","point":0.9},{"__typename":"ColorPoint","color":"#FF202122","point":1}]}},"googleAnalyticsId":null,"domain":null,"name":"devSchacht","slug":"devschacht","newsletterV3":null,"avatar":{"__ref":"ImageMetadata:1*-O--sJwQmHLmOq4JSpqV-A.png"},"isAuroraVisible":false,"legacyHeaderBackgroundImage":{"__ref":"ImageMetadata:1*5t8Dk1Am7uFQoVweyKRTjA.jpeg"},"navItems":[{"__typename":"NavItem","tagSlug":null,"title":"Node.js","url":"https:\u002F\u002Fmedium.com\u002Fdevschacht\u002Fnode\u002Fhome"},{"__typename":"NavItem","tagSlug":null,"title":"ХАРДКОР","url":"https:\u002F\u002Fmedium.com\u002Fdevschacht\u002Fhardcore\u002Fhome"},{"__typename":"NavItem","tagSlug":null,"title":"ФП","url":"https:\u002F\u002Fmedium.com\u002Fdevschacht\u002Ffp\u002Fhome"},{"__typename":"NavItem","tagSlug":null,"title":"ДЛЯ НАЧИНАЮЩИХ","url":"https:\u002F\u002Fmedium.com\u002Fdevschacht\u002Ffor-dummies\u002Fhome"},{"__typename":"NavItem","tagSlug":null,"title":"Подкасты","url":"https:\u002F\u002Fmedium.com\u002Fdevschacht\u002Fpodcast\u002Fhome"},{"__typename":"NavItem","tagSlug":null,"title":"Vue.js","url":"https:\u002F\u002Fmedium.com\u002Fdevschacht\u002Fvue\u002Fhome"},{"__typename":"NavItem","tagSlug":null,"title":"УЧАСТИЕ","url":"https:\u002F\u002Fmedium.com\u002Fdevschacht\u002Fcontributing-4e86e4481699"},{"__typename":"NavItem","tagSlug":null,"title":"Поддержи проект","url":"https:\u002F\u002Fwww.patreon.com\u002Fdevschacht"}],"canToggleEmail":false,"logo":{"__ref":"ImageMetadata:1*5t8Dk1Am7uFQoVweyKRTjA.jpeg"},"subscriberCount":5935,"twitterUsername":"devschacht","facebookPageId":null,"creator":{"__ref":"User:d36721421183"},"customDomainState":null,"ptsQualifiedAt":1616092776582,"description":"Подкаст. Переводы. Веб-разработка.","isAuroraEligible":false,"viewerEdge":{"__ref":"CollectionViewerEdge:collectionId:158101b38405-viewerId:lo_72c4ba5e0caa"}},"UserViewerEdge:userId:34515607191-viewerId:lo_72c4ba5e0caa":{"id":"userId:34515607191-viewerId:lo_72c4ba5e0caa","__typename":"UserViewerEdge","isFollowing":false,"isUser":false},"NewsletterV3:7fcae146f45":{"id":"7fcae146f45","__typename":"NewsletterV3","type":"NEWSLETTER_TYPE_AUTHOR","slug":"34515607191","name":"34515607191","collection":null,"user":{"__ref":"User:34515607191"},"description":"","promoHeadline":"","promoBody":"","subscribersCount":4,"showPromo":false},"User:34515607191":{"id":"34515607191","__typename":"User","name":"Andrey Melikhov","username":"amel_true","newsletterV3":{"__ref":"NewsletterV3:7fcae146f45"},"imageId":"0*X1WurtmmHGZak-DP.jpg","socialStats":{"__typename":"SocialStats","followerCount":2862,"followingCount":67,"collectionFollowingCount":10},"customStyleSheet":null,"bio":"Web-developer in big IT company Перевожу всё, до чего дотянусь. Иногда (но редко) пишу сам.","isPartnerProgramEnrolled":false,"viewerEdge":{"__ref":"UserViewerEdge:userId:34515607191-viewerId:lo_72c4ba5e0caa"},"viewerIsUser":false,"customDomainState":null,"hasSubdomain":false,"postSubscribeMembershipUpsellShownAt":0,"followedCollections":10,"isSuspended":false,"about":"","bookAuthor":null,"homepagePostsConnection({\"paging\":{\"limit\":1}})":{"__typename":"PostConnection","posts":[{"__ref":"Post:fc75fc555c6a"}]},"mediumMemberAt":0,"allowNotes":true,"isAuroraVisible":true,"twitterScreenName":"amel_true","referredMembershipCustomHeadline":"","referredMembershipCustomBody":"","atsQualifiedAt":1612205285530},"Post:4bf615c6cd50":{"id":"4bf615c6cd50","__typename":"Post","firstPublishedAt":1497945664884,"visibility":"PUBLIC","creator":{"__ref":"User:34515607191"},"canonicalUrl":"","collection":{"__ref":"Collection:158101b38405"},"content({\"postMeteringOptions\":null})":{"__typename":"PostContent","isLockedPreviewOnly":false,"validatedShareKey":"","bodyModel":{"__typename":"RichText","paragraphs":[{"__ref":"Paragraph:951688e2b9d7_0"},{"__ref":"Paragraph:951688e2b9d7_1"},{"__ref":"Paragraph:951688e2b9d7_2"},{"__ref":"Paragraph:951688e2b9d7_3"},{"__ref":"Paragraph:951688e2b9d7_4"},{"__ref":"Paragraph:951688e2b9d7_5"},{"__ref":"Paragraph:951688e2b9d7_6"},{"__ref":"Paragraph:951688e2b9d7_7"},{"__ref":"Paragraph:951688e2b9d7_8"},{"__ref":"Paragraph:951688e2b9d7_9"},{"__ref":"Paragraph:951688e2b9d7_10"},{"__ref":"Paragraph:951688e2b9d7_11"},{"__ref":"Paragraph:951688e2b9d7_12"},{"__ref":"Paragraph:951688e2b9d7_13"},{"__ref":"Paragraph:951688e2b9d7_14"},{"__ref":"Paragraph:951688e2b9d7_15"},{"__ref":"Paragraph:951688e2b9d7_16"},{"__ref":"Paragraph:951688e2b9d7_17"},{"__ref":"Paragraph:951688e2b9d7_18"},{"__ref":"Paragraph:951688e2b9d7_19"},{"__ref":"Paragraph:951688e2b9d7_20"},{"__ref":"Paragraph:951688e2b9d7_21"},{"__ref":"Paragraph:951688e2b9d7_22"},{"__ref":"Paragraph:951688e2b9d7_23"},{"__ref":"Paragraph:951688e2b9d7_24"},{"__ref":"Paragraph:951688e2b9d7_25"},{"__ref":"Paragraph:951688e2b9d7_26"},{"__ref":"Paragraph:951688e2b9d7_27"},{"__ref":"Paragraph:951688e2b9d7_28"},{"__ref":"Paragraph:951688e2b9d7_29"},{"__ref":"Paragraph:951688e2b9d7_30"},{"__ref":"Paragraph:951688e2b9d7_31"},{"__ref":"Paragraph:951688e2b9d7_32"},{"__ref":"Paragraph:951688e2b9d7_33"}],"sections":[{"__typename":"Section","name":"a9e6","startIndex":0,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null},{"__typename":"Section","name":"3057","startIndex":31,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null},{"__typename":"Section","name":"e11a","startIndex":32,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null}]}},"customStyleSheet":null,"isPublished":true,"isLocked":false,"isMarkedPaywallOnly":false,"mediumUrl":"https:\u002F\u002Fmedium.com\u002Fdevschacht\u002Funderstanding-lock-files-in-npm-5-4bf615c6cd50","allowResponses":true,"postResponses":{"__typename":"PostResponses","count":2},"isLimitedState":false,"isNewsletter":false,"layerCake":0,"tags":[{"__ref":"Tag:javascript"},{"__ref":"Tag:npm"},{"__ref":"Tag:девшахта"},{"__ref":"Tag:devschacht-news"}],"topics":[],"readingTime":5.59622641509434,"uniqueSlug":"understanding-lock-files-in-npm-5-4bf615c6cd50","isSeries":false,"sequence":null,"primaryTopic":null,"socialTitle":"","socialDek":"","noIndex":null,"curationStatus":"CURATION_STATUS_DISABLED","metaDescription":"","latestPublishedAt":1507380960346,"previewContent":{"__typename":"PreviewContent","subtitle":"Перевод статьи Jiří Pospíšil: Understanding lock files in NPM 5. Опубликовано с разрешения автора."},"previewImage":{"__ref":"ImageMetadata:1*Ol_Cbq4xAJLwHgZKgJFbZQ.png"},"isShortform":false,"isSuspended":false,"responseRootPost":{"__typename":"ResponseRootPost","post":{"__ref":"Post:4bf615c6cd50"}},"lockedSource":"LOCKED_POST_SOURCE_NONE","clapCount":676,"statusForCollection":"APPROVED","pendingCollection":null,"title":"Разбираемся с lock-файлами в NPM 5","inResponseToEntityType":null,"seoTitle":"","updatedAt":1529484880629,"shortformType":"SHORTFORM_TYPE_LINK","structuredData":"","seoDescription":"","isIndexable":true,"pinnedAt":0,"internalLinks({\"paging\":{\"limit\":8}})":{"__typename":"InternalLinksConnection","items":[]},"pinnedByCreatorAt":0,"curationEligibleAt":0,"responseDistribution":"NOT_DISTRIBUTED","inResponseToPostResult":null,"inResponseToCatalogResult":null,"latestPublishedVersion":"951688e2b9d7","isAuthorNewsletter":false,"viewerEdge":{"__ref":"PostViewerEdge:postId:4bf615c6cd50-viewerId:lo_72c4ba5e0caa"},"voterCount":93,"recommenders":[]},"ImageMetadata:1*-O--sJwQmHLmOq4JSpqV-A.png":{"id":"1*-O--sJwQmHLmOq4JSpqV-A.png","__typename":"ImageMetadata"},"ImageMetadata:1*5t8Dk1Am7uFQoVweyKRTjA.jpeg":{"id":"1*5t8Dk1Am7uFQoVweyKRTjA.jpeg","__typename":"ImageMetadata","originalWidth":3600,"focusPercentX":63.57142857142857,"focusPercentY":2.380952380952381,"originalHeight":1616},"Post:fc75fc555c6a":{"id":"fc75fc555c6a","__typename":"Post"},"Paragraph:951688e2b9d7_0":{"id":"951688e2b9d7_0","__typename":"Paragraph","name":"2c25","text":"Разбираемся с lock-файлами в NPM 5","type":"H3","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:951688e2b9d7_1":{"id":"951688e2b9d7_1","__typename":"Paragraph","name":"8e55","text":"","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*Ol_Cbq4xAJLwHgZKgJFbZQ.png"},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:951688e2b9d7_2":{"id":"951688e2b9d7_2","__typename":"Paragraph","name":"5ee9","text":"Перевод статьи Jiří Pospíšil: Understanding lock files in NPM 5. Опубликовано с разрешения автора.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":15,"end":28,"href":"http:\u002F\u002Fjpospisil.com\u002F","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"A","start":30,"end":63,"href":"http:\u002F\u002Fjpospisil.com\u002F2017\u002F06\u002F02\u002Funderstanding-lock-files-in-npm-5.html","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":0,"end":98,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}]},"Paragraph:951688e2b9d7_3":{"id":"951688e2b9d7_3","__typename":"Paragraph","name":"cc26","text":"Следующая мажорная версия NPM приносит ряд улучшений по сравнению с предыдущими версиями с точки зрения скорости, безопасности и множества других отличных вещей. Однако самым необычным с точки зрения пользователя является новый lock-файл. Фактически, теперь у нас несколько lock-файлов: «старый» npm-shrinkwrap.json и новый package-lock.json. Подробнее об этом чуть ниже, а пока небольшая вводная для непосвящённых. Файл package.json описывает зависимости верхнего уровня от других пакетов с помощью semver. Каждый пакет может, в свою очередь, зависеть от других пакетов и так далее, тому подобное. Lock-файл — это моментальный снимок всего дерева зависимостей, включающий все пакеты и их установленные версии.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":296,"end":315,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":324,"end":341,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":421,"end":433,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"A","start":146,"end":160,"href":"https:\u002F\u002Fmedium.com\u002Fdevschacht\u002Fnpm-5-is-now-npm-latest-9ef037c9f5f5","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"A","start":500,"end":506,"href":"http:\u002F\u002Fsemver.org\u002F","anchorType":"LINK","userId":null,"linkMetadata":null}]},"Paragraph:951688e2b9d7_4":{"id":"951688e2b9d7_4","__typename":"Paragraph","name":"ae4c","text":"В отличие от предыдущей версии, lock-файл теперь включает в себя поле целостности (integrity), использующее Subresource Integrity (SRI) для проверки того, что установливаемый пакет не был подменён или иным образом недействителен. В настоящее время он поддерживает SHA-1 для пакетов, опубликованных с помощью NPM предыдущей версии, и SHA-512 для текущей.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":108,"end":135,"href":"https:\u002F\u002Fw3c.github.io\u002Fwebappsec-subresource-integrity\u002F","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":83,"end":92,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}]},"Paragraph:951688e2b9d7_5":{"id":"951688e2b9d7_5","__typename":"Paragraph","name":"5555","text":"В файле больше нет поля from, которое вместе с иногда неконсистентной version, как известно, было источником боли при просмотре изменений файлов во время процесса код-ревью. Теперь изменения в пулл-реквестах должны быть намного чище.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":24,"end":28,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":70,"end":77,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}]},"Paragraph:951688e2b9d7_6":{"id":"951688e2b9d7_6","__typename":"Paragraph","name":"eb01","text":"Lock-файл теперь также содержит версию формата, указанную в поле lockfileVersion, установленную в значение 1. Это значит, что при будущих обновлениях формата не придётся угадывать, какую конкретную версию использует lock-файл. Предыдущий формат по-прежнему поддерживается и распознается как версия 0.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":65,"end":80,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":107,"end":108,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":298,"end":299,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}]},"Paragraph:951688e2b9d7_7":{"id":"951688e2b9d7_7","__typename":"Paragraph","name":"0d97","text":"{\n  \"name\": \"package-name\",\n  \"version\": \"1.0.0\",\n  \"lockfileVersion\": 1,\n  \"dependencies\": {\n    \"cacache\": {\n      \"version\": \"9.2.6\",\n      \"resolved\": \"https:\u002F\u002Fregistry.npmjs.org\u002Fcacache\u002F-\u002Fcacache-9.2.6.tgz\",\n      \"integrity\": \"sha512-YK0Z5Np5t755edPL6gfdCeGxtU0rcW\u002FDBhYhYVDckT+7AFkCCtedf2zru5NRbBLFk6e7Agi\u002FRaqTOAfiaipUfg==\"\n    },\n    \"duplexify\": {\n      \"version\": \"3.5.0\",\n      \"resolved\": \"https:\u002F\u002Fregistry.npmjs.org\u002Fduplexify\u002F-\u002Fduplexify-3.5.0.tgz\",\n      \"integrity\": \"sha1-GqdzAC4VeEV+nZ1KULDMquvL1gQ=\",\n      \"dependencies\": {\n        \"end-of-stream\": {\n          \"version\": \"1.0.0\",\n          \"resolved\": \"https:\u002F\u002Fregistry.npmjs.org\u002Fend-of-stream\u002F-\u002Fend-of-stream-1.0.0.tgz\",\n          \"integrity\": \"sha1-1FlucCc0qT5A6a+GQxnqvZn\u002FLw4=\"\n        },","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:951688e2b9d7_8":{"id":"951688e2b9d7_8","__typename":"Paragraph","name":"a4b2","text":"Возможно, вы заметили, что поле resolved все еще присутствует в файле и указывает на определенный URI. Обратите внимание, однако, что NPM теперь может определить (на основе параметров в .npmrc), что система настроена на использование другого реестра, и если это так, он будет прозрачно использовать его вместо указанного. Это хорошо работает с полем целостности, потому что теперь, пока пакет соответствует сигнатуре, не имеет значения, откуда он пришел.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":32,"end":40,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":186,"end":192,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}]},"Paragraph:951688e2b9d7_9":{"id":"951688e2b9d7_9","__typename":"Paragraph","name":"917c","text":"Еще одна вещь, о которой стоит упомянуть: lock-файл точно описывает физическое дерево каталогов в директории node_modules. Преимущество этого заключается в том, что даже если разные разработчики используют разные версии NPM, они все равно должны иметь не только одни и те же версии зависимостей, но и то же самое дерево каталогов. Этим NPM 5 отличается от других пакетных менеджеров, таких как Yarn. Yarn описывает только зависимости между отдельными пакетами в плоском формате и опирается на свою текущую реализацию для создания структуры каталогов. Это означает, что при изменении внутреннего алгоритма структура также изменится. Если вы хотите узнать больше о различиях между Yarn и NPM 5, когда дело доходит до lock-файла, почитайте про детерминизм Yarn.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":109,"end":121,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"A","start":394,"end":398,"href":"https:\u002F\u002Fyarnpkg.com\u002Fen\u002F","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"A","start":462,"end":477,"href":"https:\u002F\u002Fgithub.com\u002Fyarnpkg\u002Fyarn\u002Fblob\u002F46750b2bebd487fb2d2011b9c4b7646ec6e2d8a3\u002Fyarn.lock","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"A","start":741,"end":757,"href":"https:\u002F\u002Fyarnpkg.com\u002Fblog\u002F2017\u002F05\u002F31\u002Fdeterminism\u002F","anchorType":"LINK","userId":null,"linkMetadata":null}]},"Paragraph:951688e2b9d7_10":{"id":"951688e2b9d7_10","__typename":"Paragraph","name":"5df9","text":"Два lock-файла","type":"H3","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:951688e2b9d7_11":{"id":"951688e2b9d7_11","__typename":"Paragraph","name":"7b41","text":"Я уже упоминал, что сейчас на самом деле имеется больше одного lock-файла. Теперь NPM автоматически генерирует lock-файл с именем package-lock.json всякий раз, когда устанавливается новая зависимость или файл еще не существует. Как уже упоминалось в начале, lock-файл представляет собой моментальный слепок текущего дерева зависимостей и позволяет воспроизводить сборки между машинами разработчиков. Поэтому рекомендуется добавить его в свою систему контроля версий.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":130,"end":147,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":86,"end":100,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}]},"Paragraph:951688e2b9d7_12":{"id":"951688e2b9d7_12","__typename":"Paragraph","name":"041a","text":"Возможно, вы думаете, что то же самое уже может быть достигнуто с помощью npm shrinkwrap и её npm-shrinkwrap.json. И вы правы. Причиной создания нового файла является попытка лучшего донесения мысли о том, что NPM действительно поддерживает блокировку зависимостей, что, видимо, было проблемой в прошлом.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":74,"end":88,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":94,"end":113,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}]},"Paragraph:951688e2b9d7_13":{"id":"951688e2b9d7_13","__typename":"Paragraph","name":"037d","text":"Однако есть несколько отличий. Во-первых, NPM гарантирует, что package-lock.json никогда не будет опубликован. Даже если вы явно добавите его в свойство файлов пакета, оно не будет частью опубликованного пакета. Это не относится к файлу npm-shrinkwrap.json, который может быть частью опубликованного пакета, и NPM будет использовать его даже для вложенных зависимостей. Просто попробуйте сами, запустив npm pack и посмотрев, что находится внутри созданного архива.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":63,"end":80,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":237,"end":256,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":403,"end":411,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":266,"end":271,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}]},"Paragraph:951688e2b9d7_14":{"id":"951688e2b9d7_14","__typename":"Paragraph","name":"e454","text":"Также вам может быть интересно узнать, что происходит, когда вы запускаете npm shrinkwrap в каталоге, который уже содержит package-lock.json. Ответ довольно прост: NPM просто переименует package-lock.json в npm-shrinkwrap.json. Это возможно, потому что формат файлов совпадает.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":75,"end":89,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":123,"end":140,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":187,"end":204,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":207,"end":226,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}]},"Paragraph:951688e2b9d7_15":{"id":"951688e2b9d7_15","__typename":"Paragraph","name":"0aaf","text":"Самое любопытные также спросят, что происходит, когда присутствуют оба файла. В этом случае NPM полностью игнорирует package-lock.json и просто использует npm-shrinkwrap.json. Однако такая ситуация не должна возникать при манипулировании файлами средствами NPM.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":117,"end":134,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":155,"end":174,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}]},"Paragraph:951688e2b9d7_16":{"id":"951688e2b9d7_16","__typename":"Paragraph","name":"d5d2","text":"Обобщая:","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:951688e2b9d7_17":{"id":"951688e2b9d7_17","__typename":"Paragraph","name":"9db5","text":"NPM автоматически создаст package-lock.json при установке пакетов. Если уже присутствует npm-shrinkwrap.json, то будет использован он (и при необходимости обновлён).","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":26,"end":43,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":89,"end":108,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}]},"Paragraph:951688e2b9d7_18":{"id":"951688e2b9d7_18","__typename":"Paragraph","name":"edbd","text":"Новый package-lock.json никогда не публикуется и должен быть добавлен в вашу систему контроля версий.","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":6,"end":23,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}]},"Paragraph:951688e2b9d7_19":{"id":"951688e2b9d7_19","__typename":"Paragraph","name":"dd7b","text":"Запуск npm shrinkwrap в случае наличия package-lock.json просто переименует его в npm-shrinkwrap.json.","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":7,"end":21,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":39,"end":56,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":82,"end":101,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}]},"Paragraph:951688e2b9d7_20":{"id":"951688e2b9d7_20","__typename":"Paragraph","name":"7955","text":"Когда оба файла присутствуют по какой-либо причине, package-lock.json будет проигнорирован.","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":52,"end":69,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}]},"Paragraph:951688e2b9d7_21":{"id":"951688e2b9d7_21","__typename":"Paragraph","name":"1388","text":"Это здорово, но как выбрать: использовать новый lock-файл вместо старого доброго shrinkwrap или наоборот? Обычно это зависит от типа пакета, над которым вы работаете.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:951688e2b9d7_22":{"id":"951688e2b9d7_22","__typename":"Paragraph","name":"2cf2","text":"При разработке библиотеки","type":"H3","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:951688e2b9d7_23":{"id":"951688e2b9d7_23","__typename":"Paragraph","name":"28c4","text":"Если вы работаете с библиотекой (то есть пакетом, от которого будут зависеть другие пакеты), вы должны использовать новый lock-файл. Альтернативой является использование shrinkwrap, но убедитесь, что он никогда не будет опубликован вместе с пакетом (новый lock-файл защищён от публикации автоматически). Почему бы не опубликовать shrinkwrap? Это связано с тем, что NPM обрабатывает shrinkwrap-файлы, которые он находит в пакетах, и поскольку shrinkwrap всегда указывает на конкретные версию отдельных пакетов, вы не сможете воспользоваться тем фактом, что NPM может использовать один и тот же пакет для разрешения зависимостей нескольких пакетов, если диапазон semver позволяет это. Другими словами, не заставляя NPM устанавливать определенные версии, вы позволяете NPM эффективнее повторно использовать пакеты, что в результате приводит к более компактному дереву зависимостей и упрощает сборку.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":661,"end":667,"href":"http:\u002F\u002Fsemver.org\u002F","anchorType":"LINK","userId":null,"linkMetadata":null}]},"Paragraph:951688e2b9d7_24":{"id":"951688e2b9d7_24","__typename":"Paragraph","name":"da99","text":"Однако есть одно предостережение. Когда вы работаете в своей библиотеке, вы получаете одинаковые зависимости каждый раз, потому что в репозитории присутствует либо package-lock.json, либо npm-shrinkwrap.json. То же самое относится к вашему серверу непрерывной интеграции, на котором вы проверяете ваш код. Теперь представьте, что в вашем package.json указана зависимость от некоторого пакета как ^1.0.0. Каждый раз устанавливается версия, указанная в lock-файле и всё прекрасно работает. А что происходит, если публикуется новая версия зависимости, случайно нарушившая semver, и ваш пакет ломается из-за этого?","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":164,"end":181,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":188,"end":207,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":338,"end":350,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":396,"end":402,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}]},"Paragraph:951688e2b9d7_25":{"id":"951688e2b9d7_25","__typename":"Paragraph","name":"cecb","text":"К сожалению, вы не сможете заметить этого до тех пор, пока не появится отчет об ошибке. Без каких-либо lock-файлов в репозитории ваша сборка завершится неудачно, по крайней мере, в CI, поскольку она всегда будет устанавливать последние версии зависимостей и, таким образом, запускать тесты с новой сломанной версией (при условии, что сборка выполняется периодически, а не только для PR). Однако при наличии lock-файла CI-сервер всегда будет устанавливать рабочую заблокированную версию.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:951688e2b9d7_26":{"id":"951688e2b9d7_26","__typename":"Paragraph","name":"b3f4","text":"Есть несколько вариантов решения этой проблемы. Во-первых, вы можете пожертвовать точной воспроизводимостью и не добавлять lock-файл в свою систему контроля версий. Во-вторых, вы можете создать отдельную конфигурацию сборки, которая будет запускать npm update перед запуском тестов. В-третьих, вы просто удаляете lock-файл перед запуском тестов. Как на самом деле поступать с сломанной зависимостью, когда она была обнаружена, это отдельная тема, главным образом потому, что semver, реализованный NPM, не имеет концепции указания разрешения широкого диапазона и также не имеет черного списка конкретных версий.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":249,"end":259,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}]},"Paragraph:951688e2b9d7_27":{"id":"951688e2b9d7_27","__typename":"Paragraph","name":"62fb","text":"Это, конечно, ставит вопрос о том, стоит ли добавлять lock-файл в систему управления версиями при работе с библиотеками. Однако следует иметь в виду, что lock-файл содержит не только runtime-зависимости, но и зависимости для разработки (dev dependencies). В этом смысле работа над библиотекой аналогична работе над приложением (смотрим следующий раздел).","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:951688e2b9d7_28":{"id":"951688e2b9d7_28","__typename":"Paragraph","name":"f167","text":"При разработке приложения","type":"H3","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:951688e2b9d7_29":{"id":"951688e2b9d7_29","__typename":"Paragraph","name":"e6e1","text":"Хорошо, что насчёт пакетов, используемых конечными пользователями для запуска в консоли или в комплекте исполняемых файлов? В этом случае пакет — это конечный результат, приложение, и вы хотите, чтобы конечные пользователи всегда получали точные зависимости, которые вы имели при публикации. Здесь вы захотите использовать shrinkwrap и не забудьте также опубликовать его с пакетом, чтобы NPM использовал его во время установки. Помните, что вы всегда можете проверить, как выглядит пакет, если он будет опубликован с использованием npm pack.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":532,"end":540,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}]},"Paragraph:951688e2b9d7_30":{"id":"951688e2b9d7_30","__typename":"Paragraph","name":"aafa","text":"Обратите внимание, что указание на определенные версии зависимостей в package.json - не лучшая идея, потому что вы хотите, чтобы конечные пользователи получили то же самое дерево зависимостей, включая все подзависимости. Конкретная версия в package.json гарантирует версию только на верхнем уровне.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":70,"end":82,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":241,"end":253,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}]},"Paragraph:951688e2b9d7_31":{"id":"951688e2b9d7_31","__typename":"Paragraph","name":"6f70","text":"Что насчет других типов приложений, например, проектов, которые вы запускаете из своего репозитория? В этом случае это не имеет большого значения. Имеют значение только установленные правильные зависимости, и оба lock-файла могут это обеспечить. Выбор за вами.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:951688e2b9d7_32":{"id":"951688e2b9d7_32","__typename":"Paragraph","name":"8908","text":"Слушайте наш подкаст в iTunes и SoundCloud, читайте нас на Medium, контрибьютьте на GitHub, общайтесь в группе Telegram, следите в Twitter и канале Telegram, рекомендуйте в VK и Facebook.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":23,"end":29,"href":"https:\u002F\u002Fitunes.apple.com\u002Fru\u002Fpodcast\u002F%D0%B4%D0%B5%D0%B2%D1%88%D0%B0%D1%85%D1%82%D0%B0\u002Fid1226773343","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"A","start":32,"end":42,"href":"https:\u002F\u002Fsoundcloud.com\u002Fdevschacht","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"A","start":59,"end":65,"href":"https:\u002F\u002Fmedium.com\u002Fdevschacht","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"A","start":84,"end":90,"href":"https:\u002F\u002Fgithub.com\u002FdevSchacht","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"A","start":104,"end":119,"href":"https:\u002F\u002Ft.me\u002FdevSchacht","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"A","start":131,"end":138,"href":"https:\u002F\u002Ftwitter.com\u002FDevSchacht","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"A","start":141,"end":156,"href":"https:\u002F\u002Ft.me\u002FdevSchachtChannel","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"A","start":173,"end":175,"href":"https:\u002F\u002Fvk.com\u002Fdevschacht","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"A","start":178,"end":186,"href":"https:\u002F\u002Fwww.facebook.com\u002FdevSchacht","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":0,"end":187,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}]},"Paragraph:951688e2b9d7_33":{"id":"951688e2b9d7_33","__typename":"Paragraph","name":"fa61","text":"Статья на GitHub","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":0,"end":16,"href":"https:\u002F\u002Fgithub.com\u002FdevSchacht\u002Ftranslations\u002Ftree\u002Fmaster\u002Farticles\u002Fjiri-pospisil-understanding-lock-files-in-npm-5","anchorType":"LINK","userId":null,"linkMetadata":null}]},"ImageMetadata:1*Ol_Cbq4xAJLwHgZKgJFbZQ.png":{"id":"1*Ol_Cbq4xAJLwHgZKgJFbZQ.png","__typename":"ImageMetadata","originalHeight":750,"originalWidth":1125,"focusPercentX":null,"focusPercentY":null,"alt":null},"Tag:javascript":{"id":"javascript","__typename":"Tag"},"Tag:npm":{"id":"npm","__typename":"Tag"},"Tag:девшахта":{"id":"девшахта","__typename":"Tag"},"Tag:devschacht-news":{"id":"devschacht-news","__typename":"Tag"},"User:d36721421183":{"id":"d36721421183","__typename":"User","atsQualifiedAt":1612205345976},"CollectionViewerEdge:collectionId:158101b38405-viewerId:lo_72c4ba5e0caa":{"id":"collectionId:158101b38405-viewerId:lo_72c4ba5e0caa","__typename":"CollectionViewerEdge","isEditor":false},"PostViewerEdge:postId:4bf615c6cd50-viewerId:lo_72c4ba5e0caa":{"id":"postId:4bf615c6cd50-viewerId:lo_72c4ba5e0caa","__typename":"PostViewerEdge","catalogsConnection":null},"ImageMetadata:1*Smbz55KaBOW3ey1D4n0ENA.png":{"id":"1*Smbz55KaBOW3ey1D4n0ENA.png","__typename":"ImageMetadata","alt":null,"focusPercentX":null,"focusPercentY":null},"User:e768717c57d7":{"id":"e768717c57d7","__typename":"User","customDomainState":{"__typename":"CustomDomainState","live":{"__typename":"CustomDomain","domain":"wojciech-bilicki.medium.com"}},"hasSubdomain":true,"username":"wojciech-bilicki"},"Post:90508e3bd827":{"id":"90508e3bd827","__typename":"Post","title":"Canvas Basics — Drawing Polygons and Circles- ReactJS, TypeScript Tutorial #2","mediumUrl":"https:\u002F\u002Fwojciech-bilicki.medium.com\u002Fcanvas-basics-drawing-polygons-and-circles-reactjs-typescript-tutorial-2-90508e3bd827","previewContent":{"__typename":"PreviewContent","subtitle":"Hi! In this new series I’m gonna be talking about how to use canvas to draw in the web browser. Everything we’ll do will be still embedded…","isFullContent":false},"primaryTopic":null,"collection":null,"previewImage":{"__ref":"ImageMetadata:1*Smbz55KaBOW3ey1D4n0ENA.png"},"clapCount":0,"visibility":"PUBLIC","creator":{"__ref":"User:e768717c57d7"},"isSeries":false,"sequence":null,"uniqueSlug":"canvas-basics-drawing-polygons-and-circles-reactjs-typescript-tutorial-2-90508e3bd827"},"Topic:63c6f1f93ee":{"id":"63c6f1f93ee","__typename":"Topic","name":"Javascript","slug":"javascript"},"Collection:5c2fdf847f4a":{"id":"5c2fdf847f4a","__typename":"Collection","name":"Bits and Pieces","slug":"bitsrc","domain":"blog.bitsrc.io"},"ImageMetadata:0*b0R_D6PjdSW2wsLk":{"id":"0*b0R_D6PjdSW2wsLk","__typename":"ImageMetadata","alt":null,"focusPercentX":null,"focusPercentY":null},"User:2bcc0100ebf9":{"id":"2bcc0100ebf9","__typename":"User","customDomainState":null,"hasSubdomain":false,"username":"akshayshinde7289"},"Post:95caf348ee4":{"id":"95caf348ee4","__typename":"Post","title":"How to Create a SPA Router with JavaScript","mediumUrl":"https:\u002F\u002Fblog.bitsrc.io\u002Fcreating-a-spa-router-using-vanilla-js-95caf348ee4","previewContent":{"__typename":"PreviewContent","subtitle":"How to create a router in JavaScript when you’re not using a library or framework","isFullContent":false},"primaryTopic":{"__ref":"Topic:63c6f1f93ee"},"collection":{"__ref":"Collection:5c2fdf847f4a"},"previewImage":{"__ref":"ImageMetadata:0*b0R_D6PjdSW2wsLk"},"clapCount":52,"visibility":"PUBLIC","creator":{"__ref":"User:2bcc0100ebf9"},"isSeries":false,"sequence":null,"uniqueSlug":"creating-a-spa-router-using-vanilla-js-95caf348ee4"},"ImageMetadata:":{"id":"","__typename":"ImageMetadata","alt":null,"focusPercentX":null,"focusPercentY":null},"User:a47914b7b3ec":{"id":"a47914b7b3ec","__typename":"User","customDomainState":null,"hasSubdomain":false,"username":"emreyuz"},"Post:c962fd9c3950":{"id":"c962fd9c3950","__typename":"Post","title":"5 Modern Slider And Carousel Libraries","mediumUrl":"https:\u002F\u002Fmedium.com\u002F@emreyuz\u002F5-modern-slider-and-carousel-libraries-c962fd9c3950","previewContent":{"__typename":"PreviewContent","subtitle":"The biggest part of web sites that using sliders on header section of page and even landings. So you may want big impact on visitors on…","isFullContent":false},"primaryTopic":null,"collection":null,"previewImage":{"__ref":"ImageMetadata:"},"clapCount":0,"visibility":"PUBLIC","creator":{"__ref":"User:a47914b7b3ec"},"isSeries":false,"sequence":null,"uniqueSlug":"5-modern-slider-and-carousel-libraries-c962fd9c3950"},"ImageMetadata:1*q-aanNRIIPLxWUJUq3H3Gw.jpeg":{"id":"1*q-aanNRIIPLxWUJUq3H3Gw.jpeg","__typename":"ImageMetadata","alt":"An endless straight road on a desert area","focusPercentX":null,"focusPercentY":null},"User:d6df518e6cc5":{"id":"d6df518e6cc5","__typename":"User","customDomainState":{"__typename":"CustomDomainState","live":{"__typename":"CustomDomain","domain":"brandonwie.medium.com"}},"hasSubdomain":true,"username":"brandonwie"},"Post:fe6709b0b732":{"id":"fe6709b0b732","__typename":"Post","title":"Absolute paths in React using craco (feat. TypeScript and ts-jest)","mediumUrl":"https:\u002F\u002Fbrandonwie.medium.com\u002Fabsolute-paths-in-react-using-craco-feat-typescript-and-ts-jest-fe6709b0b732","previewContent":{"__typename":"PreviewContent","subtitle":"Even though many helper extensions exist out there on VSCode to address the “dot-dot-slash recursive hell,” the relational paths are…","isFullContent":false},"primaryTopic":{"__ref":"Topic:63c6f1f93ee"},"collection":null,"previewImage":{"__ref":"ImageMetadata:1*q-aanNRIIPLxWUJUq3H3Gw.jpeg"},"clapCount":0,"visibility":"PUBLIC","creator":{"__ref":"User:d6df518e6cc5"},"isSeries":false,"sequence":null,"uniqueSlug":"absolute-paths-in-react-using-craco-feat-typescript-and-ts-jest-fe6709b0b732"}}</script><script>window.__MIDDLEWARE_STATE__={"session":{"xsrf":""},"cache":{"cacheStatus":"HIT","shouldUseCache":true}}</script><script src="https://cdn-client.medium.com/lite/static/js/manifest.01d4a3c5.js"></script><script src="https://cdn-client.medium.com/lite/static/js/13730.c507718c.js"></script><script src="https://cdn-client.medium.com/lite/static/js/main.f6013b61.js"></script><script src="https://cdn-client.medium.com/lite/static/js/45573.4354ed57.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/instrumentation.4fd6ad3a.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/54029.e07e1e18.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/54325.5e020e3f.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/AppLayout.1fd652a7.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/reporting.950d4050.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/92546.8b481330.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/1752.a348f767.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/7794.df338e28.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/88316.3eb3bc8f.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/57635.0a7ae14a.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/75221.81c0ae68.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/33928.3ab480f1.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/47464.d71003d1.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/95472.20329d15.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/40043.994e879b.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/27497.109a4f26.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/46929.e058aba2.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/97332.f6bdcfe7.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/46836.89ad2df0.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/7321.5802990d.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/70449.7324b5e0.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/88246.a4eb47a9.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/15248.7ffa2c38.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/28491.0ecc77e2.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/10887.8c699586.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/21205.3b8682cc.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/37346.c744a48a.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/24883.521f79ea.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/66451.4286c8a9.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/91743.91773f3d.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/96277.a0e68f58.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/50082.93fc8de3.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/76705.4adc19b5.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/14603.9da6d15d.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/4261.5a9b54ac.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/5892.e4c14ec5.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/98453.4185c7d5.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/PostPage.MainContent.6be80396.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/75374.179b5fba.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/35328.72a5be73.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/PostPage.RightColumnContent.32f03bf9.chunk.js"></script><script>window.main();</script><script defer src="https://static.cloudflareinsights.com/beacon.min.js/v652eace1692a40cfa3763df669d7439c1639079717194" integrity="sha512-Gi7xpJR8tSkrpF7aordPZQlW2DLtzUlZcumS8dMQjwDHEnw9I7ZLyiOj/6tZStRBGtGgN6ceN6cMH8z7etPGlw==" data-cf-beacon='{"rayId":"6e537f3879a1907b","token":"0b5f665943484354a59c39c6833f7078","version":"2021.12.0","si":100}' crossorigin="anonymous"></script>
</body></html>