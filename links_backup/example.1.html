<!DOCTYPE html>
<html lang="ru">
<head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# website: http://ogp.me/ns/website#">
    <meta charset="utf-8">
    <title>Стратегия на PHP</title>

    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="alternate" href="https://refactoring.guru/design-patterns/strategy/php/example" hreflang="x-default"/>
    <link rel="alternate" href="https://refactoring.guru/es/design-patterns/strategy/php/example" hreflang="es"/>
    <link rel="alternate" href="https://refactoring.guru/fr/design-patterns/strategy/php/example" hreflang="fr"/>
    <link rel="alternate" href="https://refactoring.guru/pl/design-patterns/strategy/php/example" hreflang="pl"/>
    <link rel="alternate" href="https://refactoring.guru/pt-br/design-patterns/strategy/php/example" hreflang="pt-br"/>
    <link rel="alternate" href="example.1.html" hreflang="ru"/>
    <link rel="alternate" href="https://refactoring.guru/uk/design-patterns/strategy/php/example" hreflang="uk"/>
    <link rel="alternate" href="https://refactoringguru.cn/design-patterns/strategy/php/example" hreflang="zh"/>

    <meta name="description" content="Пример паттерна Стратегия (Strategy) на языке программирования PHP. Код с детальными комментариями на русском языке. Стратегия — это поведенческий паттерн, выносит набор алгоритмов в собственные классы и делает их взаимозаменимыми.">

    <link rel="canonical" href="example.1.html"/>

    <link rel="icon" type="image/x-icon" href="https://refactoring.guru/favicon.png"/>

<script type="application/ld+json">
{"@context": "http://schema.org", "@graph": [{"@type":"Person","@id":"https://refactoring.guru/ru#founder","name":"Александр Швец"},{"@type":"Organization","@id":"https://refactoring.guru/ru#organization","name":"Refactoring.Guru / Рефакторинг.Гуру","description":"Рефакторинг.Гуру посвящён тёмным материям программирования: рефакторингу, паттернам проектирования, принципам SOLID и другим важным темам из мира программирования.","image":{"@type":"ImageObject","@id":"https://refactoring.guru/ru#organizationlogo","url":"https://refactoring.guru/images/content-public/logos/logo-plain.png","caption":"Refactoring.Guru"},"logo":{"@id":"https://refactoring.guru/ru#organizationlogo"},"founder":{"@id":"https://refactoring.guru/ru#founder"},"sameAs":["https://www.facebook.com/refactoring.guru","https://twitter.com/RefactoringGuru","https://github.com/RefactoringGuru"]},{"@type":"WebSite","@id":"https://refactoring.guru/ru#website","url":"https://refactoring.guru/ru","name":"Refactoring.Guru / Рефакторинг.Гуру","description":"Рефакторинг.Гуру посвящён тёмным материям программирования: рефакторингу, паттернам проектирования, принципам SOLID и другим важным темам из мира программирования.","author":{"@id":"https://refactoring.guru/ru#founder"},"publisher":{"@id":"https://refactoring.guru/ru#organization"},"copyrightYear":2014},{"@type":"WebPage","@id":"https://refactoring.guru/ru/design-patterns/strategy/php/example#webpage","url":"https://refactoring.guru/ru/design-patterns/strategy/php/example","inLanguage":"ru","name":"Стратегия на PHP","description":"Пример паттерна Стратегия (Strategy) на языке программирования PHP. Код с детальными комментариями на русском языке. Стратегия — это поведенческий паттерн, выносит набор алгоритмов в собственные классы и делает их взаимозаменимыми.","isPartOf":{"@id":"https://refactoring.guru/ru#website"},"breadcrumb":{"@id":"https://refactoring.guru/ru/design-patterns/strategy/php/example#breadcrumb"},"primaryImageOfPage":{"@id":"https://refactoring.guru/ru/design-patterns/strategy/php/example#primaryimage"},"image":{"@type":"ImageObject","@id":"https://refactoring.guru/ru/design-patterns/strategy/php/example#primaryimage","url":"https://refactoring.guru/images/patterns/cards/strategy-mini-3x.png","width":420,"height":300}},{"@type":"Article","@id":"https://refactoring.guru/ru/design-patterns/strategy/php/example#article","isPartOf":{"@id":"https://refactoring.guru/ru/design-patterns/strategy/php/example#webpage"},"mainEntityOfPage":{"@id":"https://refactoring.guru/ru/design-patterns/strategy/php/example#webpage"},"author":{"@id":"https://refactoring.guru/ru#founder"},"publisher":{"@id":"https://refactoring.guru/ru#organization"},"headline":"Стратегия на PHP","datePublished":"2021-01-01","dateModified":"2022-01-01","articleSection":"Стратегия","image":{"@id":"https://refactoring.guru/ru/design-patterns/strategy/php/example#primaryimage"}},{"@type":"BreadcrumbList","@id":"https://refactoring.guru/ru/design-patterns/strategy/php/example#breadcrumb","itemListElement":[{"@type":"ListItem","position":1,"name":"Главная","item":"https://refactoring.guru/ru"},{"@type":"ListItem","position":2,"name":"Паттерны проектирования","item":"https://refactoring.guru/ru/design-patterns"},{"@type":"ListItem","position":3,"name":"Стратегия","item":"https://refactoring.guru/ru/design-patterns/strategy"},{"@type":"ListItem","position":4,"name":"PHP","item":"https://refactoring.guru/ru/design-patterns/php"}]},{"@type":"SoftwareSourceCode","@id":"https://refactoring.guru/ru/design-patterns/strategy/php/example#code","isPartOf":{"@id":"https://refactoring.guru/ru/design-patterns/strategy/php/example#webpage"},"mainEntityOfPage":{"@id":"https://refactoring.guru/ru/design-patterns/strategy/php/example#webpage"},"author":{"@id":"https://refactoring.guru/ru#founder"},"publisher":{"@id":"https://refactoring.guru/ru#organization"},"headline":"Стратегия на PHP","datePublished":"2021-08-27","dateModified":"2021-12-27","programmingLanguage":"PHP","codeSampleType":"full"}] }
</script>

<meta property="fb:app_id" content="666819623386327" />
<meta property="og:type"  content="website" />
<meta property="og:image" content="https://refactoring.guru/ru/images/refactoring/social/facebook-share-preview.png?id=dbf9e98269595be86eb668f365be6868"/>

        <link rel="stylesheet" href="https://refactoring.guru/css/public-packed.min.css?id=de7a2229fc9195cad5a7aebf47b11c0f">

<style type="text/css">
    body,html{font-family:"PT Sans",sans-serif}@font-face{font-family:'PT Sans';font-style:normal;font-weight:400;font-display:swap;src:local("PT Sans"),local("PTSans-Regular"),url(https://refactoring.guru/fonts/PTSans/ptsans-regular_cyrillic-ext.woff2?1) format("woff2");unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'PT Sans';font-style:normal;font-weight:400;font-display:swap;src:local("PT Sans"),local("PTSans-Regular"),url(https://refactoring.guru/fonts/PTSans/ptsans-regular_cyrillic.woff2?1) format("woff2");unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'PT Sans';font-style:normal;font-weight:400;font-display:swap;src:local("PT Sans"),local("PTSans-Regular"),url(https://refactoring.guru/fonts/PTSans/ptsans-regular_latin-ext.woff2?1) format("woff2");unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'PT Sans';font-style:normal;font-weight:400;font-display:swap;src:local("PT Sans"),local("PTSans-Regular"),url(https://refactoring.guru/fonts/PTSans/ptsans-regular_latin.woff2?1) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'PT Sans';font-style:normal;font-weight:400;font-display:swap;src:local("PT Sans"),local("PTSans-Regular"),url(https://refactoring.guru/fonts/PTSans/ptsans-regular_en.woff2?1) format("woff2");unicode-range:U+0-FF,U+131,U+142,U+152,U+153,U+2BB,U+2BC,U+2C6,U+2DA,U+2DC,U+420,U+423,U+430,U+438-43A,U+43D,U+440,U+441,U+443,U+44C,U+457,U+2000-206F,U+2074,U+20AA-20AC,U+20B4,U+20B9,U+20BA,U+20BD,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'PT Sans';font-style:normal;font-weight:700;font-display:swap;src:local("PT Sans Bold"),local("PTSans-Bold"),url(https://refactoring.guru/fonts/PTSans/ptsans-bold_cyrillic-ext.woff2?1) format("woff2");unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'PT Sans';font-style:normal;font-weight:700;font-display:swap;src:local("PT Sans Bold"),local("PTSans-Bold"),url(https://refactoring.guru/fonts/PTSans/ptsans-bold_cyrillic.woff2?1) format("woff2");unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'PT Sans';font-style:normal;font-weight:700;font-display:swap;src:local("PT Sans Bold"),local("PTSans-Bold"),url(https://refactoring.guru/fonts/PTSans/ptsans-bold_latin-ext.woff2?1) format("woff2");unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'PT Sans';font-style:normal;font-weight:700;font-display:swap;src:local("PT Sans Bold"),local("PTSans-Bold"),url(https://refactoring.guru/fonts/PTSans/ptsans-bold_latin.woff2?1) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'PT Sans';font-style:normal;font-weight:700;font-display:swap;src:local("PT Sans Bold"),local("PTSans-Bold"),url(https://refactoring.guru/fonts/PTSans/ptsans-bold_en.woff2?1) format("woff2");unicode-range:U+0-FF,U+131,U+142,U+152,U+153,U+2BB,U+2BC,U+2C6,U+2DA,U+2DC,U+420,U+423,U+430,U+438-43A,U+43D,U+440,U+441,U+443,U+44C,U+457,U+2000-206F,U+2074,U+20AA-20AC,U+20B4,U+20B9,U+20BA,U+20BD,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}
</style>
<link rel="preload" href="https://refactoring.guru/fonts/PTSans/ptsans-regular_en.woff2?1" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="https://refactoring.guru/fonts/PTSans/ptsans-bold_en.woff2?1" as="font" type="font/woff2" crossorigin>
    <link rel="preload" href="https://refactoring.guru/fonts/PTSans/ptsans-regular_cyrillic.woff2?1" as="font" type="font/woff2" crossorigin>
    <link rel="preload" href="https://refactoring.guru/fonts/PTSans/ptsans-bold_cyrillic.woff2?1" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="https://refactoring.guru/fonts/fontello/fontawesome.woff2?15843843" as="font" type="font/woff2" crossorigin>


<script defer src="https://refactoring.guru/js/public.min.js?id=1875f62752a9b34de0df3fbe66305e00"></script>



</head>
<body class="locale-ru    announcement   strategy-in-php" data-body_class="strategy-in-php">

<div class="body-holder">


            <div class="announcement-block prom" data-id="DIDP-announcement" data-creative-id="ru" data-position="top"><div class="announcement-block-inner">
                <img src="https://refactoring.guru/images/content-public/announcement-en-1.svg?id=2b6bba0470947f2a60cdac20b809cf3d" loading="lazy" style="width: 36px; height:36px;">
                Привет! Я понизил цены на все продукты. Пора готовить свои программерские скилы к пост-COVID-ной эре. <a href="https://refactoring.guru/ru/store">Проверить »</a>
                <img src="https://refactoring.guru/images/content-public/announcement-en-2.svg?id=d0c7bf36cfcc7c733fad50a30fd99920" loading="lazy" style="width: 36px; height:36px;">
            </div></div>
    
    <div class="cart-placeholder">
    <div class="cart-block-container" style="display:none">
        <div class="cart-block btn-group">
            <a href="example.1.html#checkout" class="btn cart open-checkout">
                <span class="cart-text"></span>&nbsp;<strong class="cart-total font-money"></strong>
            </a><a href="example.1.html#checkout" class="btn btn-secondary checkout open-checkout"><i class="fa fa-shopping-cart" aria-hidden="true"></i> <span class="btn-text-span d-none d-sm-inline-block d-lg-none d-hg-inline-block"></span></a>
        </div>
    </div>
</div>
    <main role="main" class="main-content top-content center-content " data-page_class="">
        <div class="main-content-container center-content-container">
                        <div class="pattern pattern-example page text">
<article>
    <div class="breadcrumb">
                                    <a class="home" href="https://refactoring.guru/"><i class="fa fa-home" aria-hidden="true"></i></a>
                                                / <a class="type" href="https://refactoring.guru/ru/design-patterns">Паттерны проектирования</a>
                                                / <a class="type" href="https://refactoring.guru/ru/design-patterns/strategy">Стратегия</a>
                                                / <a class="type" href="https://refactoring.guru/ru/design-patterns/php">PHP</a>
                        </div>

    <a href="https://refactoring.guru/ru/design-patterns/strategy" class="pattern-card-example strategy-in-php">
        <span class="pattern-image"><img alt="Стратегия" src="https://refactoring.guru/images/patterns/cards/strategy-mini.png?id=d38abee4fb6f2aed909d262bdadca936" srcset="https://refactoring.guru/images/patterns/cards/strategy-mini-2x.png?id=f4e6608561f8e5d18be6927d4620ad29 2x"></span>
    </a>

    <h1 class="title"><strong>Стратегия</strong> на PHP</h1>

    <div class="pattern-example-brief">
        <p class="big"><b>Стратегия</b> — это поведенческий паттерн, выносит набор алгоритмов в собственные классы и делает их взаимозаменимыми.</p>
<p>Другие объекты содержат ссылку на объект-стратегию и делегируют ей работу. Программа может подменить этот объект другим, если требуется иной способ решения задачи.</p>

    </div>

    <div style="text-align:center; margin-bottom: 40px;">
        <a href="https://refactoring.guru/ru/design-patterns/strategy" class="btn btn-lg btn-primary"><i class="fa fa-newspaper" aria-hidden="true"></i> Подробней о Стратегии <i class="fa fa-arrow-right" aria-hidden="true"></i></a>
    </div>

        <h2 id="lang-features">Особенности паттерна на PHP</h2>

    <p><strong>Сложность:</strong> <span class="fa-stars"><i class="fa fa-fw fa-star" aria-hidden="true"></i><i class="fa fa-fw fa-star-o" aria-hidden="true"></i><i class="fa fa-fw fa-star-o" aria-hidden="true"></i></span></p>
<p><strong>Популярность:</strong> <span class="fa-stars"><i class="fa fa-fw fa-star" aria-hidden="true"></i><i class="fa fa-fw fa-star" aria-hidden="true"></i><i class="fa fa-fw fa-star" aria-hidden="true"></i></span></p>
<p><strong>Применимость:</strong> Стратегию часто используют в PHP-коде, особенно там, где нужно подменять алгоритм во время выполнения программы. Но у паттерна есть довольно сильный конкурент в лице анонимных функций, которые PHP уже довольно давно поддерживает.</p>
<p><strong>Признаки применения паттерна:</strong> Класс делегирует выполнение вложенному объекту абстрактного типа или интерфейса.</p>

    
    <div class="sidebar-navigation with-scroll">
            
        <div class="en-title">
            Навигация
        </div>

                    
        <div class="en-intro">
            <i class="fa fa-fw fa-newspaper" aria-hidden="true"></i>&nbsp;<a href="example.1.html#">Интро</a>
        </div>

                    
        <div class="en-intro">
            <i class="fa fa-fw fa-newspaper" aria-hidden="true"></i>&nbsp;<a href="example.1.html#example-0">Концептуальный пример</a>
        </div>

                    
        <div class="en-file">
            <i class="fa fa-fw fa-file-code" aria-hidden="true"></i>&nbsp;<a href="example.1.html#example-0--index-php">index</a>
        </div>

                    
        <div class="en-file">
            <i class="fa fa-fw fa-file-text" aria-hidden="true"></i>&nbsp;<a href="example.1.html#example-0--Output-txt">Output</a>
        </div>

                    
        <div class="en-intro">
            <i class="fa fa-fw fa-newspaper" aria-hidden="true"></i>&nbsp;<a href="example.1.html#example-1">Пример из реальной жизни</a>
        </div>

                    
        <div class="en-file">
            <i class="fa fa-fw fa-file-code" aria-hidden="true"></i>&nbsp;<a href="example.1.html#example-1--index-php">index</a>
        </div>

                    
        <div class="en-file">
            <i class="fa fa-fw fa-file-text" aria-hidden="true"></i>&nbsp;<a href="example.1.html#example-1--Output-txt">Output</a>
        </div>

                </div>

            <nav class="pattern-example-tabs">
            <div class="nav nav-tabs nav-justified" id="nav-tab" role="tablist">
                                <a class="nav-item nav-link active" id="example-0-tab" data-toggle="tab" href="example.1.html#example-0" role="tab" aria-controls="example-0" aria-selected="true">Концептуальный пример</a>
                                <a class="nav-item nav-link " id="example-1-tab" data-toggle="tab" href="example.1.html#example-1" role="tab" aria-controls="example-1" aria-selected="true">Пример из реальной жизни</a>
                            </div>
        </nav>
        <div class="pattern-example-tab-content tab-content" id="nav-tabContent">
                            <div class="tab-pane show active" id="example-0" role="tabpanel" aria-labelledby="example-0-tab" style="padding-top: 24px">
                    <h2 id="example-0-title">Концептуальный пример</h2>
                    <p>Этот пример показывает структуру паттерна <strong>Стратегия</strong>, а именно — из каких классов он состоит, какие роли эти классы выполняют и как они взаимодействуют друг с другом.</p>
<p>После ознакомления со структурой, вам будет легче воспринимать второй пример, который рассматривает реальный случай использования паттерна в мире PHP.</p>
<h4><a class="anchor" id="example-0--index-php"><i class="fa fa-fw fa-file-code" aria-hidden="true"></i></a> <strong>index.php:</strong>  Пример структуры паттерна</h4>
<figure class="code">
<pre class="code" lang="php">&lt;?php

namespace RefactoringGuru\Strategy\Conceptual;

/**
 * Контекст определяет интерфейс, представляющий интерес для клиентов.
 */
class Context
{
    /**
     * @var Strategy Контекст хранит ссылку на один из объектов Стратегии.
     * Контекст не знает конкретного класса стратегии. Он должен работать со
     * всеми стратегиями через интерфейс Стратегии.
     */
    private $strategy;

    /**
     * Обычно Контекст принимает стратегию через конструктор, а также
     * предоставляет сеттер для её изменения во время выполнения.
     */
    public function __construct(Strategy $strategy)
    {
        $this-&gt;strategy = $strategy;
    }

    /**
     * Обычно Контекст позволяет заменить объект Стратегии во время выполнения.
     */
    public function setStrategy(Strategy $strategy)
    {
        $this-&gt;strategy = $strategy;
    }

    /**
     * Вместо того, чтобы самостоятельно реализовывать множественные версии
     * алгоритма, Контекст делегирует некоторую работу объекту Стратегии.
     */
    public function doSomeBusinessLogic(): void
    {
        // ...

        echo &quot;Context: Sorting data using the strategy (not sure how it'll do it)\n&quot;;
        $result = $this-&gt;strategy-&gt;doAlgorithm([&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;]);
        echo implode(&quot;,&quot;, $result) . &quot;\n&quot;;

        // ...
    }
}

/**
 * Интерфейс Стратегии объявляет операции, общие для всех поддерживаемых версий
 * некоторого алгоритма.
 *
 * Контекст использует этот интерфейс для вызова алгоритма, определённого
 * Конкретными Стратегиями.
 */
interface Strategy
{
    public function doAlgorithm(array $data): array;
}

/**
 * Конкретные Стратегии реализуют алгоритм, следуя базовому интерфейсу
 * Стратегии. Этот интерфейс делает их взаимозаменяемыми в Контексте.
 */
class ConcreteStrategyA implements Strategy
{
    public function doAlgorithm(array $data): array
    {
        sort($data);

        return $data;
    }
}

class ConcreteStrategyB implements Strategy
{
    public function doAlgorithm(array $data): array
    {
        rsort($data);

        return $data;
    }
}

/**
 * Клиентский код выбирает конкретную стратегию и передаёт её в контекст. Клиент
 * должен знать о различиях между стратегиями, чтобы сделать правильный выбор.
 */
$context = new Context(new ConcreteStrategyA());
echo &quot;Client: Strategy is set to normal sorting.\n&quot;;
$context-&gt;doSomeBusinessLogic();

echo &quot;\n&quot;;

echo &quot;Client: Strategy is set to reverse sorting.\n&quot;;
$context-&gt;setStrategy(new ConcreteStrategyB());
$context-&gt;doSomeBusinessLogic();
</pre>
</figure>
<h4><a class="anchor" id="example-0--Output-txt"><i class="fa fa-fw fa-file-text" aria-hidden="true"></i></a> <strong>Output.txt:</strong>  Результат выполнения</h4>
<figure class="code">
<pre class="code" lang="output">Client: Strategy is set to normal sorting.
Context: Sorting data using the strategy (not sure how it'll do it)
a,b,c,d,e

Client: Strategy is set to reverse sorting.
Context: Sorting data using the strategy (not sure how it'll do it)
e,d,c,b,a
</pre>
</figure>

                </div>
                            <div class="tab-pane " id="example-1" role="tabpanel" aria-labelledby="example-1-tab" style="padding-top: 24px">
                    <h2 id="example-1-title">Пример из реальной жизни</h2>
                    <p>В этом примере паттерн <strong>Стратегия</strong> используется для представления способов оплаты в приложении электронной коммерции.</p>
<p>Каждый способ оплаты может отображать форму оплаты для сбора надлежащих платёжных реквизитов пользователя и отправки его в компанию по обработке платежей. После того, как компания по обработке платежей перенаправляет пользователя обратно на сайт, метод оплаты проверяет возвращаемые параметры и помогает решить, был ли заказ завершён.</p>
<h4><a class="anchor" id="example-1--index-php"><i class="fa fa-fw fa-file-code" aria-hidden="true"></i></a> <strong>index.php:</strong>  Пример из реальной жизни</h4>
<figure class="code">
<pre class="code" lang="php">&lt;?php

namespace RefactoringGuru\Strategy\RealWorld;

/**
 * Это роутер и контроллер нашего приложения. Получив запрос, этот класс решает,
 * какое поведение должно выполняться. Когда приложение получает требование об
 * оплате, класс OrderController также решает, какой способ оплаты следует
 * использовать для его обработки. Таким образом, этот класс действует как
 * Контекст и в то же время как Клиент.
 */
class OrderController
{
    /**
     * Обрабатываем запросы POST.
     *
     * @param $url
     * @param $data
     * @throws \Exception
     */
    public function post(string $url, array $data)
    {
        echo &quot;Controller: POST request to $url with &quot; . json_encode($data) . &quot;\n&quot;;

        $path = parse_url($url, PHP_URL_PATH);

        if (preg_match('#^/orders?$#', $path, $matches)) {
            $this-&gt;postNewOrder($data);
        } else {
            echo &quot;Controller: 404 page\n&quot;;
        }
    }

    /**
     * Обрабатываем запросы GET.
     *
     * @param $url
     * @throws \Exception
     */
    public function get(string $url): void
    {
        echo &quot;Controller: GET request to $url\n&quot;;

        $path = parse_url($url, PHP_URL_PATH);
        $query = parse_url($url, PHP_URL_QUERY);
        parse_str($query, $data);

        if (preg_match('#^/orders?$#', $path, $matches)) {
            $this-&gt;getAllOrders();
        } elseif (preg_match('#^/order/([0-9]+?)/payment/([a-z]+?)(/return)?$#', $path, $matches)) {
            $order = Order::get($matches[1]);

            // Способ оплаты (стратегия) выбирается в соответствии со значением,
            // переданным в запросе.
            $paymentMethod = PaymentFactory::getPaymentMethod($matches[2]);

            if (!isset($matches[3])) {
                $this-&gt;getPayment($paymentMethod, $order, $data);
            } else {
                $this-&gt;getPaymentReturn($paymentMethod, $order, $data);
            }
        } else {
            echo &quot;Controller: 404 page\n&quot;;
        }
    }

    /**
     * POST /order {data}
     */
    public function postNewOrder(array $data): void
    {
        $order = new Order($data);
        echo &quot;Controller: Created the order #{$order-&gt;id}.\n&quot;;
    }

    /**
     * GET /orders
     */
    public function getAllOrders(): void
    {
        echo &quot;Controller: Here's all orders:\n&quot;;
        foreach (Order::get() as $order) {
            echo json_encode($order, JSON_PRETTY_PRINT) . &quot;\n&quot;;
        }
    }

    /**
     * GET /order/123/payment/XX
     */
    public function getPayment(PaymentMethod $method, Order $order, array $data): void
    {
        // Фактическая работа делегируется объекту метода оплаты.
        $form = $method-&gt;getPaymentForm($order);
        echo &quot;Controller: here's the payment form:\n&quot;;
        echo $form . &quot;\n&quot;;
    }

    /**
     * GET /order/123/payment/XXX/return?key=AJHKSJHJ3423&amp;success=true
     */
    public function getPaymentReturn(PaymentMethod $method, Order $order, array $data): void
    {
        try {
            // Другой тип работы, делегированный методу оплаты.
            if ($method-&gt;validateReturn($order, $data)) {
                echo &quot;Controller: Thanks for your order!\n&quot;;
                $order-&gt;complete();
            }
        } catch (\Exception $e) {
            echo &quot;Controller: got an exception (&quot; . $e-&gt;getMessage() . &quot;)\n&quot;;
        }
    }
}

/**
 * Упрощенное представление класса Заказа.
 */
class Order
{
    /**
     * Для простоты, мы будем хранить все созданные заказы здесь...
     */
    private static $orders = [];

    /**
     * ...и получать к ним доступ отсюда.
     *
     * @param int $orderId
     * @return mixed
     */
    public static function get(int $orderId = null)
    {
        if ($orderId === null) {
            return static::$orders;
        } else {
            return static::$orders[$orderId];
        }
    }

    /**
     * Конструктор Заказа присваивает значения полям заказа. Чтобы всё было
     * просто, нет никакой проверки.
     *
     * @param array $attributes
     */
    public function __construct(array $attributes)
    {
        $this-&gt;id = count(static::$orders);
        $this-&gt;status = &quot;new&quot;;
        foreach ($attributes as $key =&gt; $value) {
            $this-&gt;{$key} = $value;
        }
        static::$orders[$this-&gt;id] = $this;
    }

    /**
     * Метод позвонить при оплате заказа.
     */
    public function complete(): void
    {
        $this-&gt;status = &quot;completed&quot;;
        echo &quot;Order: #{$this-&gt;id} is now {$this-&gt;status}.&quot;;
    }
}

/**
 * Этот класс помогает создать правильный объект стратегии для обработки
 * платежа.
 */
class PaymentFactory
{
    /**
     * Получаем способ оплаты по его ID.
     *
     * @param $id
     * @return PaymentMethod
     * @throws \Exception
     */
    public static function getPaymentMethod(string $id): PaymentMethod
    {
        switch ($id) {
            case &quot;cc&quot;:
                return new CreditCardPayment();
            case &quot;paypal&quot;:
                return new PayPalPayment();
            default:
                throw new \Exception(&quot;Unknown Payment Method&quot;);
        }
    }
}

/**
 * Интерфейс Стратегии описывает, как клиент может использовать различные
 * Конкретные Стратегии.
 *
 * Обратите внимание, что в большинстве примеров, которые можно найти в
 * интернете, стратегии чаще всего делают какую-нибудь мелочь в рамках одного
 * метода.
 */
interface PaymentMethod
{
    public function getPaymentForm(Order $order): string;

    public function validateReturn(Order $order, array $data): bool;
}

/**
 * Эта Конкретная Стратегия предоставляет форму оплаты и проверяет результаты
 * платежей кредитными картам.
 */
class CreditCardPayment implements PaymentMethod
{
    static private $store_secret_key = &quot;swordfish&quot;;

    public function getPaymentForm(Order $order): string
    {
        $returnURL = &quot;https://our-website.com/&quot; .
            &quot;order/{$order-&gt;id}/payment/cc/return&quot;;

        return &lt;&lt;&lt;FORM
&lt;form action=&quot;https://my-credit-card-processor.com/charge&quot; method=&quot;POST&quot;&gt;
    &lt;input type=&quot;hidden&quot; id=&quot;email&quot; value=&quot;{$order-&gt;email}&quot;&gt;
    &lt;input type=&quot;hidden&quot; id=&quot;total&quot; value=&quot;{$order-&gt;total}&quot;&gt;
    &lt;input type=&quot;hidden&quot; id=&quot;returnURL&quot; value=&quot;$returnURL&quot;&gt;
    &lt;input type=&quot;text&quot; id=&quot;cardholder-name&quot;&gt;
    &lt;input type=&quot;text&quot; id=&quot;credit-card&quot;&gt;
    &lt;input type=&quot;text&quot; id=&quot;expiration-date&quot;&gt;
    &lt;input type=&quot;text&quot; id=&quot;ccv-number&quot;&gt;
    &lt;input type=&quot;submit&quot; value=&quot;Pay&quot;&gt;
&lt;/form&gt;
FORM;
    }

    public function validateReturn(Order $order, array $data): bool
    {
        echo &quot;CreditCardPayment: ...validating... &quot;;

        if ($data['key'] != md5($order-&gt;id . static::$store_secret_key)) {
            throw new \Exception(&quot;Payment key is wrong.&quot;);
        }

        if (!isset($data['success']) || !$data['success'] || $data['success'] == 'false') {
            throw new \Exception(&quot;Payment failed.&quot;);
        }

        // ...

        if (floatval($data['total']) &lt; $order-&gt;total) {
            throw new \Exception(&quot;Payment amount is wrong.&quot;);
        }

        echo &quot;Done!\n&quot;;

        return true;
    }
}

/**
 * Эта Конкретная Стратегия предоставляет форму оплаты и проверяет результаты
 * платежей PayPal.
 */
class PayPalPayment implements PaymentMethod
{
    public function getPaymentForm(Order $order): string
    {
        $returnURL = &quot;https://our-website.com/&quot; .
            &quot;order/{$order-&gt;id}/payment/paypal/return&quot;;

        return &lt;&lt;&lt;FORM
&lt;form action=&quot;https://paypal.com/payment&quot; method=&quot;POST&quot;&gt;
    &lt;input type=&quot;hidden&quot; id=&quot;email&quot; value=&quot;{$order-&gt;email}&quot;&gt;
    &lt;input type=&quot;hidden&quot; id=&quot;total&quot; value=&quot;{$order-&gt;total}&quot;&gt;
    &lt;input type=&quot;hidden&quot; id=&quot;returnURL&quot; value=&quot;$returnURL&quot;&gt;
    &lt;input type=&quot;submit&quot; value=&quot;Pay on PayPal&quot;&gt;
&lt;/form&gt;
FORM;
    }

    public function validateReturn(Order $order, array $data): bool
    {
        echo &quot;PayPalPayment: ...validating... &quot;;

        // ...

        echo &quot;Done!\n&quot;;

        return true;
    }
}

/**
 * Клиентский код.
 */

$controller = new OrderController();

echo &quot;Client: Let's create some orders\n&quot;;

$controller-&gt;post(&quot;/orders&quot;, [
    &quot;email&quot; =&gt; &quot;me@example.com&quot;,
    &quot;product&quot; =&gt; &quot;ABC Cat food (XL)&quot;,
    &quot;total&quot; =&gt; 9.95,
]);

$controller-&gt;post(&quot;/orders&quot;, [
    &quot;email&quot; =&gt; &quot;me@example.com&quot;,
    &quot;product&quot; =&gt; &quot;XYZ Cat litter (XXL)&quot;,
    &quot;total&quot; =&gt; 19.95,
]);

echo &quot;\nClient: List my orders, please\n&quot;;

$controller-&gt;get(&quot;/orders&quot;);

echo &quot;\nClient: I'd like to pay for the second, show me the payment form\n&quot;;

$controller-&gt;get(&quot;/order/1/payment/paypal&quot;);

echo &quot;\nClient: ...pushes the Pay button...\n&quot;;
echo &quot;\nClient: Oh, I'm redirected to the PayPal.\n&quot;;
echo &quot;\nClient: ...pays on the PayPal...\n&quot;;
echo &quot;\nClient: Alright, I'm back with you, guys.\n&quot;;

$controller-&gt;get(&quot;/order/1/payment/paypal/return&quot; .
    &quot;?key=c55a3964833a4b0fa4469ea94a057152&amp;success=true&amp;total=19.95&quot;);
</pre>
</figure>
<h4><a class="anchor" id="example-1--Output-txt"><i class="fa fa-fw fa-file-text" aria-hidden="true"></i></a> <strong>Output.txt:</strong>  Результат выполнения</h4>
<figure class="code">
<pre class="code" lang="output">Client: Let's create some orders
Controller: POST request to /orders with {&quot;email&quot;:&quot;me@example.com&quot;,&quot;product&quot;:&quot;ABC Cat food (XL)&quot;,&quot;total&quot;:9.95}
Controller: Created the order #0.
Controller: POST request to /orders with {&quot;email&quot;:&quot;me@example.com&quot;,&quot;product&quot;:&quot;XYZ Cat litter (XXL)&quot;,&quot;total&quot;:19.95}
Controller: Created the order #1.

Client: List my orders, please
Controller: GET request to /orders
Controller: Here's all orders:
{
    &quot;id&quot;: 0,
    &quot;status&quot;: &quot;new&quot;,
    &quot;email&quot;: &quot;me@example.com&quot;,
    &quot;product&quot;: &quot;ABC Cat food (XL)&quot;,
    &quot;total&quot;: 9.95
}
{
    &quot;id&quot;: 1,
    &quot;status&quot;: &quot;new&quot;,
    &quot;email&quot;: &quot;me@example.com&quot;,
    &quot;product&quot;: &quot;XYZ Cat litter (XXL)&quot;,
    &quot;total&quot;: 19.95
}

Client: I'd like to pay for the second, show me the payment form
Controller: GET request to /order/1/payment/paypal
Controller: here's the payment form:
&lt;form action=&quot;https://paypal.com/payment&quot; method=&quot;POST&quot;&gt;
    &lt;input type=&quot;hidden&quot; id=&quot;email&quot; value=&quot;me@example.com&quot;&gt;
    &lt;input type=&quot;hidden&quot; id=&quot;total&quot; value=&quot;19.95&quot;&gt;
    &lt;input type=&quot;hidden&quot; id=&quot;returnURL&quot; value=&quot;https://our-website.com/order/1/payment/paypal/return&quot;&gt;
    &lt;input type=&quot;submit&quot; value=&quot;Pay on PayPal&quot;&gt;
&lt;/form&gt;

Client: ...pushes the Pay button...

Client: Oh, I'm redirected to the PayPal.

Client: ...pays on the PayPal...

Client: Alright, I'm back with you, guys.
Controller: GET request to /order/1/payment/paypal/return?key=c55a3964833a4b0fa4469ea94a057152&amp;success=true&amp;total=19.95
PayPalPayment: ...validating... Done!
Controller: Thanks for your order!
Order: #1 is now completed.
</pre>
</figure>

                </div>
                    </div>
    
    

    </article>

<nav class="prev-next">
                    <div class="next">
                <h4>Читаем дальше</h4>
                <a rel="next" href="https://refactoring.guru/ru/design-patterns/template-method/php/example" class="btn btn-primary">Шаблонный метод на PHP&nbsp;<span class="fa fa-arrow-right"></span></a>
            </div>
                            <div class="prev">
                <h4>Вернуться назад</h4>
                <a rel="prev" href="https://refactoring.guru/ru/design-patterns/state/php/example" class="btn btn-default"><span class="fa fa-arrow-left"></span>&nbsp;Состояние на PHP </a>
            </div>
            </nav>

<h2><strong>Стратегия</strong> на других языках программирования</h2>

<a href="https://refactoring.guru/ru/design-patterns/strategy/java/example" title="Стратегия на Java" class="prog-lang-link"><img src="https://refactoring.guru/images/patterns/icons/java.svg?id=e6d87e2dca08c953fe3acd1275ed4f4e" alt="Стратегия на Java"></a>
<a href="https://refactoring.guru/ru/design-patterns/strategy/csharp/example" title="Стратегия на C#" class="prog-lang-link"><img src="https://refactoring.guru/images/patterns/icons/csharp.svg?id=da64592defc6e86d57c39c66e9de3e58" alt="Стратегия на C#"></a>
<a href="https://refactoring.guru/ru/design-patterns/strategy/cpp/example" title="Стратегия на C++" class="prog-lang-link"><img src="https://refactoring.guru/images/patterns/icons/cpp.svg?id=f7782ed8b8666246bfcc3f8fefc3b858" alt="Стратегия на C++"></a>
<a href="https://refactoring.guru/ru/design-patterns/strategy/python/example" title="Стратегия на Python" class="prog-lang-link"><img src="https://refactoring.guru/images/patterns/icons/python.svg?id=6d815d43c0f7050a1151b43e51569c9f" alt="Стратегия на Python"></a>
<a href="https://refactoring.guru/ru/design-patterns/strategy/ruby/example" title="Стратегия на Ruby" class="prog-lang-link"><img src="https://refactoring.guru/images/patterns/icons/ruby.svg?id=b065b718c914bf8e960ef731600be1eb" alt="Стратегия на Ruby"></a>
<a href="https://refactoring.guru/ru/design-patterns/strategy/swift/example" title="Стратегия на Swift" class="prog-lang-link"><img src="https://refactoring.guru/images/patterns/icons/swift.svg?id=0b716c2d52ec3a48fbe91ac031070c1d" alt="Стратегия на Swift"></a>
<a href="https://refactoring.guru/ru/design-patterns/strategy/typescript/example" title="Стратегия на TypeScript" class="prog-lang-link"><img src="https://refactoring.guru/images/patterns/icons/typescript.svg?id=2239d0f16cb703540c205dd8cb0c0cb7" alt="Стратегия на TypeScript"></a>
<a href="https://refactoring.guru/ru/design-patterns/strategy/go/example" title="Стратегия на Go" class="prog-lang-link"><img src="https://refactoring.guru/images/patterns/icons/go.svg?id=1a89927eb99b1ea3fde7701d97970aca" alt="Стратегия на Go"></a>

</div>

<aside class="feature content-secondary">
    <div class="prom banner-sidebar banner banner-striped banner-examples" data-id="DP: Examples-IDE" data-creative-id="examples-sidebar-ru" data-position="sidebar">
        <div class="banner-inner" style="font-size: 14px; line-height: 21px;">
            <div class="banner-examples-img">
                <a href="https://refactoring.guru/ru/design-patterns/book">
                    <img width="215" height="158" loading="lazy" src="https://refactoring.guru/images/patterns/banners/examples-ide.png?id=3115b4b548fb96b75974e2de8f4f49bc" srcset="https://refactoring.guru/images/patterns/banners/examples-ide-2x.png?id=93c007a6d157b97c28eb213f59d716ae 2x">
                </a>
            </div>
            <div class="banner-examples-fade">
                <a href="https://refactoring.guru/ru/design-patterns/book" class="btn btn-secondary btn-block"><i class="fa fa-file-archive" aria-hidden="true"></i> Архив с примерами</a>
            </div>
            <div class="banner-examples-text" style="margin-top: 1rem;">
                <p>Купи книгу <b>Погружение в Паттерны</b> и получи архив с десятками детальных примеров, которые можно открывать прямо в IDE.</p>
                <a href="https://refactoring.guru/ru/design-patterns/book" class="btn btn-secondary btn-block"><i class="fa fa-book" aria-hidden="true"></i> Узнать больше…</a>
            </div>
        </div>
    </div>


</aside>
                    </div>
    </main>

    <nav class="navigation" role="navigation">
    <div class="navigation-container">
        <a href="example.1.html#menu" class="navigation-toggle"><i class="fa fa-bars"></i></a>
        <a class="navigation-brand" href="https://refactoring.guru/ru">
            <img alt="Refactoring.Guru" src="https://refactoring.guru/images/content-public/logos/logo-military-mobile.png?id=65ecbd1e688fc695bc20c22a1e8450d9" srcset="https://refactoring.guru/images/content-public/logos/logo-military-mobile-2x.png?id=0f52141f57f67fb678da8407e254b0a3 2x"
                  width="94"                   height="64"             >
        </a>
        <div class="social-likes-block" data-url="https://refactoring.guru">
    <div data-service="facebook" class="facebook" title="Поделиться в Facebook">Facebook</div>
        <div data-service="vkontakte" class="vkontakte" title="Поделиться ВКонтакте">Вконтакте</div>
        <div data-service="twitter" class="twitter" title="Поделиться в Twitter">Twitter</div>
</div>        <ul class="navigation-menu">
                        <li class="dropdown d-lg-none">
                <a class="dropdown-toggle" id="dropdownLanguage" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <i class="fa fa-globe" aria-hidden="true"></i> <span class="caption d-none d-xl-inline-block">Язык</span>
                </a>
                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownLanguage">
                                                                                                        <a href="https://refactoring.guru/design-patterns/strategy/php/example" class="dropdown-item locale-link " data-locale="en" title="English">English</a>
                                                                                                                <a href="https://refactoring.guru/es/design-patterns/strategy/php/example" class="dropdown-item locale-link " data-locale="es" title="Español">Español</a>
                                                                                                                <a href="https://refactoring.guru/fr/design-patterns/strategy/php/example" class="dropdown-item locale-link " data-locale="fr" title="Français">Français</a>
                                                                                                                <a href="https://refactoring.guru/pl/design-patterns/strategy/php/example" class="dropdown-item locale-link " data-locale="pl" title="Polski">Polski</a>
                                                                                                                <a href="https://refactoring.guru/pt-br/design-patterns/strategy/php/example" class="dropdown-item locale-link " data-locale="pt-br" title="Português Brasileiro">Português Brasileiro</a>
                                                                                                                <a href="example.1.html" class="dropdown-item locale-link active" data-locale="ru" title="Русский">Русский</a>
                                                                                                                <a href="https://refactoring.guru/uk/design-patterns/strategy/php/example" class="dropdown-item locale-link " data-locale="uk" title="Українська">Українська</a>
                                                                                                                <a href="https://refactoringguru.cn/design-patterns/strategy/php/example" class="dropdown-item locale-link " data-locale="zh" title="中文">中文</a>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </div>
            </li>
                        <li class="nav-contact">
                <a class="userecho-private" href="https://feedback.refactoring.guru/communities/1-russkij-russian?show_feedback_form_private=true" rel="nofollow" title="Связаться">
                    <i class="fa fa-envelope"></i> <span class="caption d-none d-xl-inline-block">Связаться</span>
                </a>
            </li>
                                                <li class="nav-login">
                        <a href="https://refactoring.guru/ru/login" title="Войти"><i class="fa fa-user"></i> <span class="caption d-none d-xl-inline-block">Войти</span></a>
                    </li>
                                    </ul>
    </div>
    <div>
        <a class="russia-stop" href="https://refactoring.guru/ru/help-ukraine">
                            HELP UKRAINE <b>STOP RUSSIA</b>
                    </a>
    </div>
</nav>
    <aside class="sidebar main-menu nano">
    <a href="example.1.html#menu-close" class="navigation-toggle"><i class="fa fa-fw fa-times"></i></a>
    <div class="nano-content">
                    <div class="main-menu-lang d-none d-lg-flex main-menu-lang-count-8">
                                                                                        <a href="https://refactoring.guru/design-patterns/strategy/php/example" class="locale-link " data-locale="en" title="English"><span class="d-lg-none">English</span><span class="d-none d-lg-inline">English</span></a>
                                                                                                <a href="https://refactoring.guru/es/design-patterns/strategy/php/example" class="locale-link " data-locale="es" title="Español"><span class="d-lg-none">Español</span><span class="d-none d-lg-inline">Español</span></a>
                                                                                                <a href="https://refactoring.guru/fr/design-patterns/strategy/php/example" class="locale-link " data-locale="fr" title="Français"><span class="d-lg-none">Français</span><span class="d-none d-lg-inline">Français</span></a>
                                                                                                <a href="https://refactoring.guru/pl/design-patterns/strategy/php/example" class="locale-link " data-locale="pl" title="Polski"><span class="d-lg-none">Polski</span><span class="d-none d-lg-inline">Polski</span></a>
                                                                                                <a href="https://refactoring.guru/pt-br/design-patterns/strategy/php/example" class="locale-link " data-locale="pt-br" title="Português Brasileiro"><span class="d-lg-none">Português Brasileiro</span><span class="d-none d-lg-inline">Português-Br</span></a>
                                                                                                <a href="example.1.html" class="locale-link active" data-locale="ru" title="Русский"><span class="d-lg-none">Русский</span><span class="d-none d-lg-inline">Русский</span></a>
                                                                                                <a href="https://refactoring.guru/uk/design-patterns/strategy/php/example" class="locale-link " data-locale="uk" title="Українська"><span class="d-lg-none">Українська</span><span class="d-none d-lg-inline">Українська</span></a>
                                                                                                <a href="https://refactoringguru.cn/design-patterns/strategy/php/example" class="locale-link " data-locale="zh" title="中文"><span class="d-lg-none">中文</span><span class="d-none d-lg-inline">中文</span></a>
                                                                                                                                                                                                                                                                                                                                                                                        </div>
        
        <a class="menu-brand" href="https://refactoring.guru/ru">
                            <img width=200 height=241 loading="lazy" alt="Refactoring.Guru" src="https://refactoring.guru/images/content-public/logos/logo-military.png?id=3eaf203cb26279327252e2c5f5d37c7f" srcset="https://refactoring.guru/images/content-public/logos/logo-military-2x.png?id=5af1a599d8a4170c9a42e6fa18148b98 2x">
                    </a>
        <div>
            <a class="russia-stop" href="https://refactoring.guru/ru/help-ukraine">
                                    HELP UKRAINE
                    <br><b>STOP RUSSIA</b>
                            </a>
        </div>


        <div class="menu-container" style="position: relative">
                        <ul class="menu-list">
                            <li class="featured">
            <a href="https://refactoring.guru/ru/store">
                <i class="fa fa-fw fa-star" aria-hidden="true"></i> Премиум контент
            </a>
    
            <ul >
                            <li class="featured menu-fs15">
            <a href="https://refactoring.guru/ru/design-patterns/book">
                <i class="fa fa-fw fa-book" aria-hidden="true"></i> Книга о паттернах
            </a>
    
    
            </li>
                                <li class="featured menu-fs15">
            <a href="https://refactoring.guru/ru/refactoring/course">
                <i class="fa fa-fw fa-graduation-cap" aria-hidden="true"></i> Курс по рефакторингу
            </a>
    
    
            </li>
                        </ul>
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/refactoring">
                <i class="fa fa-fw fa-scissors" aria-hidden="true"></i> Рефакторинг
            </a>
    
            <ul >
                            <li class="">
            <a href="https://refactoring.guru/ru/refactoring/what-is-refactoring">
                Введение в рефакторинг
            </a>
    
            <ul >
                            <li class="">
            <a href="https://refactoring.guru/ru/refactoring/what-is-refactoring">
                Чистый код
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/refactoring/technical-debt">
                Технический долг
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/refactoring/when">
                Когда рефакторить
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/refactoring/how-to">
                Как рефакторить
            </a>
    
    
            </li>
                        </ul>
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/refactoring/catalog">
                Каталог
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/refactoring/smells">
                Запахи кода
            </a>
    
            <ul >
                            <li class="">
            <a href="https://refactoring.guru/ru/refactoring/smells/bloaters">
                Раздувальщики
            </a>
    
            <ul >
                            <li class="">
            <a href="https://refactoring.guru/ru/smells/long-method">
                Длинный метод
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/smells/large-class">
                Большой класс
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/smells/primitive-obsession">
                Одержимость элементарными типами
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/smells/long-parameter-list">
                Длинный список параметров
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/smells/data-clumps">
                Группы данных
            </a>
    
    
            </li>
                        </ul>
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/refactoring/smells/oo-abusers">
                Нарушители объектно-ориентированного дизайна
            </a>
    
            <ul >
                            <li class="">
            <a href="https://refactoring.guru/ru/smells/switch-statements">
                Операторы switch
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/smells/temporary-field">
                Временное поле
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/smells/refused-bequest">
                Отказ от наследства
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/smells/alternative-classes-with-different-interfaces">
                Альтернативные классы с разными интерфейсами
            </a>
    
    
            </li>
                        </ul>
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/refactoring/smells/change-preventers">
                Утяжелители изменений
            </a>
    
            <ul >
                            <li class="">
            <a href="https://refactoring.guru/ru/smells/divergent-change">
                Расходящиеся модификации
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/smells/shotgun-surgery">
                Стрельба дробью
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/smells/parallel-inheritance-hierarchies">
                Параллельные иерархии наследования
            </a>
    
    
            </li>
                        </ul>
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/refactoring/smells/dispensables">
                Замусориватели
            </a>
    
            <ul >
                            <li class="">
            <a href="https://refactoring.guru/ru/smells/comments">
                Комментарии
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/smells/duplicate-code">
                Дублирование кода
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/smells/lazy-class">
                Ленивый класс
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/smells/data-class">
                Класс данных
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/smells/dead-code">
                Мёртвый код
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/smells/speculative-generality">
                Теоретическая общность
            </a>
    
    
            </li>
                        </ul>
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/refactoring/smells/couplers">
                Опутыватели связями
            </a>
    
            <ul >
                            <li class="">
            <a href="https://refactoring.guru/ru/smells/feature-envy">
                Завистливые функции
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/smells/inappropriate-intimacy">
                Неуместная близость
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/smells/message-chains">
                Цепочка вызовов
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/smells/middle-man">
                Посредник
            </a>
    
    
            </li>
                        </ul>
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/refactoring/smells/other">
                Остальные запахи
            </a>
    
            <ul >
                            <li class="">
            <a href="https://refactoring.guru/ru/smells/incomplete-library-class">
                Неполнота библиотечного класса
            </a>
    
    
            </li>
                        </ul>
    
            </li>
                        </ul>
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/refactoring/techniques">
                Техники
            </a>
    
            <ul >
                            <li class="">
            <a href="https://refactoring.guru/ru/refactoring/techniques/composing-methods">
                Составление методов
            </a>
    
            <ul >
                            <li class="">
            <a href="https://refactoring.guru/ru/extract-method">
                Извлечение метода
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/inline-method">
                Встраивание метода
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/extract-variable">
                Извлечение переменной
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/inline-temp">
                Встраивание переменной
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/replace-temp-with-query">
                Замена переменной вызовом метода
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/split-temporary-variable">
                Расщепление переменной
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/remove-assignments-to-parameters">
                Удаление присваиваний параметрам
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/replace-method-with-method-object">
                Замена метода объектом методов
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/substitute-algorithm">
                Замена алгоритма
            </a>
    
    
            </li>
                        </ul>
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/refactoring/techniques/moving-features-between-objects">
                Перемещение функций между объектами
            </a>
    
            <ul >
                            <li class="">
            <a href="https://refactoring.guru/ru/move-method">
                Перемещение метода
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/move-field">
                Перемещение поля
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/extract-class">
                Извлечение класса
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/inline-class">
                Встраивание класса
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/hide-delegate">
                Сокрытие делегирования
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/remove-middle-man">
                Удаление посредника
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/introduce-foreign-method">
                Введение внешнего метода
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/introduce-local-extension">
                Введение локального расширения
            </a>
    
    
            </li>
                        </ul>
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/refactoring/techniques/organizing-data">
                Организация данных
            </a>
    
            <ul >
                            <li class="">
            <a href="https://refactoring.guru/ru/self-encapsulate-field">
                Самоинкапсуляция поля
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/replace-data-value-with-object">
                Замена простого поля объектом
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/change-value-to-reference">
                Замена значения ссылкой
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/change-reference-to-value">
                Замена ссылки значением
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/replace-array-with-object">
                Замена поля-массива объектом
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/duplicate-observed-data">
                Дублирование видимых данных
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/change-unidirectional-association-to-bidirectional">
                Замена однонаправленной связи двунаправленной
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/change-bidirectional-association-to-unidirectional">
                Замена двунаправленной связи однонаправленной
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/replace-magic-number-with-symbolic-constant">
                Замена магического числа символьной константой
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/encapsulate-field">
                Инкапсуляция поля
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/encapsulate-collection">
                Инкапсуляция коллекции
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/replace-type-code-with-class">
                Замена кодирования типа классом
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/replace-type-code-with-subclasses">
                Замена кодирования типа подклассами
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/replace-type-code-with-state-strategy">
                Замена кодирования типа состоянием/стратегией
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/replace-subclass-with-fields">
                Замена подкласса полями
            </a>
    
    
            </li>
                        </ul>
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/refactoring/techniques/simplifying-conditional-expressions">
                Упрощение условных выражений
            </a>
    
            <ul >
                            <li class="">
            <a href="https://refactoring.guru/ru/decompose-conditional">
                Разбиение условного оператора
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/consolidate-conditional-expression">
                Объединение условных операторов
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/consolidate-duplicate-conditional-fragments">
                Объединение дублирующихся фрагментов в условных операторах
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/remove-control-flag">
                Удаление управляющего флага
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/replace-nested-conditional-with-guard-clauses">
                Замена вложенных условных операторов граничным оператором
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/replace-conditional-with-polymorphism">
                Замена условного оператора полиморфизмом
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/introduce-null-object">
                Введение Null-объекта
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/introduce-assertion">
                Введение проверки утверждения
            </a>
    
    
            </li>
                        </ul>
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/refactoring/techniques/simplifying-method-calls">
                Упрощение вызовов методов
            </a>
    
            <ul >
                            <li class="">
            <a href="https://refactoring.guru/ru/rename-method">
                Переименование метода
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/add-parameter">
                Добавление параметра
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/remove-parameter">
                Удаление параметра
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/separate-query-from-modifier">
                Разделение запроса и модификатора
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/parameterize-method">
                Параметризация метода
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/replace-parameter-with-explicit-methods">
                Замена параметра набором специализированных методов
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/preserve-whole-object">
                Передача всего объекта
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/replace-parameter-with-method-call">
                Замена параметра вызовом метода
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/introduce-parameter-object">
                Замена параметров объектом
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/remove-setting-method">
                Удаление сеттера
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/hide-method">
                Сокрытие метода
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/replace-constructor-with-factory-method">
                Замена конструктора фабричным методом
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/replace-error-code-with-exception">
                Замена кода ошибки исключением
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/replace-exception-with-test">
                Замена исключения проверкой условия
            </a>
    
    
            </li>
                        </ul>
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/refactoring/techniques/dealing-with-generalization">
                Решение задач обобщения
            </a>
    
            <ul >
                            <li class="">
            <a href="https://refactoring.guru/ru/pull-up-field">
                Подъём поля
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/pull-up-method">
                Подъём метода
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/pull-up-constructor-body">
                Подъём тела конструктора
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/push-down-method">
                Спуск метода
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/push-down-field">
                Спуск поля
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/extract-subclass">
                Извлечение подкласса
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/extract-superclass">
                Извлечение суперкласса
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/extract-interface">
                Извлечение интерфейса
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/collapse-hierarchy">
                Свёртывание иерархии
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/form-template-method">
                Создание шаблонного метода
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/replace-inheritance-with-delegation">
                Замена наследования делегированием
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/replace-delegation-with-inheritance">
                Замена делегирования наследованием
            </a>
    
    
            </li>
                        </ul>
    
            </li>
                        </ul>
    
            </li>
                        </ul>
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/design-patterns">
                <i class="fa fa-fw fa-puzzle-piece" aria-hidden="true"></i> Паттерны
            </a>
    
            <ul >
                            <li class="">
            <a href="https://refactoring.guru/ru/design-patterns/what-is-pattern">
                Введение в паттерны
            </a>
    
            <ul >
                            <li class="">
            <a href="https://refactoring.guru/ru/design-patterns/what-is-pattern">
                Что такое Паттерн?
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/design-patterns/history">
                История паттернов
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/design-patterns/why-learn-patterns">
                Зачем знать паттерны?
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/design-patterns/criticism">
                Критика паттернов
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/design-patterns/classification">
                Классификация паттернов
            </a>
    
    
            </li>
                        </ul>
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/design-patterns/catalog">
                Каталог
            </a>
    
    
            </li>
                                <li class="menu-third-level">
            <a href="https://refactoring.guru/ru/design-patterns/creational-patterns">
                Порождающие
            </a>
    
            <ul >
                            <li class="">
            <a href="https://refactoring.guru/ru/design-patterns/factory-method">
                Фабричный метод
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/design-patterns/abstract-factory">
                Абстрактная фабрика
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/design-patterns/builder">
                Строитель
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/design-patterns/prototype">
                Прототип
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/design-patterns/singleton">
                Одиночка
            </a>
    
    
            </li>
                        </ul>
    
            </li>
                                <li class="menu-third-level">
            <a href="https://refactoring.guru/ru/design-patterns/structural-patterns">
                Структурные
            </a>
    
            <ul >
                            <li class="">
            <a href="https://refactoring.guru/ru/design-patterns/adapter">
                Адаптер
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/design-patterns/bridge">
                Мост
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/design-patterns/composite">
                Компоновщик
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/design-patterns/decorator">
                Декоратор
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/design-patterns/facade">
                Фасад
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/design-patterns/flyweight">
                Легковес
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/design-patterns/proxy">
                Заместитель
            </a>
    
    
            </li>
                        </ul>
    
            </li>
                                <li class="menu-third-level">
            <a href="https://refactoring.guru/ru/design-patterns/behavioral-patterns">
                Поведенческие
            </a>
    
            <ul >
                            <li class="">
            <a href="https://refactoring.guru/ru/design-patterns/chain-of-responsibility">
                Цепочка обязанностей
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/design-patterns/command">
                Команда
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/design-patterns/iterator">
                Итератор
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/design-patterns/mediator">
                Посредник
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/design-patterns/memento">
                Снимок
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/design-patterns/observer">
                Наблюдатель
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/design-patterns/state">
                Состояние
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/design-patterns/strategy">
                Стратегия
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/design-patterns/template-method">
                Шаблонный метод
            </a>
    
    
            </li>
                                <li class="">
            <a href="https://refactoring.guru/ru/design-patterns/visitor">
                Посетитель
            </a>
    
    
            </li>
                        </ul>
    
            </li>
                                <li class="menu-code-examples">
            <a href="https://refactoring.guru/ru/design-patterns/examples">
                Примеры кода
            </a>
    
            <ul >
                            <li class="menu-code-examples-item">
            <a href="https://refactoring.guru/ru/design-patterns/csharp">
                C#
            </a>
    
    
            </li>
                                <li class="menu-code-examples-item">
            <a href="https://refactoring.guru/ru/design-patterns/cpp">
                C++
            </a>
    
    
            </li>
                                <li class="menu-code-examples-item">
            <a href="https://refactoring.guru/ru/design-patterns/go">
                Go
            </a>
    
    
            </li>
                                <li class="menu-code-examples-item">
            <a href="https://refactoring.guru/ru/design-patterns/java">
                Java
            </a>
    
    
            </li>
                                <li class="menu-code-examples-item">
            <a href="https://refactoring.guru/ru/design-patterns/php">
                PHP
            </a>
    
    
            </li>
                                <li class="menu-code-examples-item">
            <a href="https://refactoring.guru/ru/design-patterns/python">
                Python
            </a>
    
    
            </li>
                                <li class="menu-code-examples-item">
            <a href="https://refactoring.guru/ru/design-patterns/ruby">
                Ruby
            </a>
    
    
            </li>
                                <li class="menu-code-examples-item">
            <a href="https://refactoring.guru/ru/design-patterns/swift">
                Swift
            </a>
    
    
            </li>
                                <li class="menu-code-examples-item">
            <a href="https://refactoring.guru/ru/design-patterns/typescript">
                TypeScript
            </a>
    
    
            </li>
                        </ul>
    
            </li>
                        </ul>
    
            </li>
                        </ul>
    
            </div>
        <div class="sidebar-controls">
            <div class="sidebar-controls-container">
                <a href="https://refactoring.guru/ru/login" title="Войти"><i
                            class="fa fa-fw fa-fw fa-user"></i> Войти</a>
                <a href="https://feedback.refactoring.guru/communities/1-russkij-russian" class="userecho-public" rel="nofollow" title="Обратная связь"><i class="fa fa-fw fa-fw fa-envelope" aria-hidden="true"></i> Связаться</a>
            </div>
        </div>
    </div>
</aside>
    <footer class="footer center-content">
    <div class="footer-container center-content-container">
        <div class="footer-inner container-fluid">
            <div class="row">
                <div class="col-8 col-md-10">
                    <ul class="footer-list footer-list-horizontal">
                        <li><a href="https://refactoring.guru/ru">Главная</a></li>
                        <li><a href="https://refactoring.guru/ru/refactoring">Рефакторинг</a></li>
                        <li><a href="https://refactoring.guru/ru/design-patterns">Паттерны</a></li>
                        <li><a href="https://refactoring.guru/ru/store">Премиум контент</a></li>
                        <li><a href="https://refactoring.userecho.com/" rel="nofollow" class="userecho-public">Форум</a></li>
                        <li><a href="https://refactoring.userecho.com/" rel="nofollow" class="userecho-private">Связаться</a></li>
                    </ul>
                </div>
                <div class="col-4 col-md-2">
                    <ul class="footer-list footer-list-iconic">
                                                    <li><a href="https://www.facebook.com/refactoring.guru"><i class="fa fa-facebook-official"></i></a></li>
                                                <li><a href="https://refactoring.guru/ru/sendy/form" rel="nofollow"><i class="fa fa-envelope" aria-hidden="true"></i></a></li>
                        <li><a href="https://github.com/RefactoringGuru"><i class="fa fa-github-circled"></i></a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <div class="footer-second">
        <div class="footer-container center-content-container">
            <div class="footer-inner container-fluid">
                <div class="row">
                    <div class="col-12 col-sm-8">
                        <i class="fa fa-fw fa-copyright"></i> 2014-2022 <a href="https://refactoring.guru/ru">Refactoring.Guru</a>. <span style="white-space: nowrap">Все права защищены.</span><br>
                        <object class="fa-fw" style="height: 0.8rem; filter: invert(50%);"  type="image/svg+xml" data="https://refactoring.guru/images/content-public/icons/fa-building.svg?id=afddb5806968b0a9acfc1df75a181234">
                            <img class="fa-fw" style="height: 0.8rem;" src="https://refactoring.guru/images/content-public/icons/fa-building.svg?id=afddb5806968b0a9acfc1df75a181234" alt="Organization address"/>
                        </object> Хмельницкое шоссе 19 / 27, Каменец-Подольский, Украина, 32305<br>
                        <i class="fa fa-fw fa-envelope"></i>  Email: support@refactoring.guru

                        <div class="mt-2">
                            <i class="fa fa-fw fa-image"></i> Иллюстрации нарисовал <a href="http://zhart.us/" rel="nofollow"><span style="white-space: nowrap">Дмитрий Жарт</span></a></div>
                    </div>
                    <div class="footer-links-right col-12 col-sm-4 mt-4 mt-sm-0">
                        <div class="row">
                            <div class="col-8 col-sm-12">
                                <ul class="footer-list">
                                    <li><a href="https://refactoring.guru/ru/terms"><span>Условия использования</span></a>
                                    </li>
                                    <li><a href="https://refactoring.guru/ru/privacy-policy"><span>Политика конфиденциальности</span></a>
                                    </li>
                                    <li><a href="https://refactoring.guru/ru/content-usage-policy"><span>Использование контента</span></a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</footer>

</div>


    <script>
function extend(){var extended={};var deep=false;var i=0;var length=arguments["length"];if(Object["prototype"]["toString"]["call"](arguments[0])=== '[object Boolean]'){deep= arguments[0];i++};var merge=function(obj){for(var prop in obj){if(Object["prototype"]["hasOwnProperty"]["call"](obj,prop)){if(deep&& Object["prototype"]["toString"]["call"](obj[prop])=== '[object Object]'){extended[prop]= extend(true,extended[prop],obj[prop])}else {extended[prop]= obj[prop]}}}};for(;i< length;i++){var obj=arguments[i];merge(obj)};return extended}
function defer(method) {if (window.jQuery) {method();} else {setTimeout(function() { defer(method) }, 50);}}
</script>
<script>
+function(sd){sd = (typeof sd === "string") ? JSON.parse(atob(sd)) : sd;for(var property in sd){if(window[property]!== null&&  typeof window[property]=== 'object'){window[property]= extend(true,window[property],sd[property])}else {window[property]= sd[property]}}}("eyJsb2NhbGUiOiJydSIsImxvY2FsZV9wcmVmaXgiOiJydVwvIiwibG9jYWxpemVkX3VybF9wcmVmaXhfbSI6Imh0dHBzOlwvXC9yZWZhY3RvcmluZy5ndXJ1XC9ydVwvIiwidXJsX3ByZWZpeF9tIjoiaHR0cHM6XC9cL3JlZmFjdG9yaW5nLmd1cnVcLyIsImxvY2FsaXplZF91cmxfcHJlZml4IjoiaHR0cHM6XC9cL3JlZmFjdG9yaW5nLmd1cnVcL3J1XC8iLCJ1cmxfcHJlZml4IjoiaHR0cHM6XC9cL3JlZmFjdG9yaW5nLmd1cnVcLyIsImNoaW5lc2VfaG9tZSI6Imh0dHBzOlwvXC9yZWZhY3RvcmluZ2d1cnUuY25cLyIsInVzZXJfZWNob19hbGlhcyI6InJlZmFjdG9yaW5nIiwidXNlcl9lY2hvX2hvc3QiOiJmZWVkYmFjay5yZWZhY3RvcmluZy5ndXJ1IiwidXNlcl9lY2hvX3ByaXZhdGVfZm9ydW0iOiIyIiwidXNlcl9lY2hvX2xvY2FsZSI6InJ1IiwidXNlcl9lY2hvX3B1YmxpY19mb3J1bSI6IjEiLCJ1c2VyX2VjaG9fcHVibGljX2ZvcnVtX3VybCI6Imh0dHBzOlwvXC9mZWVkYmFjay5yZWZhY3RvcmluZy5ndXJ1XC9jb21tdW5pdGllc1wvMS1ydXNza2lqLXJ1c3NpYW4iLCJ1c2VyX2VjaG9fc3NvX3Rva2VuIjoiIn0=");
</script>

    <script defer>
        if (window.dataLayer && window.google_optimize) {
            window.dataLayer.push({'event': 'optimize.activate'});
        }
    </script>
<style>.async-hide { opacity: 0 !important} </style>
<script>(function(a,s,y,n,c,h,i,d,e){s.className+=' '+y;h.start=1*new Date;
        h.end=i=function(){s.className=s.className.replace(RegExp(' ?'+y),'')};
        (a[n]=a[n]||[]).hide=h;setTimeout(function(){i();h.end=null},c);h.timeout=c;
    })(window,document.documentElement,'async-hide','dataLayer',4000,
        {'GTM-M58XZN4':true});</script>
<link rel="preconnect dns-prefetch" href="https://www.google-analytics.com">
<script>
    var getCookie = function(name) {
        var nameEQ = name + "=";
        var ca = document.cookie.split(';');
        for(var i=0;i < ca.length;i++) {
            var c = ca[i];
            while (c.charAt(0)==' ') c = c.substring(1,c.length);
            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
        }
        return null;
    };
    var eraseCookie = function (name) {
        document.cookie = name+'=; Path=/; Max-Age=-99999999;';
    };

    window.google_analytics = 'UA-521840-40';

    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    var ga_queue = [];
    window.gaOnCreate = function(){
        ga_queue.push(arguments);
    };

            doTracking();
    
    function doTracking(clientId) {
        window.gaOnCreate = function(){
            ga.apply(this, arguments);
        };

        var options = {
            'siteSpeedSampleRate': 100
        };
        if (clientId) {
            options.clientId = clientId;
        }
        ga('create', 'UA-521840-40', options);

                    ga('require', 'GTM-M58XZN4');
            window.google_optimize = 'GTM-M58XZN4';
        
        // Fix broken Social Login referrer.
        window.social_login_provider = window.social_login_provider || getCookie('social_login_provider');
        if (window.social_login_provider) {
            ga('set', 'referrer', null);
            ga('send', 'social', window.social_login_provider, 'login', window.location.href);
            eraseCookie('social_login_provider');
        }

        var user_id = getCookie('user_id');
        if (user_id) {
            ga('set', 'userId', user_id);
        } else {
            ga('set', 'userId', null);
        }

        var location = document.location.href;
        if (typeof window.analytics_path_prefix === 'string') {
            if (/^(https?:\/\/[^\/]+?)\/$/.test(location)) {
                location = location.replace(/(https?:\/\/[^\/]+?)\//, '$1' + window.analytics_path_prefix);
            }
            else {
                location = location.replace(/(https?:\/\/[^\/]+?)\//, '$1' + window.analytics_path_prefix + '/');
            }
            ga('set', 'location', location);
        }

        if (typeof window.analytics_location_prefix === 'string') {
            location = location.replace(/(https?:\/\/[^\/]+?)\//, window.analytics_location_prefix);
            ga('set', 'location', location);
        }

        ga('require', 'ec');
        ga('send', 'pageview', (typeof window.analytics_path_prefix === 'string' ? window.analytics_path_prefix : '') + document.location.pathname);

        ga_queue.forEach(function(item){
            ga.apply(this, item);
        });
    }
</script>

<script defer>
    window.socialLikesButtons = {
                facebook: {
            counterUrl: "",
            convertNumber: null
        },
                            vkontakte: {
            counterUrl: "",
            counter: null
        },
            };
</script>

<script defer>
    var CodeMirrorScripts = ["/js/codemirror.min.js?id=24aa863dfde7c99eb17d4102684aea27"];
</script>



    <script>window.loadContent = true;window.loadCart = true;</script>
</body>
</html>