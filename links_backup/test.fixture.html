<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="x-ua-compatible" content="ie=edge">

        <link rel="apple-touch-icon" sizes="180x180" href="https://www.yiiframework.com/favico/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="https://www.yiiframework.com/favico/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="https://www.yiiframework.com/favico/favicon-16x16.png">
        <link rel="shortcut icon" href="https://www.yiiframework.com/favico/favicon.ico">
        <link rel="manifest" href="https://www.yiiframework.com/favico/manifest.json">
        <link rel="mask-icon" href="https://www.yiiframework.com/favico/safari-pinned-tab.svg" color="#1e6887">
        <meta name="msapplication-config" content="/favico/browserconfig.xml">
        <meta name="theme-color" content="#1e6887">

        <link href="https://www.yiiframework.com/rss.xml" type="application/rss+xml" rel="alternate" title="Lives News for Yii Framework">

        <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        <meta name="csrf-param" content="_csrf">
<meta name="csrf-token" content="MmikciPlLDnEtXQOaTNVd9Unzk4b2PfrnuPS7d0JlTdKJf4eWZx1Do_FHXpefCVarBKbJliPsbGnorG9pEDfRQ==">
        
        <title>Тестирование: Определение фикстур | Полное руководство по Yii 1.1 | Yii PHP Framework</title>

        <meta property="og:site_name" content="Yii Framework" />
        <meta property="og:title" content="Тестирование: Определение фикстур" />
        <meta property="og:image" content="https://www.yiiframework.com/image/facebook_cover.png" />
        <meta property="og:url" content="/doc/guide/1.1/ru/test.fixture" />
        <meta property="og:description" content="" />

        <meta name="twitter:card" content="summary" />
        <meta name="twitter:site" content="yiiframework" />
        <meta name="twitter:title" content="Тестирование: Определение фикстур" />
        <meta name="twitter:description" content="" />
        <meta name="twitter:image" content="https://www.yiiframework.com/image/twitter_cover.png" />
        <meta name="twitter:image:width" content="120" />
        <meta name="twitter:image:height" content="120" />

        <link type="application/opensearchdescription+xml" href="https://www.yiiframework.com/opensearch.xml" title="Yii Search" rel="search">
<link href="https://www.yiiframework.com/assets/85247087/css/all.min.css?v=1645275708" rel="stylesheet">
<script>yiiBaseUrl = ""
yiiSearchLanguage = "ru"
yiiSearchVersion = "1.1"</script>
        <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-707ZP35KCT"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-707ZP35KCT');
</script>
    </head>
    <body data-spy="scroll" data-target="#scrollnav" data-offset="1">
        
        <div id="page-wrapper" class="">

            <header class="navbar navbar-inverse navbar-static" id="top">
    <div class="container">
        <div id="main-nav-head" class="navbar-header">
            <a href="https://www.yiiframework.com/" class="navbar-brand">
                <img src="https://www.yiiframework.com/image/logo.svg"
                     alt="Yii PHP Framework"
                     width="165" height="35"/>
            </a>
            <button type="button" class="navbar-toggle" data-toggle="collapse" aria-label="Toggle navigation" data-target=".navbar-collapse"><i
                    class="fa fa-inverse fa-bars"></i></button>
        </div>

        <div class="navbar-collapse collapse navbar-right">
            <ul id="main-nav" class="nav navbar-nav navbar-main-menu nav"><li class="active" title="The Definitive Guide to Yii"><a href="https://www.yiiframework.com/doc/guide">Guide</a></li>
<li title="API Documentation"><a href="https://www.yiiframework.com/doc/api">API</a></li>
<li title="Community Wiki"><a href="https://www.yiiframework.com/wiki">Wiki</a></li>
<li title="Community Forum"><a href="https://www.yiiframework.com/forum">Forum</a></li>
<li class="dropdown"><a class="dropdown-toggle" href="test.fixture.html#" data-toggle="dropdown">Community <span class="caret"></span></a><ul id="w8" class="dropdown-menu"><li><a href="https://www.yiiframework.com/chat" tabindex="-1">Live Chat</a></li>
<li title="Extensions"><a href="https://www.yiiframework.com/extensions" tabindex="-1">Extensions</a></li>
<li><a href="https://www.yiiframework.com/community" tabindex="-1">Resources</a></li>
<li title="Community Members"><a href="https://www.yiiframework.com/user" tabindex="-1">Members</a></li>
<li title="Community Hall of Fame"><a href="https://www.yiiframework.com/user/halloffame" tabindex="-1">Hall of Fame</a></li>
<li title="Community Badges"><a href="https://www.yiiframework.com/badges" tabindex="-1">Badges</a></li></ul></li>
<li class="dropdown"><a class="dropdown-toggle" href="test.fixture.html#" data-toggle="dropdown">More <span class="caret"></span></a><ul id="w9" class="dropdown-menu"><li class="separator dropdown-header">Learn</li>
<li><a href="https://www.yiiframework.com/books" tabindex="-1">Books</a></li>
<li><a href="https://www.yiiframework.com/resources" tabindex="-1">Resources</a></li>
<li class="separator dropdown-header">Develop</li>
<li><a href="https://www.yiiframework.com/download" tabindex="-1">Download Yii</a></li>
<li><a href="https://www.yiiframework.com/report-issue" tabindex="-1">Report an Issue</a></li>
<li><a href="https://www.yiiframework.com/security" tabindex="-1">Report a Security Issue</a></li>
<li><a href="https://www.yiiframework.com/contribute" tabindex="-1">Contribute to Yii</a></li>
<li class="separator dropdown-header">About</li>
<li><a href="https://www.yiiframework.com/doc/guide/2.0/en/intro-yii" tabindex="-1">What is Yii?</a></li>
<li><a href="https://www.yiiframework.com/release-cycle" tabindex="-1">Release Cycle</a></li>
<li><a href="https://www.yiiframework.com/news" tabindex="-1">News</a></li>
<li><a href="https://www.yiiframework.com/license" tabindex="-1">License</a></li>
<li><a href="https://www.yiiframework.com/team" tabindex="-1">Team</a></li>
<li><a href="https://www.yiiframework.com/logo" tabindex="-1">Official Logos and Design</a></li></ul></li></ul>
            
            <div class="nav navbar-nav navbar-right">
                <ul id="login-nav" class="nav navbar-nav navbar-main-menu nav"><li><a href="https://www.yiiframework.com/login">Login</a></li></ul>            </div>

            <div class="nav navbar-nav navbar-right">
                        <form id="search-form" class="navbar-form" action="https://www.yiiframework.com/search" method="get">
<input type="hidden" name="language" value="ru">
<input type="hidden" name="version" value="1.1">
<input type="hidden" name="type" value="guide">        <div class="form-group nospace">
            <div class="input-group">
                <input type="text" class="form-control" id="search" name="q" placeholder="Search Guide&hellip;" autocomplete="off" value="">
            </div>
        </div>
        <div id="search-resultbox"></div>
        </form>            </div>

            
        </div>
    </div>
</header>

            <div class="section-header-wrap">
    <div class="container section-header lang-en">
        <div class="row headline-row">
            <div class="col-xs-12 col-md-12">
                <div class="section-headline">Полное руководство по Yii 1.1</div>
            </div>
                    </div>
                <div class="row content-selector-row">
            <div class="col-xs-12 col-md-offset-7 col-md-5">
                <nav class="version-selector">
        <div class="btn-group btn-group-justified btn-group-3-element">
                        <div class="btn-group btn-group-sm"><button class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-expanded="false">Русский <span class="caret"></span></button><ul class="dropdown-menu" role="menu"><li role="presentation"><a href="https://www.yiiframework.com/doc/guide/1.1/de/test.fixture" role="menuitem" tabindex="-1">Deutsch</a></li>
<li role="presentation"><a href="https://www.yiiframework.com/doc/guide/1.1/en/test.fixture" role="menuitem" tabindex="-1">English</a></li>
<li role="presentation"><a href="https://www.yiiframework.com/doc/guide/1.1/fr/test.fixture" role="menuitem" tabindex="-1">Français</a></li>
<li role="presentation"><a href="https://www.yiiframework.com/doc/guide/1.1/he/test.fixture" role="menuitem" tabindex="-1">עִבְרִית</a></li>
<li role="presentation"><a href="https://www.yiiframework.com/doc/guide/1.1/id/test.fixture" role="menuitem" tabindex="-1">Bahasa Indonesia</a></li>
<li role="presentation"><a href="https://www.yiiframework.com/doc/guide/1.1/it/test.fixture" role="menuitem" tabindex="-1">Italiano</a></li>
<li role="presentation"><a href="https://www.yiiframework.com/doc/guide/1.1/ja/test.fixture" role="menuitem" tabindex="-1">日本語</a></li>
<li role="presentation"><a href="https://www.yiiframework.com/doc/guide/1.1/pl/test.fixture" role="menuitem" tabindex="-1">Polski</a></li>
<li role="presentation"><a href="https://www.yiiframework.com/doc/guide/1.1/pt/test.fixture" role="menuitem" tabindex="-1">Português</a></li>
<li role="presentation"><a href="https://www.yiiframework.com/doc/guide/1.1/pt-br/test.fixture" role="menuitem" tabindex="-1">Português brasileiro</a></li>
<li role="presentation"><a href="https://www.yiiframework.com/doc/guide/1.1/sv/test.fixture" role="menuitem" tabindex="-1">Svenska</a></li>
<li role="presentation"><a href="https://www.yiiframework.com/doc/guide/1.1/uk/test.fixture" role="menuitem" tabindex="-1">Украї́нська</a></li>
<li role="presentation"><a href="https://www.yiiframework.com/doc/guide/1.1/zh-cn/test.fixture" role="menuitem" tabindex="-1">简体中文</a></li></ul></div>
                <div class="btn-group btn-group-sm"><button class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-expanded="false">Version 1.1 <span class="caret"></span></button><ul class="dropdown-menu" role="menu"><li role="presentation"><a href="https://www.yiiframework.com/doc/guide/2.0/ru" role="menuitem" tabindex="-1">2.0</a></li>
<li role="presentation"><a href="https://www.yiiframework.com/doc/guide/1.0/ru" role="menuitem" tabindex="-1">1.0</a></li></ul></div>    </div>
</nav>
            </div>
        </div>
            </div>
</div>

                        <div class="visible-huge fixed lang-ru">
    <nav id="scrollnav" data-spy="affix" data-offset-top="120">
        <ul class="nav hidden-xs hidden-sm">
            <li><a href="test.fixture.html#sec-1">Определение фикстур</a></li><li><a href="test.fixture.html#user-notes">User Contributed Notes</a></li>        </ul>
    </nav>
</div>
<div class="container guide-view" xmlns="http://www.w3.org/1999/xhtml">
    <div class="row visible-xs">
        <div class="col-md-12">
            <p class="pull-right topmost">
                <button type="button" title="Toggle Side-Nav" class="btn btn-primary btn-xs" data-toggle="offcanvas">SideNav</button>
            </p>
        </div>
    </div>
    <div class="row row-offcanvas">
        <div class="col-sm-3 col-md-3 col-lg-3 lang-ru">
            <form class="mini-search-form" action="https://www.yiiframework.com/search" method="get">
<input type="hidden" name="language" value="ru">
<input type="hidden" name="version" value="1.1">
<input type="hidden" name="type" value="guide"><input type="text" class="form-control" name="q" placeholder="Search the Guide…" autocomplete="off" aria-label="Search box"> <button type="submit" class="btn btn-primary sr-only">Search</button></form>            <div id="guide-navigation" class="sidenav-offcanvas"><a class="list-group-item has-children" href="test.fixture.html#" data-toggle="collapse" data-parent="#guide-navigation" data-target="#guide-navigation-0">Начало</a><div id="guide-navigation-0" class="submenu panel-collapse collapse"><a class="list-group-item" href="https://www.yiiframework.com/doc/guide/1.1/ru/index">Обзор</a>
<a class="list-group-item" href="https://www.yiiframework.com/doc/guide/1.1/ru/changes">Новые возможности</a>
<a class="list-group-item" href="https://www.yiiframework.com/doc/guide/1.1/ru/upgrade">Обновление с версии 1.0 до версии 1.1</a>
<a class="list-group-item" href="https://www.yiiframework.com/doc/guide/1.1/ru/quickstart.what-is-yii">Что такое Yii</a>
<a class="list-group-item" href="https://www.yiiframework.com/doc/guide/1.1/ru/quickstart.installation">Установка</a>
<a class="list-group-item" href="https://www.yiiframework.com/doc/guide/1.1/ru/quickstart.apache-nginx-config">Конфигурации Apache и Nginx</a>
<a class="list-group-item" href="https://www.yiiframework.com/doc/guide/1.1/ru/quickstart.first-app">Создание первого приложения</a></div>
<a class="list-group-item has-children" href="test.fixture.html#" data-toggle="collapse" data-parent="#guide-navigation" data-target="#guide-navigation-1">Основы</a><div id="guide-navigation-1" class="submenu panel-collapse collapse"><a class="list-group-item" href="https://www.yiiframework.com/doc/guide/1.1/ru/basics.mvc">Модель — Представление — Контроллер (MVC)</a>
<a class="list-group-item" href="https://www.yiiframework.com/doc/guide/1.1/ru/basics.entry">Входной скрипт</a>
<a class="list-group-item" href="https://www.yiiframework.com/doc/guide/1.1/ru/basics.application">Приложение</a>
<a class="list-group-item" href="https://www.yiiframework.com/doc/guide/1.1/ru/basics.controller">Контроллер</a>
<a class="list-group-item" href="https://www.yiiframework.com/doc/guide/1.1/ru/basics.model">Модель</a>
<a class="list-group-item" href="https://www.yiiframework.com/doc/guide/1.1/ru/basics.view">Представление</a>
<a class="list-group-item" href="https://www.yiiframework.com/doc/guide/1.1/ru/basics.component">Компонент</a>
<a class="list-group-item" href="https://www.yiiframework.com/doc/guide/1.1/ru/basics.module">Модуль</a>
<a class="list-group-item" href="https://www.yiiframework.com/doc/guide/1.1/ru/basics.namespace">Псевдоним пути и пространство имён</a>
<a class="list-group-item" href="https://www.yiiframework.com/doc/guide/1.1/ru/basics.convention">Соглашения</a>
<a class="list-group-item" href="https://www.yiiframework.com/doc/guide/1.1/ru/basics.workflow">Процесс разработки</a>
<a class="list-group-item" href="https://www.yiiframework.com/doc/guide/1.1/ru/basics.best-practices">Лучшие практики MVC</a></div>
<a class="list-group-item has-children" href="test.fixture.html#" data-toggle="collapse" data-parent="#guide-navigation" data-target="#guide-navigation-2">Работа с формами</a><div id="guide-navigation-2" class="submenu panel-collapse collapse"><a class="list-group-item" href="https://www.yiiframework.com/doc/guide/1.1/ru/form.overview">Обзор</a>
<a class="list-group-item" href="https://www.yiiframework.com/doc/guide/1.1/ru/form.model">Создание модели</a>
<a class="list-group-item" href="https://www.yiiframework.com/doc/guide/1.1/ru/form.action">Создание действия</a>
<a class="list-group-item" href="https://www.yiiframework.com/doc/guide/1.1/ru/form.view">Создание формы</a>
<a class="list-group-item" href="https://www.yiiframework.com/doc/guide/1.1/ru/form.table">Обработка табличного ввода</a>
<a class="list-group-item" href="https://www.yiiframework.com/doc/guide/1.1/ru/form.builder">Использование конструктора форм</a></div>
<a class="list-group-item has-children" href="test.fixture.html#" data-toggle="collapse" data-parent="#guide-navigation" data-target="#guide-navigation-3">Работа с БД</a><div id="guide-navigation-3" class="submenu panel-collapse collapse"><a class="list-group-item" href="https://www.yiiframework.com/doc/guide/1.1/ru/database.overview">Обзор</a>
<a class="list-group-item" href="https://www.yiiframework.com/doc/guide/1.1/ru/database.dao">Объекты доступа к данным (DAO)</a>
<a class="list-group-item" href="https://www.yiiframework.com/doc/guide/1.1/ru/database.query-builder">Конструктор запросов</a>
<a class="list-group-item" href="https://www.yiiframework.com/doc/guide/1.1/ru/database.ar">Active Record</a>
<a class="list-group-item" href="https://www.yiiframework.com/doc/guide/1.1/ru/database.arr">Реляционная Active Record</a>
<a class="list-group-item" href="https://www.yiiframework.com/doc/guide/1.1/ru/database.migration">Миграции</a></div>
<a class="list-group-item has-children" href="test.fixture.html#" data-toggle="collapse" data-parent="#guide-navigation" data-target="#guide-navigation-4">Кэширование</a><div id="guide-navigation-4" class="submenu panel-collapse collapse"><a class="list-group-item" href="https://www.yiiframework.com/doc/guide/1.1/ru/caching.overview">Обзор</a>
<a class="list-group-item" href="https://www.yiiframework.com/doc/guide/1.1/ru/caching.data">Кэширование данных</a>
<a class="list-group-item" href="https://www.yiiframework.com/doc/guide/1.1/ru/caching.fragment">Кэширование фрагментов</a>
<a class="list-group-item" href="https://www.yiiframework.com/doc/guide/1.1/ru/caching.page">Кэширование страниц</a>
<a class="list-group-item" href="https://www.yiiframework.com/doc/guide/1.1/ru/caching.dynamic">Кэширование динамического содержимого</a></div>
<a class="list-group-item has-children" href="test.fixture.html#" data-toggle="collapse" data-parent="#guide-navigation" data-target="#guide-navigation-5">Расширение Yii</a><div id="guide-navigation-5" class="submenu panel-collapse collapse"><a class="list-group-item" href="https://www.yiiframework.com/doc/guide/1.1/ru/extension.overview">Обзор</a>
<a class="list-group-item" href="https://www.yiiframework.com/doc/guide/1.1/ru/extension.use">Использование расширений</a>
<a class="list-group-item" href="https://www.yiiframework.com/doc/guide/1.1/ru/extension.create">Создание расширений</a>
<a class="list-group-item" href="https://www.yiiframework.com/doc/guide/1.1/ru/extension.integration">Использование сторонних библиотек</a></div>
<a class="list-group-item has-children active" href="test.fixture.html#" data-toggle="collapse" data-parent="#guide-navigation" data-target="#guide-navigation-6">Тестирование</a><div id="guide-navigation-6" class="submenu panel-collapse collapse in active-parent"><a class="list-group-item" href="https://www.yiiframework.com/doc/guide/1.1/ru/test.overview">Обзор</a>
<a class="list-group-item active" href="test.fixture.html">Определение фикстур</a>
<a class="list-group-item" href="https://www.yiiframework.com/doc/guide/1.1/ru/test.unit">Модульное тестирование</a>
<a class="list-group-item" href="https://www.yiiframework.com/doc/guide/1.1/ru/test.functional">Функциональное тестирование</a></div>
<a class="list-group-item has-children" href="test.fixture.html#" data-toggle="collapse" data-parent="#guide-navigation" data-target="#guide-navigation-7">Специальные темы</a><div id="guide-navigation-7" class="submenu panel-collapse collapse"><a class="list-group-item" href="https://www.yiiframework.com/doc/guide/1.1/ru/topics.gii">Автоматическая генерация кода</a>
<a class="list-group-item" href="https://www.yiiframework.com/doc/guide/1.1/ru/topics.url">Управление URL</a>
<a class="list-group-item" href="https://www.yiiframework.com/doc/guide/1.1/ru/topics.auth">Аутентификация и авторизация</a>
<a class="list-group-item" href="https://www.yiiframework.com/doc/guide/1.1/ru/topics.theming">Темы оформления и скины</a>
<a class="list-group-item" href="https://www.yiiframework.com/doc/guide/1.1/ru/topics.logging">Журналирование</a>
<a class="list-group-item" href="https://www.yiiframework.com/doc/guide/1.1/ru/topics.error">Обработка ошибок</a>
<a class="list-group-item" href="https://www.yiiframework.com/doc/guide/1.1/ru/topics.webservice">Веб-сервисы</a>
<a class="list-group-item" href="https://www.yiiframework.com/doc/guide/1.1/ru/topics.i18n">Интернационализация (I18N)</a>
<a class="list-group-item" href="https://www.yiiframework.com/doc/guide/1.1/ru/topics.prado">Альтернативный язык шаблонов</a>
<a class="list-group-item" href="https://www.yiiframework.com/doc/guide/1.1/ru/topics.console">Консольные приложения</a>
<a class="list-group-item" href="https://www.yiiframework.com/doc/guide/1.1/ru/topics.security">Безопасность</a>
<a class="list-group-item" href="https://www.yiiframework.com/doc/guide/1.1/ru/topics.performance">Улучшение производительности</a>
<a class="list-group-item" href="https://www.yiiframework.com/doc/guide/1.1/ru/quickstart.first-app-yiic">Генерация кода при помощи консоли (устаревшее)</a></div></div>        </div>
        <div class="col-sm-9 col-md-9 col-lg-9" role="main">

            <div class="guide-content content lang-ru">

        <div class="pull-right">
        
<div class="star-wrapper">
    <span class="fa fa-star-o" data-star-url="/ajax/star?type=doc&amp;id=537"></span>            <span class="star-count">0</span> follower    </div>
    </div>

    <h1 id="sec-1">Определение фикстур</h1>

<p>Автоматические тесты необходимо выполнять неоднократно. Мы хотели бы выполнять
тесты в некоторых известных состояниях для гарантии повторяемости процесса
тестирования. Эти состояния называются <em>фикстуры</em>. Например, для тестирования
функции создания записи в приложении блога, каждый раз, когда мы выполняем
тесты, таблицы, хранящие соответствующие данные о записях (например, таблицы
<code>Post</code>, <code>Comment</code>), должны быть восстановлены к некоторому фиксированому
состоянию. <a href="http://phpunit.de/manual/3.8/en/fixtures.html">Документация по PHPUnit</a>
хорошо описывает основную установку фикстур. В основном в этом разделе мы
описываем установку фикстур базы данных так, как мы только что описали в
примере.</p>

<p>Установка фикстур базы данных является, наверное, одной из наиболее
длительных частей в тестировании основанных на БД веб-приложений. Yii
вводит компонент приложения <a href="https://www.yiiframework.com/doc/api/1.1/CDbFixtureManager">CDbFixtureManager</a> для облегчения этой проблемы.
В основном он делает следующие вещи при выполнении ряда тестов:</p>

<ul>
<li>Перед выполнением всех тестов сбрасывает все таблицы, относящиеся к тестам к некоторому известному состоянию.</li>
<li>Перед выполнением отдельного тестового метода сбрасывает определенные таблицы к некоторому известному состоянию.</li>
<li>Во время выполнения тестового метода обеспечивает доступ к строкам данных, которые вносятся в фикстуру.</li>
</ul>

<p>Для использования компонента <a href="https://www.yiiframework.com/doc/api/1.1/CDbFixtureManager">CDbFixtureManager</a>, мы настраиваем его в
<a href="https://www.yiiframework.com/doc/guide/1.1/ru/basics.application#application-configuration">конфигурации приложения</a>
следующим образом:</p>

<div class="hl-code"><div class="hl-main"><pre><span class="hl-code">return array(
    'components'=&gt;array(
        'fixture'=&gt;array(
            'class'=&gt;'system.test.CDbFixtureManager',
        ),
    ),
);</span></pre></div></div>

<p>Далее мы сохраняем данные фикстуры в директории <code>protected/tests/fixtures</code>. Эта
директория может быть настроена свойством <a href="https://www.yiiframework.com/doc/api/1.1/CDbFixtureManager#basePath">CDbFixtureManager::basePath</a>
конфигурации приложения. Данные фикстур организованы как коллекция PHP-файлов,
называемых файлами фикстур. Каждый файл фикстуры возвращает массив,
представляющий начальные строки данных для конкретной таблицы. Имя файла -
такое же, как название таблицы. Далее приведен пример данных фикстуры для
таблицы <code>Post</code>, сохраненной в файле <code>Post.php</code>:</p>

<div class="hl-code"><div class="hl-main"><pre><span class="hl-inlinetags">&lt;?php</span>
<span class="hl-reserved">return</span> <span class="hl-reserved">array</span><span class="hl-brackets">(</span>
    <span class="hl-quotes">'</span><span class="hl-string">sample1</span><span class="hl-quotes">'</span><span class="hl-code">=&gt;</span><span class="hl-reserved">array</span><span class="hl-brackets">(</span>
        <span class="hl-quotes">'</span><span class="hl-string">title</span><span class="hl-quotes">'</span><span class="hl-code">=&gt;</span><span class="hl-quotes">'</span><span class="hl-string">Тестовая запись 1</span><span class="hl-quotes">'</span><span class="hl-code">,
        </span><span class="hl-quotes">'</span><span class="hl-string">content</span><span class="hl-quotes">'</span><span class="hl-code">=&gt;</span><span class="hl-quotes">'</span><span class="hl-string">Содержимое тестовой записи 1</span><span class="hl-quotes">'</span><span class="hl-code">,
        </span><span class="hl-quotes">'</span><span class="hl-string">createTime</span><span class="hl-quotes">'</span><span class="hl-code">=&gt;</span><span class="hl-number">1230952187</span><span class="hl-code">,
        </span><span class="hl-quotes">'</span><span class="hl-string">authorId</span><span class="hl-quotes">'</span><span class="hl-code">=&gt;</span><span class="hl-number">1</span><span class="hl-code">,
    </span><span class="hl-brackets">)</span><span class="hl-code">,
    </span><span class="hl-quotes">'</span><span class="hl-string">sample2</span><span class="hl-quotes">'</span><span class="hl-code">=&gt;</span><span class="hl-reserved">array</span><span class="hl-brackets">(</span>
        <span class="hl-quotes">'</span><span class="hl-string">title</span><span class="hl-quotes">'</span><span class="hl-code">=&gt;</span><span class="hl-quotes">'</span><span class="hl-string">Тестовая запись 2</span><span class="hl-quotes">'</span><span class="hl-code">,
        </span><span class="hl-quotes">'</span><span class="hl-string">content</span><span class="hl-quotes">'</span><span class="hl-code">=&gt;</span><span class="hl-quotes">'</span><span class="hl-string">Содержимое тестовой записи 2</span><span class="hl-quotes">'</span><span class="hl-code">,
        </span><span class="hl-quotes">'</span><span class="hl-string">createTime</span><span class="hl-quotes">'</span><span class="hl-code">=&gt;</span><span class="hl-number">1230952287</span><span class="hl-code">,
        </span><span class="hl-quotes">'</span><span class="hl-string">authorId</span><span class="hl-quotes">'</span><span class="hl-code">=&gt;</span><span class="hl-number">1</span><span class="hl-code">,
    </span><span class="hl-brackets">)</span><span class="hl-code">,
</span><span class="hl-brackets">)</span><span class="hl-code">;</span></pre></div></div>

<p>Как видим, в коде выше возвращаются 2 строки данных. Каждая строка представлена
в виде ассоциативного массива, ключи которого — это имена столбцов, а значения
- значения соответствующих столбцов. Кроме того, каждая строка индексирована
строкой (например <code>sample1</code>, <code>sample2</code>), которую называют <em>псевдоним строки</em>.
Позже, когда мы пишем тестовые скрипты, мы можем легко обращаться к строке по
ее псевдониму. Мы опишем это подробно в следующем разделе.</p>

<p>Вы могли заметить, что мы не определяем значения столбца <code>id</code> в коде фикстуры
выше. Это потому, что столбец <code>id</code> — автоинкрементный первичный ключ, значение
которого будет заполнено при вставке новых строк.</p>

<p>При первом обращении к компоненту <a href="https://www.yiiframework.com/doc/api/1.1/CDbFixtureManager">CDbFixtureManager</a> он будет просматривать
каждый файл фикстуры и использовать его для сброса соответствующей таблицы. Он
сбрасывает таблицу, очищая её, сбрасывая значение первичного ключа, и затем
вставляя строки данных из файла фикстуры в таблицу.</p>

<p>Иногда мы не хотим сбрасывать каждую таблицу, имеющую файл фикстуры, прежде,
чем мы выполним ряд тестов, потому что сброс слишком многих файлов фикстур
может занять длительное время. В этом случае, мы можем написать PHP-скрипт для
возможности настройки работы инициализации. PHP-скрипт должен быть сохранен в
файле <code>init.php</code> в той же директории, что и файлы фикстур. Когда компонент
<a href="https://www.yiiframework.com/doc/api/1.1/CDbFixtureManager">CDbFixtureManager</a> обнаружит этот скрипт, он выполнит этот скрипт вместо того,
чтобы сбрасывать каждую таблицу.</p>

<p>Также возможно, что нам не нравится способ сброса таблицы по умолчанию, то
есть, очистка таблицы полностью и вставка данных фикстуры. Если дело обстоит
так, мы можем написать скрипт инициализации для определенного файла фикстуры.
Скрипт должен иметь имя, в начале которого идет имя таблицы, а далее -
<code>.init.php</code>. Например, скрипт инициализации для таблицы <code>Post</code> назывался бы
<code>Post.init.php</code>. Когда компонент <a href="https://www.yiiframework.com/doc/api/1.1/CDbFixtureManager">CDbFixtureManager</a> увидит этот скрипт, он
выполнит скрипт вместо того, чтобы использовать значение сброса таблицы по
умолчанию.</p>

<blockquote class="tip">
<p><strong>Подсказка:</strong> Наличие большого количества файлов фикстур может сильно
  увеличить время выполнения теста. Поэтому, Вы должны создавать файлы фикстур
  только для тех таблиц, содержание которых может измениться во время теста.
  Таблицы, которые служат для просмотра, не изменяются и, таким образом, не
  нуждаются в файлах фикстур.</p>
</blockquote>

<p>В следующих двух разделах мы опишем, как использовать фикстуры, которыми
управляет компонент <a href="https://www.yiiframework.com/doc/api/1.1/CDbFixtureManager">CDbFixtureManager</a>, в модульных и функциональных тестах.</p>

    <div class="prev-next">
        <div class="prev-next__left"><a href="https://www.yiiframework.com/doc/guide/1.1/ru/test.overview"><span class="chevron-left" aria-hidden="true"></span> Обзор</a></div><div class="prev-next__center"><a href="test.fixture.html#top">Go to Top <span class="chevron-up" aria-hidden="true"></span></a></div><div class="prev-next__right"><a href="https://www.yiiframework.com/doc/guide/1.1/ru/test.unit">Модульное тестирование <span class="chevron-right" aria-hidden="true"></span></a></div>    </div>

        <div class="edit-box">
        <div class="edit-icon"><i class="fa fa-github"></i></div>
        <p class="lang-en">
            Found a typo or you think this page needs improvement?<br />
                <a href="https://github.com/yiisoft/yii/edit/master/docs/guide/ru/test.fixture.txt">Edit it on github</a> !
        </p>
    </div>
    
</div>
        </div>
    </div>
</div>

    <div class="comments-wrapper">
        <div class="container comments">
            
<div class="row" id="user-notes">
    <div class="col-md-offset-2 col-md-9">
                    <span class="heading">User Contributed Notes</span>
            </div>
</div>
<div class="row">
    <div class="col-md-offset-2 col-md-9">
        <div class="component-comments lang-en" id="comments">
                    </div>
    </div>
</div>
<div class="row">
    <div class="col-md-offset-2 col-md-9">
        <span class="heading">Leave a comment</span>
    </div>
</div>
<div class="row">
    <div class="col-md-offset-2 col-md-9">
                    <p><a href="https://www.yiiframework.com/signup">Signup</a> or <a href="https://www.yiiframework.com/login">Login</a> in order to comment.</p>
            </div>
</div>
        </div>
    </div>

            <div class="footer-wrapper">
    <footer>
        <div class="container">
            <div class="footer-inner">
                <div class="row">
                    <div class="col-md-2 col-sm-4 hidden-xs">
                        <ul class="footerList">
  <li class="footerList_item">
    <div>About</div>
  </li>
  <li class="footerList_item">
    <a href="https://www.yiiframework.com/doc/guide/2.0/en/intro-yii">About Yii</a>  </li>
  <li class="footerList_item">
    <a href="https://www.yiiframework.com/news">News</a>  </li>
  <li class="footerList_item">
    <a href="https://www.yiiframework.com/license">License</a>  </li>
  <li class="footerList_item">
    <a href="https://www.yiiframework.com/contact">Contact Us</a>  </li>
</ul>
                    </div>
                    <div class="col-md-2 col-sm-4 hidden-xs">
                        <ul class="footerList">
  <li class="footerList_item">
    <div>Downloads</div>
  </li>
  <li class="footerList_item">
    <a href="https://www.yiiframework.com/download">Framework</a>  </li>
  <li class="footerList_item">
    <a href="https://www.yiiframework.com/download#offline-documentation">Documentation</a>  </li>
  <li class="footerList_item">
    <a href="https://www.yiiframework.com/extensions">Extensions</a>  </li>
  <li class="footerList_item">
    <a href="https://www.yiiframework.com/logo">Logo</a>  </li>
</ul>
                    </div>
                    <div class="col-md-2 col-sm-4 hidden-xs">
                        <ul class="footerList">
  <li class="footerList_item">
    <div>Documentation</div>
  </li>
  <li class="footerList_item">
    <a href="https://www.yiiframework.com/doc/guide">Guide</a>  </li>
  <li class="footerList_item">
    <a href="https://www.yiiframework.com/doc/api">API</a>  </li>
  <li class="footerList_item">
    <a href="https://www.yiiframework.com/wiki">Wiki</a>  </li>
  <li class="footerList_item">
    <a href="https://www.yiiframework.com/resources">Resources</a>  </li>
</ul>
                    </div>
                    <div class="col-md-2 col-sm-4 hidden-xs">
                        <ul class="footerList">
  <li class="footerList_item">
    <div>Development</div>
  </li>
  <li class="footerList_item">
    <a href="https://www.yiiframework.com/contribute">Contribute</a>  </li>
  <li class="footerList_item">
    <a href="https://github.com/yiisoft/yii2/commits/master" rel="noopener noreferrer" target="_blank">Latest Updates</a>  </li>
  <li class="footerList_item">
    <a href="https://www.yiiframework.com/report-issue">Report a Bug</a>  </li>
  <li class="footerList_item">
    <a href="https://www.yiiframework.com/security">Report Security Issue</a>  </li>
</ul>
                    </div>
                    <div class="col-md-2 col-sm-4 hidden-xs">
                        <ul class="footerList">
    <li class="footerList_item">
        <div>Community</div>
    </li>
    <li class="footerList_item">
        <a href="https://www.yiiframework.com/forum">Forum</a>    </li>
    <li class="footerList_item">
        <a href="https://www.yiiframework.com/chat">Live Chat</a>    </li>
    <li class="footerList_item">
        <a href="https://www.facebook.com/groups/yiitalk/" target="_blank" rel="noopener noreferrer">Facebook Group</a>
    </li>
    <li class="footerList_item">
        <a href="https://www.yiiframework.com/user/halloffame">Hall of Fame</a>    </li>
    <li class="footerList_item">
        <a href="https://www.yiiframework.com/badges">Badges</a>    </li>
</ul>
                    </div>
                    <div class="col-md-2 col-sm-4 hidden-xs">
                        <ul class="footerList">
  <li class="footerList_item">
      <span class="social">
          <a href="https://github.com/yiisoft" aria-label="GitHub Account" target="_blank" rel="noopener noreferrer"><i class="fa fa-github"></i></a>
          <a href="https://twitter.com/yiiframework" aria-label="Twitter Account" target="_blank" rel="noopener noreferrer"><i class="fa fa-twitter"></i></a>
          <a href="https://www.facebook.com/groups/yiitalk/" aria-label="Facebook Group" target="_blank" rel="noopener noreferrer"><i class="fa fa-facebook"></i></a>
          <a href="https://www.yiiframework.com/rss.xml" aria-label="RSS Feed"><i class="fa fa-rss"></i></a>      </span>
  </li>
  <li class="footerList_item">
    <a href="https://www.yiiframework.com/tos">Terms of service</a>  </li>
  <li class="footerList_item">
      <a href="https://www.yiiframework.com/license">License</a>  </li>
  <li class="footerList_item">
      <a href="https://github.com/yiisoft-contrib/yiiframework.com" target="_blank" rel="noopener noreferrer">Website Source Code</a>
  </li>
  <li class="footerList_item">
      &nbsp;
  </li>
  <li class="footerList_item">
    &copy; 2008 - 2022 Yii
  </li>
  <li class="footerList_item">
      Design: <a href="https://www.eshill.ru/" target="_blank" rel="noopener noreferrer">Eshill</a>
  </li>
</ul>
                    </div>
                    <div class="col-xs-12 hidden-sm hidden-md hidden-lg">
                        <div class="center-block">
                            <div>
                                <ul class="footerList">
  <li class="footerList_item">
      <span class="social">
          <a href="https://github.com/yiisoft" aria-label="GitHub Account" target="_blank" rel="noopener noreferrer"><i class="fa fa-github"></i></a>
          <a href="https://twitter.com/yiiframework" aria-label="Twitter Account" target="_blank" rel="noopener noreferrer"><i class="fa fa-twitter"></i></a>
          <a href="https://www.facebook.com/groups/yiitalk/" aria-label="Facebook Group" target="_blank" rel="noopener noreferrer"><i class="fa fa-facebook"></i></a>
          <a href="https://www.yiiframework.com/rss.xml" aria-label="RSS Feed"><i class="fa fa-rss"></i></a>      </span>
  </li>
  <li class="footerList_item">
    <a href="https://www.yiiframework.com/tos">Terms of service</a>  </li>
  <li class="footerList_item">
      <a href="https://www.yiiframework.com/license">License</a>  </li>
  <li class="footerList_item">
      <a href="https://github.com/yiisoft-contrib/yiiframework.com" target="_blank" rel="noopener noreferrer">Website Source Code</a>
  </li>
  <li class="footerList_item">
      &nbsp;
  </li>
  <li class="footerList_item">
    &copy; 2008 - 2022 Yii
  </li>
  <li class="footerList_item">
      Design: <a href="https://www.eshill.ru/" target="_blank" rel="noopener noreferrer">Eshill</a>
  </li>
</ul>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-12 text-center">
                        <ul class="footerList">
    <li class="footerList_item">
        <div>Supported by</div>
    </li>
    <li class="footerList_item">
            <a href="https://opencollective.com/yiisoft" aria-label="OpenCollective" target="_blank" rel="noopener
            noreferrer"><img
                    alt="OpenCollective" height="40" src="https://www.yiiframework.com/image/collective.png"/></a>
    </li>
    <li class="footerList_item">
        <a href="https://www.jetbrains.com/?from=yii" aria-label="JetBrains website" target="_blank" rel="noopener
        noreferrer"><img
                alt="JetBrains logo" width="80" src="https://www.yiiframework.com/image/jetbrains.svg"/></a>
    </li>
</ul>




                    </div>
                </div>
            </div>
        </div>
    </footer>
</div>

        </div> <!-- close the id="page-wrapper" -->

        <script src="https://www.yiiframework.com/assets/85247087/js/all.min.js?v=1645275708"></script>
<script>jQuery(function ($) {

  $('[data-toggle="offcanvas"]').click(function () {
    $('.row-offcanvas').toggleClass('active')
  });

});</script>    </body>
</html>
