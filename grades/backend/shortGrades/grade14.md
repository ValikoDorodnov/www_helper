## Грейд 14

### Theory

#### Принципы разработки: GRASP  

GRASP — General Responsibility Assignment Software Patterns  
(основные шаблоны распределения обязанностей в программном обеспечении)  

GRASP состоит из 9 шаблонов:
- Creator
- Information Expert
- Controller
- Low Coupling
- High Cohesion
- Pure Fabrication
- Indirection
- Polymorphism
- Protected Variations

#### Creator
Шаблон creator говорит нам какие условия должны соблюстись, что бы объекты верно порождали друг друга. 
Для этого есть несколько правил.  

Объект А должен порождать объект Б, если:
- объект А содержит или агрегирует объекты Б (содержит в себе как свойство или коллекцию)
- объект А активно использует объекты Б (основной объем работы с объектом Б происходит посредством объекта А)
- объект А обладает данными инициализации объекта Б (каждый раз при создании объекта Б, данные берутся из объекта А)

![grasp_creator.png](../../../assets/images/grasp_creator.png)

#### Information Expert
Информационный эксперт занимается предоставлением информации об объекте.  

Information Expert должен отвечать на такие вопросы:
- Кто должен знать кол-во комментариев к посту? (Post)
- Кто должен знать общее кол-во комментариев в блоге? (Blog -> Post)

![grasp_creator.png](../../../assets/images/grasp_information_expert.png)

#### Controller (endpoint, ручка)
Обязанности по обработке входящих системных сообщений необходимо делегировать специальному объекту Controller'у.  
Controller — это объект, который отвечает за обработку системных событий, и при этом не относится к  
интерфейсу пользователя. Controller определяет методы для выполнения системных операций.  
Это не что иное, как C из аббревиатуры MVC

#### Low Coupling
Это принцип распределения обязанностей, который помогает делать части системы зависимыми от от наименьшего количества  
других частей. Тоесть организовать слабое зацепление модулей.  

Низкая связанность, отвечает за то, что бы объекты в системе знали друг о друге как можно меньше. Ведь чем меньше  
объект знает о других объектах, тем больше будет изолировано и тем меньше правок необходимо будет делать, если  
в системе что-то поменяется. 

Хорошим примером Low Coupling может случить реализация Dependency inversion  
Мы не выстраиваем жестких связей внутри классов, а передаем их через конструктор, аргументы методов, сеттеры.  

#### High Cohesion
High Cohesion твердит, что класс должен стараться выполнять как можно меньше не специфичных для него задач,  
и иметь вполне определенную область применения.  
В этом подходе идет отсылка на Single responsibility.  

#### Pure Fabrication
Паттерн синтезирует в себе Low Coupling и High Cohesion, в пример приводится условный класс Shape и задание на сохранение  
его в базу данных. Для этого следует выделить отдельный класс DbStore (или лучше ShapeRepository) перенеся отвественность  
за работу с БД с класса Shape на ShapeRepository.

#### Indirection
Этот шаблон решает проблему прямой связности. Решается введением промежуточного объекта для обеспечения связи  
между частями программы, которые не связаны между собой напрямую.  
Так же вариантами посредника являются шаблоны Adapter, Facade, Observer.  
Паттерн подразумевает следующее: любой объект в коде необходимо вызывать через его интерфейс  
(тот самый промежуточный объект).  

#### Polymorphism
Полиморфизм позволяет обрабатывать альтернативные варианты поведения на основе типа и заменять подключаемые  
компоненты системы.  
Другой, более продвинутый пример полиморфизма: с абстрактным классом. Абстрактный класс, это класс, который  
содержит хотя бы один абстрактный метод.  

#### Protected Variations
Необходимо спроектировать систему так, чтобы изменение одних ее элементов не влияло на другие. В качестве  
решения предлагается идентифицировать точки возмоджных изменений или неустойчивости и распределить обязанности  
таким образом, чтобы обеспечить устойчивую работу системы.
На самом деле, это не паттерн, а цель, достигаемая соблюдением остальных паттернов.  